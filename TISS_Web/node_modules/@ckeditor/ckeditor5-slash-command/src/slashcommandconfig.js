/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{icons as _0x50bd80,Plugin as _0x223c18}from'ckeditor5/src/core.js';import{icons as _0x127d34}from'ckeditor5-collaboration/src/collaboration-core.js';import{CKEditorError as _0x17dae0}from'ckeditor5/src/utils.js';import'./slashcommandeditorconfig.js';export default class o extends _0x223c18{static get['pluginName'](){return'SlashCommandConfig';}constructor(_0xbce9d7){super(_0xbce9d7),this['_allowedCommands']=null;}['afterInit'](){const _0x2e1e7c=this['editor']['config']['get']('slashCommand.removeCommands')||[],_0x2f38b4=function(_0x5ceda7){let _0x26feb0=['heading4','heading5','heading6'];if(_0x5ceda7){const _0xaa5889=_0x5ceda7['map'](_0x49b513=>_0x49b513['model']);_0x26feb0=['heading1','heading2','heading3','heading4','heading5','heading6']['filter'](_0x42e8af=>!_0xaa5889['includes'](_0x42e8af));}return _0x26feb0;}(this['editor']['config']['get']('heading.options'));let _0x53d575=this['getDefaultCommands']()['filter'](_0x262f87=>!_0x2f38b4['includes'](_0x262f87['id']))['filter'](_0x3fa7fc=>!_0x2e1e7c['includes'](_0x3fa7fc['commandName']));const _0x5c8a6c=this['editor']['config']['get']('slashCommand.extraCommands');_0x5c8a6c&&_0x5c8a6c['length']&&(_0x53d575=_0x53d575['concat'](_0x5c8a6c));const _0x3aefe7=this['editor']['config']['get']('template.definitions');_0x3aefe7&&_0x3aefe7['length']&&(_0x53d575=_0x53d575['concat'](function(_0x19c005){return _0x19c005['map'](_0x114725=>{const {title:_0x5d2b2d,icon:_0x1d32f5,description:_0x366841,data:_0x537af0}=_0x114725,_0x11d8b1={'id':c(_0x5d2b2d,'template'),'commandName':'insertTemplate','execute':_0x270fca=>{_0x270fca['execute']('insertTemplate',_0x537af0);},'description':_0x366841,'icon':_0x1d32f5,'title':_0x5d2b2d};return _0x1d32f5&&(_0x11d8b1['isIconColorInherited']=!0x1),_0x11d8b1;});}(_0x3aefe7)));const _0x1dd8f4=this['editor']['config']['get']('style.definitions');_0x1dd8f4&&_0x1dd8f4['length']&&(_0x53d575=_0x53d575['concat'](function(_0x513e97){return _0x513e97['map'](_0x417aca=>({'id':c(_0x417aca['name'],'style'),'commandName':'style','execute':_0xe357d=>{_0xe357d['execute']('style',{'styleName':_0x417aca['name']});},'isEnabled':_0x14848f=>{const _0x516b6e=_0x14848f['commands']['get']('style');return _0x516b6e['isEnabled']&&_0x516b6e['enabledStyles']['includes'](_0x417aca['name']);},'title':_0x417aca['name']}));}(_0x1dd8f4)));const _0x1d8674=_0x53d575['filter'](_0x14816b=>!_0x14816b['commandName']||void 0x0!==this['editor']['commands']['get'](_0x14816b['commandName'])),_0x15140d=[];for(const _0x268a1c of _0x1d8674)_0x15140d['push']({'id':_0x268a1c['id'],'commandName':_0x268a1c['commandName'],'title':'function'==typeof _0x268a1c['title']?_0x268a1c['title'](this['editor']):_0x268a1c['title'],'description':_0x268a1c['description'],'icon':_0x268a1c['icon'],'isIconColorInherited':_0x268a1c['isIconColorInherited'],'aliases':_0x268a1c['aliases'],'isEnabled':()=>this['_proxyIsEnabled'](_0x268a1c),'execute':()=>this['_proxyExecute'](_0x268a1c)});this['_allowedCommands']=_0x15140d['sort'](d);}['getAllowedCommands'](){return this['_allowedCommands'];}['getDefaultCommands'](){const t=this['editor']['t'],_0x7cfde1=this['editor']['locale']['t'];return[{'id':'aiAssistant','commandName':'showAIAssistant','icon':_0x127d34['robotPencil'],'title':_0x7cfde1('AI\x20Assistant'),'description':t('Open\x20the\x20AI\x20Assistant\x20to\x20generate\x20content'),'execute':_0x403247=>{setTimeout(()=>_0x403247['execute']('showAIAssistant'));}},{'id':'blockQuote','commandName':'blockQuote','icon':_0x50bd80['quote'],'title':_0x7cfde1('Block\x20quote'),'description':t('Create\x20a\x20block\x20quote')},{'id':'bulletedList','commandName':'bulletedList','icon':_0x50bd80['bulletedList'],'title':_0x7cfde1('Bulleted\x20list'),'description':t('Create\x20a\x20bulleted\x20list')},{'id':'codeBlock','commandName':'codeBlock','icon':_0x50bd80['codeBlock'],'title':_0x7cfde1('Insert\x20code\x20block'),'description':t('Create\x20a\x20code\x20block')},{'id':'ckbox','commandName':'ckbox','icon':_0x50bd80['browseFiles'],'title':_0x7cfde1('Open\x20file\x20manager'),'description':t('Open\x20file\x20manager\x20to\x20insert\x20an\x20image\x20or\x20a\x20file'),'aliases':['ckfinder','filemanager','upload']},{'id':'ckfinder','commandName':'ckfinder','icon':_0x50bd80['browseFiles'],'title':_0x7cfde1('Insert\x20image'),'description':t('Open\x20file\x20browser\x20to\x20insert\x20an\x20image\x20or\x20a\x20file'),'aliases':['ckbox','filemanager','upload']},{'id':'heading1','commandName':'heading','icon':_0x50bd80['heading1'],'title':_0x7cfde1('Heading\x201'),'description':t('Create\x20a\x20heading\x20level\x201'),'execute':_0x11d808=>{_0x11d808['execute']('heading',{'value':'heading1'});}},{'id':'heading2','commandName':'heading','icon':_0x50bd80['heading2'],'title':_0x7cfde1('Heading\x202'),'description':t('Create\x20a\x20heading\x20level\x202'),'execute':_0x137cdc=>{_0x137cdc['execute']('heading',{'value':'heading2'});}},{'id':'heading3','commandName':'heading','icon':_0x50bd80['heading3'],'title':_0x7cfde1('Heading\x203'),'description':t('Create\x20a\x20heading\x20level\x203'),'execute':_0x160bea=>{_0x160bea['execute']('heading',{'value':'heading3'});}},{'id':'heading4','commandName':'heading','icon':_0x50bd80['heading4'],'title':_0x7cfde1('Heading\x204'),'description':t('Create\x20a\x20heading\x20level\x204'),'execute':_0x59e7a7=>{_0x59e7a7['execute']('heading',{'value':'heading4'});}},{'id':'heading5','commandName':'heading','icon':_0x50bd80['heading5'],'title':_0x7cfde1('Heading\x205'),'description':t('Create\x20a\x20heading\x20level\x205'),'execute':_0x4c336a=>{_0x4c336a['execute']('heading',{'value':'heading5'});}},{'id':'heading6','commandName':'heading','icon':_0x50bd80['heading6'],'title':_0x7cfde1('Heading\x206'),'description':t('Create\x20a\x20heading\x20level\x206'),'execute':_0x262f21=>{_0x262f21['execute']('heading',{'value':'heading6'});}},{'id':'horizontalLine','commandName':'horizontalLine','icon':_0x50bd80['horizontalLine'],'title':_0x7cfde1('Horizontal\x20line'),'description':t('Insert\x20a\x20horizontal\x20line')},{'id':'htmlEmbed','commandName':'htmlEmbed','icon':_0x50bd80['html'],'title':_0x7cfde1('Insert\x20HTML'),'description':t('Insert\x20an\x20HTML\x20snippet')},{'id':'indent','commandName':'indent','icon':_0x50bd80['indent'],'title':_0x7cfde1('Increase\x20indent'),'description':t('Increase\x20the\x20indentation')},{'id':'insertMermaidCommand','commandName':'insertMermaidCommand','title':t('Insert\x20Mermaid\x20diagram'),'description':t('Insert\x20the\x20Mermaid\x20diagram')},{'id':'insertTable','commandName':'insertTable','icon':_0x50bd80['table'],'title':_0x7cfde1('Insert\x20table'),'description':t('Create\x20a\x20table')},{'id':'insertTableOfContents','commandName':'insertTableOfContents','icon':_0x127d34['tableOfContents'],'title':_0x7cfde1('Table\x20of\x20contents'),'description':t('Insert\x20table\x20of\x20contents'),'aliases':['toc']},{'id':'numberedList','commandName':'numberedList','icon':_0x50bd80['numberedList'],'title':_0x7cfde1('Numbered\x20list'),'description':t('Create\x20a\x20numbered\x20list')},{'id':'outdent','commandName':'outdent','icon':_0x50bd80['outdent'],'title':_0x7cfde1('Decrease\x20indent'),'description':t('Decrease\x20the\x20indentation')},{'id':'paragraph','commandName':'paragraph','icon':_0x50bd80['paragraph'],'title':_0x7cfde1('Paragraph'),'description':t('Insert\x20a\x20paragraph')},{'id':'todoList','commandName':'todoList','icon':_0x50bd80['todoList'],'title':_0x7cfde1('To-do\x20list'),'description':t('Create\x20a\x20to-do\x20list')}];}['_proxyIsEnabled'](_0x1a46a8){return _0x1a46a8['isEnabled']?_0x1a46a8['isEnabled'](this['editor']):!_0x1a46a8['commandName']||this['editor']['commands']['get'](_0x1a46a8['commandName'])['isEnabled'];}['_proxyExecute'](_0xcf1fbf){if(_0xcf1fbf['execute'])_0xcf1fbf['execute'](this['editor']);else{if(!_0xcf1fbf['commandName'])throw new _0x17dae0('slash-command-execute-missing',this['editor'],{'commandDefinition':_0xcf1fbf});this['editor']['execute'](_0xcf1fbf['commandName']);}}}function d(_0x2f9203,_0x4177b0){return _0x2f9203['title']<_0x4177b0['title']?-0x1:_0x2f9203['title']>_0x4177b0['title']?0x1:0x0;}function c(_0x12cd36,_0x2a8bcd){return _0x2a8bcd+'-'+_0x12cd36['toLowerCase']()['split']('\x20')['join']('-');}