/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x9c35(_0x4c4593,_0x88499a){const _0x16a736=_0x16a7();return _0x9c35=function(_0x9c3513,_0x265a71){_0x9c3513=_0x9c3513-0xc6;let _0x3d064c=_0x16a736[_0x9c3513];return _0x3d064c;},_0x9c35(_0x4c4593,_0x88499a);}function _0x16a7(){const _0x5535f3=['add','function','registerElementLabel','pop','_schema','end','4516456Fntmcy','matchingCallback','set','removeFormat','addFormat','elementStart','_handleAttributeSuggestionDescription','format','addObject','EmptyContainer','registerDescriptionCallback','start','_itemLabels','type','3xRgHmK','checkChild','_handleRenameSuggestionDescription','addContainer','_handleInsertRemoveSuggestionDescription','isObject','key','addEmptyContainer','_customCallbacks','$1\x20$2','*Remove:*\x20%0','1669486nfCRgd','newValue','nodeAfter','indexOf','_attributeLabels','text','removeEmptyContainer','push','$text','removeContainer','*Insert:*\x20%0','softBreak','getDescriptions','566273INIoKt','attribute','subType','remove','quantity','ELEMENT_SPACE','item','skip','replace','_itemLabelsCallbacks','removeObject','isEmpty','match','*Remove\x20format:*\x20%0','*Split:*\x20%0','elementEnd','getWalker','element','previousSibling','data','normal','1454626VfTEzc','name','REPLACE_TEXT','285612eHEuFE','_resolveDescriptionItems','length','get','*Merge:*\x20%0','isEqual','registerAttributeLabel','*Change\x20to:*\x20%0','_addDescriptionItems','insertion','getItemLabel','Container','getFirstRange','5737152vhagMz','_handleCustomCallbackDescription','label','_locale','join','isInContent','map','*Set\x20format:*\x20%0','deletion','2186155TUliuM','has','nextSibling','$textProxy','Object'];_0x16a7=function(){return _0x5535f3;};return _0x16a7();}const _0x5a7885=_0x9c35;(function(_0x52d45a,_0x362bbe){const _0x31abf3=_0x9c35,_0x58eea8=_0x52d45a();while(!![]){try{const _0x5a023a=-parseInt(_0x31abf3(0xc6))/0x1+-parseInt(_0x31abf3(0xdb))/0x2*(parseInt(_0x31abf3(0x10d))/0x3)+parseInt(_0x31abf3(0xde))/0x4+parseInt(_0x31abf3(0xf4))/0x5+parseInt(_0x31abf3(0xeb))/0x6+-parseInt(_0x31abf3(0x118))/0x7+parseInt(_0x31abf3(0xff))/0x8;if(_0x5a023a===_0x362bbe)break;else _0x58eea8['push'](_0x58eea8['shift']());}catch(_0x1b98ab){_0x58eea8['push'](_0x58eea8['shift']());}}}(_0x16a7,0x79693));import{getTranslation as _0x450b93}from'./utils/common-translations.js';import{priorities as _0x549d41,insertToPriorityArray as _0x19960e}from'ckeditor5/src/utils.js';import{renameAttributeKey as _0x153b47}from'./trackchangesediting.js';export default class f{constructor(_0x33ce22,_0x4df7d1){const _0x20bc24=_0x9c35;this[_0x20bc24(0x115)]=[],this[_0x20bc24(0x10b)]=new Map(),this[_0x20bc24(0xcf)]=[],this[_0x20bc24(0x11c)]=new Map(),this[_0x20bc24(0xfd)]=_0x33ce22,this[_0x20bc24(0xee)]=_0x4df7d1;}[_0x5a7885(0x124)](_0x32b85c){const _0x25fb91=_0x5a7885,_0x3cff2b=[],_0x863278=new Set(),_0x569a1d=new Set();for(let _0x293b3d=0x0;_0x293b3d<_0x32b85c[_0x25fb91(0xe0)];_0x293b3d++){const _0x47d04b=_0x32b85c[_0x293b3d];if(!_0x47d04b[_0x25fb91(0xf0)])continue;const _0x2e08c1=this[_0x25fb91(0xec)](_0x47d04b);if(_0x2e08c1){if(null!=_0x47d04b[_0x25fb91(0xc8)]){if(_0x863278[_0x25fb91(0xf5)](_0x47d04b[_0x25fb91(0xc8)]))continue;_0x863278[_0x25fb91(0xf9)](_0x47d04b[_0x25fb91(0xc8)]);}_0x3cff2b[_0x25fb91(0x11f)](_0x2e08c1);}else{if(_0x25fb91(0xc7)!=_0x47d04b[_0x25fb91(0x10c)])_0x25fb91(0xe7)!=_0x47d04b[_0x25fb91(0x10c)]&&_0x25fb91(0xf3)!=_0x47d04b[_0x25fb91(0x10c)]||this[_0x25fb91(0x111)](_0x3cff2b,_0x47d04b,_0x32b85c[_0x293b3d+0x1]);else{const _0x5eab28=_0x47d04b[_0x25fb91(0xd9)][_0x25fb91(0x113)];if(_0x569a1d[_0x25fb91(0xf5)](_0x5eab28))continue;_0x569a1d[_0x25fb91(0xf9)](_0x47d04b[_0x25fb91(0xd9)][_0x25fb91(0x113)]),_0x5eab28==_0x153b47?this[_0x25fb91(0x10f)](_0x3cff2b,_0x47d04b):this[_0x25fb91(0x105)](_0x3cff2b,_0x47d04b);}}}return this[_0x25fb91(0xdf)](_0x3cff2b);}[_0x5a7885(0x109)](_0x3d80b5){const _0x3c0102=_0x5a7885;this[_0x3c0102(0x115)][_0x3c0102(0x11f)](_0x3d80b5);}[_0x5a7885(0xfb)](_0x424758,_0x6b0948,_0x37d254=_0x549d41[_0x5a7885(0xda)]){const _0x54e598=_0x5a7885;_0x54e598(0xfa)==typeof _0x424758?_0x19960e(this[_0x54e598(0xcf)],{'matchingCallback':_0x424758,'label':_0x6b0948,'priority':_0x37d254}):this[_0x54e598(0x10b)][_0x54e598(0x101)](_0x424758,_0x6b0948);}[_0x5a7885(0xe4)](_0xdf267,_0x3dd149){const _0x40cacc=_0x5a7885;this[_0x40cacc(0x11c)][_0x40cacc(0x101)](_0xdf267,_0x3dd149);}[_0x5a7885(0xe8)](_0x263937,_0x590057=0x1){const _0x41cece=_0x5a7885;let _0x42cf5e;for(const _0x5ad900 of this[_0x41cece(0xcf)])if(_0x5ad900[_0x41cece(0x100)](_0x263937)){_0x42cf5e=_0x5ad900[_0x41cece(0xed)];break;}return _0x42cf5e||(_0x42cf5e=this[_0x41cece(0x10b)][_0x41cece(0xe1)](_0x263937[_0x41cece(0xdc)])),_0x42cf5e?_0x42cf5e(_0x590057):0x1!==_0x590057?_0x590057+'\x20'+_0x263937[_0x41cece(0xdc)]+'s':''+_0x263937[_0x41cece(0xdc)];}[_0x5a7885(0xe6)](_0x31cfa9,_0x287157){const _0x50084e=_0x5a7885,_0x1c7cbf=_0x287157[_0x50084e(0xea)]()[_0x50084e(0xd6)](),_0x295291=_0x50084e(0xe7)==_0x287157[_0x50084e(0x10c)]?_0x50084e(0xf9):_0x50084e(0xc9);for(const _0xb7603 of _0x1c7cbf){const _0x24a531=_0xb7603[_0x50084e(0xcc)],_0x4c96bb=_0x31cfa9[_0x31cfa9[_0x50084e(0xe0)]-0x1];if(_0x24a531['is'](_0x50084e(0xf7)))_0x4c96bb&&_0x4c96bb[_0x50084e(0x10c)][_0x50084e(0x11b)](_0x50084e(0xe9))>-0x1&&_0x31cfa9[_0x50084e(0xfc)](),_0x4c96bb&&_0x50084e(0x11d)==_0x4c96bb[_0x50084e(0x10c)]?_0x4c96bb[_0x295291]+=_0x24a531[_0x50084e(0xd9)]:_0x31cfa9[_0x50084e(0x11f)]({'type':_0x50084e(0x11d),'add':_0x50084e(0xf9)==_0x295291?_0x24a531[_0x50084e(0xd9)]:'','remove':_0x50084e(0xc9)==_0x295291?_0x24a531[_0x50084e(0xd9)]:''});else{if(this[_0x50084e(0xfd)][_0x50084e(0x112)](_0x24a531)){const _0x2fc5ae=_0x24a531;if(_0x4c96bb&&_0x4c96bb[_0x50084e(0x10c)][_0x50084e(0x11b)](_0x50084e(0xe9))>-0x1&&_0x31cfa9[_0x50084e(0xfc)](),_0x50084e(0xd5)==_0xb7603[_0x50084e(0x10c)])continue;_0x4c96bb&&_0x4c96bb[_0x50084e(0x10c)]==_0x295291+_0x50084e(0xf8)&&_0x4c96bb[_0x50084e(0xd7)][_0x50084e(0xdc)]==_0x2fc5ae[_0x50084e(0xdc)]?_0x4c96bb[_0x50084e(0xca)]++:_0x31cfa9[_0x50084e(0x11f)]({'type':_0x295291+_0x50084e(0xf8),'element':_0x2fc5ae,'quantity':0x1}),_0x1c7cbf[_0x50084e(0xcd)](_0x16d12d=>!(_0x50084e(0xd5)==_0x16d12d[_0x50084e(0x10c)]&&_0x16d12d[_0x50084e(0xcc)]==_0x24a531));}else{if(this[_0x50084e(0xfd)][_0x50084e(0x10e)](_0x24a531,_0x50084e(0x120))||_0x24a531['is'](_0x50084e(0xd7),_0x50084e(0x123))){const _0x20ecd7=_0x24a531;if(_0x50084e(0xf9)==_0x295291&&_0x50084e(0x104)==_0xb7603[_0x50084e(0x10c)]||_0x50084e(0xc9)==_0x295291&&_0x50084e(0xd5)==_0xb7603[_0x50084e(0x10c)])continue;if(_0x4c96bb&&-0x1==_0x4c96bb[_0x50084e(0x10c)][_0x50084e(0x11b)](_0x50084e(0xe9))){_0x50084e(0x11d)==_0x4c96bb[_0x50084e(0x10c)]&&(_0x4c96bb[_0x295291]+='\x0a');continue;}let _0x45c7f2;if(_0x45c7f2=_0x50084e(0xf9)==_0x295291?_0x20ecd7[_0x50084e(0xf6)]&&!this[_0x50084e(0xfd)][_0x50084e(0x112)](_0x20ecd7[_0x50084e(0xf6)])?_0x20ecd7[_0x50084e(0xf6)]:null:_0x20ecd7[_0x50084e(0xd8)]&&!this[_0x50084e(0xfd)][_0x50084e(0x112)](_0x20ecd7[_0x50084e(0xd8)])?_0x20ecd7[_0x50084e(0xd8)]:null,_0x20ecd7[_0x50084e(0xd1)]||_0x45c7f2&&_0x45c7f2[_0x50084e(0xd1)]){const _0x3f8d2b=_0x45c7f2&&_0x45c7f2[_0x50084e(0xd1)]?_0x45c7f2:_0x20ecd7;_0x4c96bb&&_0x4c96bb[_0x50084e(0x10c)]==_0x295291+_0x50084e(0x108)&&_0x4c96bb[_0x50084e(0xd7)][_0x50084e(0xdc)]==_0x3f8d2b[_0x50084e(0xdc)]?_0x4c96bb[_0x50084e(0xca)]++:_0x31cfa9[_0x50084e(0x11f)]({'type':_0x295291+_0x50084e(0x108),'element':_0x3f8d2b,'quantity':0x1});}else _0x31cfa9[_0x50084e(0x11f)]({'type':_0x295291+_0x50084e(0xe9),'element':_0x20ecd7});}}}}}[_0x5a7885(0xdf)](_0x5ee642){const _0x2bab2c=_0x5a7885,_0x54b780=this[_0x2bab2c(0xee)],_0x1d68b5=[],_0x4ccb36=[],_0x445d51=[];for(const _0x2d8bce of _0x5ee642)switch(_0x2d8bce[_0x2bab2c(0x10c)]){case _0x2bab2c(0x11d):if(_0x2d8bce[_0x2bab2c(0xf9)]=_0x2d8bce[_0x2bab2c(0xf9)][_0x2bab2c(0xce)](/(\S)\u000A+(\S)/g,_0x2bab2c(0x116))[_0x2bab2c(0xce)](/\u000A/g,''),_0x2d8bce[_0x2bab2c(0xc9)]=_0x2d8bce[_0x2bab2c(0xc9)][_0x2bab2c(0xce)](/(\S)\u000A+(\S)/g,_0x2bab2c(0x116))[_0x2bab2c(0xce)](/\u000A/g,''),''!=_0x2d8bce[_0x2bab2c(0xf9)]&&''!=_0x2d8bce[_0x2bab2c(0xc9)]){_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0xce),'content':_0x450b93(_0x54b780,_0x2bab2c(0xdd),['\x22'+_0x2d8bce[_0x2bab2c(0xc9)]+'\x22','\x22'+_0x2d8bce[_0x2bab2c(0xf9)]+'\x22'])});continue;}if(null!=_0x2d8bce[_0x2bab2c(0xf9)][_0x2bab2c(0xd2)](/^ +$/)){_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0xe7),'content':_0x450b93(_0x54b780,_0x2bab2c(0x122),_0x450b93(_0x54b780,_0x2bab2c(0xcb),_0x2d8bce[_0x2bab2c(0xf9)][_0x2bab2c(0xe0)]))});continue;}if(null!=_0x2d8bce[_0x2bab2c(0xc9)][_0x2bab2c(0xd2)](/^ +$/)){_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0xf3),'content':_0x450b93(_0x54b780,_0x2bab2c(0x117),_0x450b93(_0x54b780,_0x2bab2c(0xcb),_0x2d8bce[_0x2bab2c(0xc9)][_0x2bab2c(0xe0)]))});continue;}if(''!=_0x2d8bce[_0x2bab2c(0xf9)]){_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0xe7),'content':_0x450b93(_0x54b780,_0x2bab2c(0x122),'\x22'+_0x2d8bce[_0x2bab2c(0xf9)]+'\x22')});continue;}_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0xf3),'content':_0x450b93(_0x54b780,_0x2bab2c(0x117),'\x22'+_0x2d8bce[_0x2bab2c(0xc9)]+'\x22')});continue;case _0x2bab2c(0x114):case _0x2bab2c(0x107):_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0xe7),'content':_0x450b93(_0x54b780,_0x2bab2c(0x122),this[_0x2bab2c(0xe8)](_0x2d8bce[_0x2bab2c(0xd7)],_0x2d8bce[_0x2bab2c(0xca)]))});continue;case _0x2bab2c(0x11e):case _0x2bab2c(0xd0):_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0xf3),'content':_0x450b93(_0x54b780,_0x2bab2c(0x117),this[_0x2bab2c(0xe8)](_0x2d8bce[_0x2bab2c(0xd7)],_0x2d8bce[_0x2bab2c(0xca)]))});continue;case _0x2bab2c(0x110):_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0xe7),'content':_0x450b93(_0x54b780,_0x2bab2c(0xd4),this[_0x2bab2c(0xe8)](_0x2d8bce[_0x2bab2c(0xd7)],_0x2d8bce[_0x2bab2c(0xca)]))});continue;case _0x2bab2c(0x121):_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0xf3),'content':_0x450b93(_0x54b780,_0x2bab2c(0xe2),this[_0x2bab2c(0xe8)](_0x2d8bce[_0x2bab2c(0xd7)],_0x2d8bce[_0x2bab2c(0xca)]))});continue;case _0x2bab2c(0x103):_0x4ccb36[_0x2bab2c(0x11f)](_0x2d8bce[_0x2bab2c(0x113)]);continue;case _0x2bab2c(0x102):_0x445d51[_0x2bab2c(0x11f)](_0x2d8bce[_0x2bab2c(0x113)]);continue;default:_0x1d68b5[_0x2bab2c(0x11f)](_0x2d8bce);}if(_0x4ccb36[_0x2bab2c(0xe0)]){const _0x19042f=_0x4ccb36[_0x2bab2c(0xf1)](_0x2b1665=>this[_0x2bab2c(0x11c)][_0x2bab2c(0xf5)](_0x2b1665)?this[_0x2bab2c(0x11c)][_0x2bab2c(0xe1)](_0x2b1665):_0x2b1665)[_0x2bab2c(0xef)](',\x20');_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0x106),'content':_0x450b93(this[_0x2bab2c(0xee)],_0x2bab2c(0xf2),_0x19042f)});}if(_0x445d51[_0x2bab2c(0xe0)]){const _0x185add=_0x445d51[_0x2bab2c(0xf1)](_0x5127c6=>this[_0x2bab2c(0x11c)][_0x2bab2c(0xf5)](_0x5127c6)?this[_0x2bab2c(0x11c)][_0x2bab2c(0xe1)](_0x5127c6):_0x5127c6)[_0x2bab2c(0xef)](',\x20');_0x1d68b5[_0x2bab2c(0x11f)]({'type':_0x2bab2c(0x106),'content':_0x450b93(this[_0x2bab2c(0xee)],_0x2bab2c(0xd3),_0x185add)});}return _0x1d68b5;}[_0x5a7885(0xec)](_0x37df83){const _0x4e0243=_0x5a7885;for(const _0x1b43e9 of this[_0x4e0243(0x115)]){const _0x3d841a=_0x1b43e9(_0x37df83);if(_0x3d841a&&_0x4e0243(0x10c)in _0x3d841a)return _0x3d841a;}}[_0x5a7885(0x105)](_0x1700f3,_0x3ce17a){const _0x47bc8b=_0x5a7885,_0x1a77d9=_0x3ce17a[_0x47bc8b(0xd9)],_0x3a8634=void 0x0===_0x1a77d9[_0x47bc8b(0x119)]?_0x47bc8b(0x102):_0x47bc8b(0x103);_0x1700f3[_0x47bc8b(0x11f)]({'type':_0x3a8634,'key':_0x1a77d9[_0x47bc8b(0x113)]});}[_0x5a7885(0x10f)](_0x144ea1,_0x1f50f3){const _0x228691=_0x5a7885;_0x144ea1[_0x228691(0x11f)]({'type':_0x228691(0x106),'content':_0x450b93(this[_0x228691(0xee)],_0x228691(0xe5),this[_0x228691(0xe8)](_0x1f50f3[_0x228691(0xea)]()[_0x228691(0x10a)][_0x228691(0x11a)],0x1))});}[_0x5a7885(0x111)](_0x4ed4aa,_0x4755a9,_0x12945e){const _0x340424=_0x5a7885;if(this[_0x340424(0xe6)](_0x4ed4aa,_0x4755a9),_0x12945e&&_0x12945e[_0x340424(0xea)]()&&!_0x4755a9[_0x340424(0xea)]()[_0x340424(0xfe)][_0x340424(0xe3)](_0x12945e[_0x340424(0xea)]()[_0x340424(0x10a)])){const _0x5566fc=_0x4ed4aa[_0x4ed4aa[_0x340424(0xe0)]-0x1],_0x2034fb=_0x340424(0xe7)==_0x4755a9[_0x340424(0x10c)]?_0x340424(0xf9):_0x340424(0xc9);_0x5566fc&&_0x340424(0x11d)==_0x5566fc[_0x340424(0x10c)]&&(_0x5566fc[_0x2034fb]+='\x0a');}}}