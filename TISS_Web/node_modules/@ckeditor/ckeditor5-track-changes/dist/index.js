/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Command as ts,Plugin as _0x418949,PendingActions as _0x3be8b9,icons as _0x499e0a}from'@ckeditor/ckeditor5-core/dist/index.js';import{CKEditorError as _0x5e0f73,ObservableMixin as _0x2e764e,uid as _0x2551b9,insertToPriorityArray as _0x237753,priorities as _0x26ce18,logWarning as _0x34a2c4,Collection as Wt}from'@ckeditor/ckeditor5-utils/dist/index.js';import{normalizeColorOptions as _0x546a5d,View as _0x2889d4,ButtonView as _0x54cf92,ViewModel as te,createDropdown as zt,SplitButtonView as Zt,addListToDropdown as qt,MenuBarMenuView as Kt,MenuBarMenuListView as Qt,ListSeparatorView as Jt,MenuBarMenuListItemView as Xt,MenuBarMenuListItemButtonView as Yt}from'@ckeditor/ckeditor5-ui/dist/index.js';import{Users as _0x48d50a,hashObject as _0x4d2a38,surroundingMarkersDetector as _0x41dbe6,trimHtml as _0x3bda62,UserView as _0x2bde3e,getDateTimeFormatter as _0x1a71aa,getAllMarkersDomElementsSorted as _0x4213df,sanitizeEditorConfig as _0x5e47b9}from'ckeditor5-collaboration/dist/index.js';import{Element as _0x4e4bff,LiveRange as _0xe858d8,LivePosition as _0x2b727a}from'@ckeditor/ckeditor5-engine/dist/index.js';import{setHighlightHandling as _0xa19455,toWidget as _0x29775c}from'@ckeditor/ckeditor5-widget/dist/index.js';import{cloneDeep as _0x16d57b,set as _0x5a8b23,isEqual as _0x111cd5,unset as _0x2959da,omit as Bt}from'lodash-es';import{Delete as _0x25504a,Input as tr}from'@ckeditor/ckeditor5-typing/dist/index.js';import{Enter as _0x1ede81,ShiftEnter as _0x3d2dce}from'@ckeditor/ckeditor5-enter/dist/index.js';class M extends ts{['_enabledCommands'];constructor(_0x5e3306,_0x26f6be){super(_0x5e3306),this['_enabledCommands']=_0x26f6be,this['value']=!0x1,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](){this['value']=!this['value'],this['value']?this['_disableUnsupportedCommands']():this['_enableCommands']();}['_disableUnsupportedCommands'](){for(const _0x1fc94e of this['editor']['commands']['commands']())_0x1fc94e['affectsData']&&!this['_enabledCommands']['has'](_0x1fc94e)&&_0x1fc94e['forceDisabled']('TrackChangesCommand');}['_enableCommands'](){for(const _0x4f9ff0 of this['editor']['commands']['commands']())_0x4f9ff0['affectsData']&&!this['_enabledCommands']['has'](_0x4f9ff0)&&_0x4f9ff0['clearForceDisabled']('TrackChangesCommand');}}class $ extends ts{['_suggestions'];constructor(_0x7f570e,_0x1842bb){super(_0x7f570e),this['_suggestions']=_0x1842bb,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0xa265a){const _0x38e00f=this['_suggestions']['get'](_0xa265a);if(!_0x38e00f)throw new _0x5e0f73('track-changes-accept-suggestion-not-found',this);const _0x12823c=_0x38e00f['getRanges']();this['editor']['model']['canEditAt'](_0x12823c)&&this['editor']['plugins']['get']('TrackChangesEditing')['acceptSuggestion'](_0x38e00f);}}class B extends ts{['_suggestions'];constructor(_0x58183a,_0x1bb4ec){super(_0x58183a),this['_suggestions']=_0x1bb4ec,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x341fcb){const _0x168fe0=this['_suggestions']['get'](_0x341fcb);if(!_0x168fe0)throw new _0x5e0f73('track-changes-discard-suggestion-not-found',this);const _0x511914=_0x168fe0['getRanges']();this['editor']['model']['canEditAt'](_0x511914)&&this['editor']['plugins']['get']('TrackChangesEditing')['discardSuggestion'](_0x168fe0);}}function ss(_0xb44504){return _0xb44504['sort']((_0x43d4ce,_0x4b5e0a)=>'deletion'==_0x43d4ce['type']&&'deletion'!=_0x4b5e0a['type']?-0x1:'deletion'!=_0x43d4ce['type']&&'deletion'==_0x4b5e0a['type']?0x1:0x0);}function to(_0x4545f8,_0x2b5d65){let _0x209cce,_0x27b701=0x0;const _0x281f52=[],_0x22be05=_0x2b5d65['schema'];for(;_0x27b701<_0x4545f8['length'];){const _0x15c098=_0x4545f8[_0x27b701],_0x347952=_0x4545f8[_0x27b701+0x1];_0x209cce||(_0x209cce=_0x2b5d65['createPositionBefore'](_0x15c098)),co(_0x2b5d65,_0x15c098,_0x347952)||(_0x281f52['push'](_0x2b5d65['createRange'](_0x209cce,_0x22be05['isObject'](_0x15c098)?_0x2b5d65['createPositionAfter'](_0x15c098):_0x2b5d65['createPositionAt'](_0x15c098,'end'))),_0x209cce=null),_0x27b701++;}return _0x281f52;}function co(_0x41c624,_0x52b47b,_0x4304e3){if(!_0x4304e3)return!0x1;const _0x394fbd=_0x41c624['createPositionAfter'](_0x52b47b),_0x56bcfa=_0x41c624['createPositionBefore'](_0x4304e3);return _0x394fbd['isTouching'](_0x56bcfa);}function rs(_0x4ff0e0,_0x31347e,_0x1b6ebc){for(;_0x1b6ebc['length'];){const _0x400338=_0x1b6ebc['splice'](0x0,0x64);_0x4ff0e0['change'](()=>{for(const _0x552953 of _0x400338)_0x552953['isInContent']&&_0x31347e['execute'](_0x552953['id']);});}}class x extends ts{['_command'];['_suggestions'];constructor(_0x4cc5e4,_0x585e7c,_0x15f311){super(_0x4cc5e4),this['_command']=_0x585e7c,this['_suggestions']=_0x15f311,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x2c9c8f=Array['from'](this['_suggestions']['values']())['some'](_0x13eae8=>_0x13eae8['isInContent']);this['isEnabled']=this['_command']['isEnabled']&&_0x2c9c8f;}['execute'](){const _0x182be3=ss(Array['from'](this['_suggestions']['values']()));for(const _0x3c727f of _0x182be3){const _0x51a872=_0x3c727f['getRanges']();if(!this['editor']['model']['canEditAt'](_0x51a872))return;}rs(this['editor']['model'],this['_command'],_0x182be3);}}class R extends ts{['_command'];['_suggestions'];['_selectedSuggestions'];constructor(_0x2afa79,_0x240500,_0x5bc491){super(_0x2afa79),this['_command']=_0x240500,this['_suggestions']=_0x5bc491,this['_selectedSuggestions']=new Set(),this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x544733=this['editor']['model']['document']['selection'],_0x54ba14=Array['from'](this['_suggestions']['values']());this['_selectedSuggestions']=function(_0x30efca,_0x5914aa){const _0x57a82b=Array['from'](_0x30efca['getRanges']()),_0x44166f=new Set();for(const _0xbedc3e of _0x5914aa)if(_0xbedc3e['isInContent']){for(const _0x41dd79 of _0x57a82b)for(const _0x42baf6 of _0xbedc3e['getRanges']())(_0x41dd79['isIntersecting'](_0x42baf6)||_0x30efca['isCollapsed']&&!_0xbedc3e['isMultiRange']&&_0xbedc3e['next']&&_0x42baf6['end']['isTouching'](_0x41dd79['start']))&&_0x44166f['add'](_0xbedc3e);}return _0x44166f;}(_0x544733,_0x54ba14),this['isEnabled']=this['_command']['isEnabled']&&!!this['_selectedSuggestions']['size'];}['execute'](){const _0xcaaa82=ss(Array['from'](this['_selectedSuggestions']));for(const _0x25828a of _0xcaaa82){const _0x4773e3=_0x25828a['getRanges']();if(!this['editor']['model']['canEditAt'](_0x4773e3))return;}rs(this['editor']['model'],this['_command'],_0xcaaa82);}}class u extends/* #__PURE__ -- @preserve */
_0x2e764e(){['id'];['type'];['subType'];['author'];['creator'];['isExternal'];['data'];['createdAt'];['_isDataLoaded']=!0x1;['_model'];['_onAccept'];['_onDiscard'];['_onAttributesChange'];['_markerNames'];constructor(_0x9a27cd,_0x299361){super(),this['id']=_0x299361['id'],this['type']=_0x299361['type'],this['subType']=_0x299361['subType']||null,this['author']=_0x299361['author'],this['creator']=_0x299361['creator']||_0x299361['author'],this['isExternal']=Boolean(_0x299361['attributes']&&_0x299361['attributes']['@external']),this['data']=null,this['_model']=_0x9a27cd,this['_onAccept']=_0x299361['onAccept'],this['_onDiscard']=_0x299361['onDiscard'],this['_onAttributesChange']=_0x299361['onAttributesChange'],this['_markerNames']=new Set(),this['createdAt']=null,this['set']('authoredAt',null),this['set']('attributes',_0x299361['attributes']||{}),this['set']('previous',null),this['set']('next',null),this['set']('commentThread',null),this['set']('_saved',!0x1),this['decorate']('accept'),this['decorate']('discard');}get['head'](){let _0x45de2f=this;for(;_0x45de2f['previous'];)_0x45de2f=_0x45de2f['previous'];return _0x45de2f;}get['hasComments'](){return!!this['commentThread']&&this['commentThread']['length']>0x0;}get['isMultiRange'](){if(0x0==this['_markerNames']['size'])return!0x1;return 0x6==Array['from'](this['_markerNames'])[0x0]['split'](':')['length'];}get['isInContent'](){return null!==this['getFirstMarker']();}['addMarkerName'](_0x32b27f){this['_markerNames']['add'](_0x32b27f);}['getMarkerNames'](){return Array['from'](this['_markerNames']);}['getMarkers'](){return this['getMarkerNames']()['map'](_0x405024=>this['_model']['markers']['get'](_0x405024))['filter'](_0x57a900=>_0x57a900);}['getFirstMarker'](){return this['getMarkers']()[0x0]||null;}['removeMarkers'](){this['_model']['change'](_0x5a6990=>{for(const _0x37d0e0 of this['getMarkers']())_0x5a6990['removeMarker'](_0x37d0e0);}),this['_markerNames']['clear']();}['removeMarker'](_0x48b3a0){this['_model']['change'](_0x3396fa=>{_0x3396fa['removeMarker'](_0x48b3a0);}),this['_markerNames']['delete'](_0x48b3a0);}['addRange'](_0x5f9927){const _0x5242e2='suggestion:'+this['type']+':'+this['subType']+':'+this['id']+':'+this['creator']['id']+':'+u['getMultiRangeId']();this['addMarkerName'](_0x5242e2),this['_model']['change'](_0x36e967=>{_0x36e967['addMarker'](_0x5242e2,{'range':_0x5f9927,'usingOperation':!0x0,'affectsData':!0x0});});}['isIntersectingWithRange'](_0x3a1793){for(const _0x3c2559 of this['getRanges']())if(_0x3c2559['isIntersecting'](_0x3a1793))return!0x0;return!0x1;}['getRanges'](){return this['getMarkers']()['map'](_0x308f24=>_0x308f24['getRange']());}['getItems'](){return this['getRanges']()['reduce']((_0x231d1e,_0x56c61f)=>[..._0x231d1e,..._0x56c61f['getItems']()],[]);}['getFirstRange'](){return this['getFirstMarker']()?.['getRange']()||null;}['getContainedElement'](){const _0x478c7d=this['getRanges']();if(0x1!=_0x478c7d['length'])return null;const _0x21e7ad=_0x478c7d[0x0],_0x260398=_0x21e7ad['start']['nodeAfter'],_0x351af9=_0x21e7ad['end']['nodeBefore'];return _0x260398 instanceof _0x4e4bff?_0x260398!=_0x351af9?null:_0x260398:null;}['accept'](){this['_onAccept'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['discard'](){this['_onDiscard'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['getAllAdjacentSuggestions'](){const _0x3f9288=[];let _0x19d88f=this['head'];for(;_0x19d88f;)_0x3f9288['push'](_0x19d88f),_0x19d88f=_0x19d88f['next'];return _0x3f9288;}['setAttribute'](_0x494a83,_0x456a24){const _0x59e971=_0x16d57b(this['attributes']);_0x5a8b23(_0x59e971,_0x494a83,_0x456a24),_0x111cd5(_0x59e971,this['attributes'])||(this['attributes']=_0x59e971,this['_onAttributesChange'](_0x59e971));}['removeAttribute'](_0x28a595){const _0x43e62a=_0x16d57b(this['attributes']);_0x2959da(_0x43e62a,_0x28a595),_0x111cd5(_0x43e62a,this['attributes'])||(this['attributes']=_0x43e62a,this['_onAttributesChange'](this['attributes']));}['toJSON'](){return{'id':this['id'],'type':this['subType']?this['type']+':'+this['subType']:this['type'],'authorId':this['creator']['id'],'createdAt':this['createdAt'],'hasComments':this['hasComments'],'data':this['data'],'attributes':this['attributes']};}static['getMultiRangeId'](){return _0x2551b9()['substr'](0x1,0x5);}}function o(_0x5dc506,_0x4121b0,_0x3763b4){const t=_0x5dc506['t'];switch(_0x4121b0){case'Track\x20changes':return t('Track\x20changes');case'Accept\x20suggestion':return t('Accept\x20suggestion');case'Discard\x20suggestion':return t('Discard\x20suggestion');case'Accept\x20all\x20suggestions':return t('Accept\x20all\x20suggestions');case'Accept\x20all\x20selected\x20suggestions':return t('Accept\x20all\x20selected\x20suggestions');case'Discard\x20all\x20suggestions':return t('Discard\x20all\x20suggestions');case'Discard\x20all\x20selected\x20suggestions':return t('Discard\x20all\x20selected\x20suggestions');case'*Reset\x20font\x20size*':return t('*Reset\x20font\x20size*');case'*Reset\x20font\x20family*':return t('*Reset\x20font\x20family*');case'*Reset\x20font\x20color*':return t('*Reset\x20font\x20color*');case'*Reset\x20font\x20background\x20color*':return t('*Reset\x20font\x20background\x20color*');case'*Remove\x20image\x20text\x20alternative*':return t('*Remove\x20image\x20text\x20alternative*');case'*Reset\x20image\x20width*':return t('*Reset\x20image\x20width*');case'*Remove\x20link*':return t('*Remove\x20link*');case'*Check\x20item*':return t('*Check\x20item*');case'*Uncheck\x20item*':return t('*Uncheck\x20item*');case'*Remove\x20all\x20formatting*':return t('*Remove\x20all\x20formatting*');case'*Replace\x20table\x20cells*':return t('*Replace\x20table\x20cells*');case'*Merge\x20cells*':return t('*Merge\x20cells*');case'*Split\x20cell:*\x20vertically':return t('*Split\x20cell:*\x20vertically');case'*Split\x20cell:*\x20horizontally':return t('*Split\x20cell:*\x20horizontally');case'*Indent:*\x20%0':return t('*Indent:*\x20%0',_0x3763b4);case'*Outdent:*\x20%0':return t('*Outdent:*\x20%0',_0x3763b4);case'*Change\x20to:*\x20%0':return t('*Change\x20to:*\x20%0',_0x3763b4);case'*Insert:*\x20%0':return t('*Insert:*\x20%0',_0x3763b4);case'*Format:*\x20%0':return t('*Format:*\x20%0',_0x3763b4);case'*Format:*\x20change\x20table\x20properties':return t('*Format:*\x20change\x20table\x20properties');case'*Format:*\x20change\x20table\x20cell\x20properties':return t('*Format:*\x20change\x20table\x20cell\x20properties');case'*Format:*\x20insert\x20into\x20%0':return t('*Format:*\x20insert\x20into\x20%0',_0x3763b4);case'*Format:*\x20remove\x20from\x20%0':return t('*Format:*\x20remove\x20from\x20%0',_0x3763b4);case'*Replace\x20image\x20URL*':return t('*Replace\x20image\x20URL*');case'*Format:*\x20resize\x20table':return t('*Format:*\x20resize\x20table');case'*Format:*\x20set\x20order\x20to\x20reversed':return t('*Format:*\x20set\x20order\x20to\x20reversed');case'*Format:*\x20set\x20order\x20to\x20regular':return t('*Format:*\x20set\x20order\x20to\x20regular');case'*Format:*\x20set\x20start\x20index\x20to\x20%0':return t('*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x3763b4);case'*Change\x20%0\x20content*':return t('*Change\x20%0\x20content*',_0x3763b4);case'*Remove:*\x20%0':return t('*Remove:*\x20%0',_0x3763b4);case'*Merge:*\x20%0':return t('*Merge:*\x20%0',_0x3763b4);case'*Split:*\x20%0':return t('*Split:*\x20%0',_0x3763b4);case'*Remove\x20format:*\x20%0':return t('*Remove\x20format:*\x20%0',_0x3763b4);case'*Set\x20font\x20size:*\x20%0':return t('*Set\x20font\x20size:*\x20%0',_0x3763b4);case'*Set\x20font\x20family:*\x20%0':return t('*Set\x20font\x20family:*\x20%0',_0x3763b4);case'*Set\x20format\x20to:*\x20%0':return t('*Set\x20format\x20to:*\x20%0',_0x3763b4);case'*Set\x20font\x20color:*\x20%0':return t('*Set\x20font\x20color:*\x20%0',_0x3763b4);case'*Set\x20font\x20background\x20color:*\x20%0':return t('*Set\x20font\x20background\x20color:*\x20%0',_0x3763b4);case'*Set\x20format:*\x20%0':return t('*Set\x20format:*\x20%0',_0x3763b4);case'*Set\x20image\x20text\x20alternative:*\x20%0':return t('*Set\x20image\x20text\x20alternative:*\x20%0',_0x3763b4);case'*Set\x20image\x20width:*\x20%0':return t('*Set\x20image\x20width:*\x20%0',_0x3763b4);case'*Set\x20link:*\x20%0':return t('*Set\x20link:*\x20%0',_0x3763b4);case'*Set\x20highlight:*\x20%0':return t('*Set\x20highlight:*\x20%0',_0x3763b4);case'*Remove\x20highlight*':return t('*Remove\x20highlight*');case'FORMAT_HIGHLIGHT':return t({'string':'highlight','id':'FORMAT_HIGHLIGHT'});case'FORMAT_RESTRICTED_ENABLED':return t({'string':'*Enable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_ENABLED'});case'FORMAT_RESTRICTED_DISABLED':return t({'string':'*Disable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_DISABLED'});case'ELEMENT_TABLE':return t({'string':'table','plural':'%0\x20tables','id':'ELEMENT_TABLE'},_0x3763b4);case'ELEMENT_PARAGRAPH':return t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'},_0x3763b4);case'ELEMENT_PAGE_BREAK':return t({'string':'page\x20break','plural':'%0\x20page\x20breaks','id':'ELEMENT_PAGE_BREAK'},_0x3763b4);case'ELEMENT_MEDIA':return t({'string':'media\x20item','plural':'%0\x20media\x20items','id':'ELEMENT_MEDIA'},_0x3763b4);case'ELEMENT_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_IMAGE'},_0x3763b4);case'ELEMENT_INLINE_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_INLINE_IMAGE'},_0x3763b4);case'FORMAT_SIDE_IMAGE':return t({'string':'side\x20image','id':'FORMAT_SIDE_IMAGE'});case'ELEMENT_CAPTION':return t({'string':'caption','id':'ELEMENT_CAPTION'});case'ELEMENT_HORIZONTAL_LINE':return t({'string':'horizontal\x20line','plural':'%0\x20horizontal\x20lines','id':'ELEMENT_HORIZONTAL_LINE'},_0x3763b4);case'ELEMENT_HTML_EMBED':return t({'string':'HTML\x20embed','plural':'%0\x20HTML\x20embeds','id':'ELEMENT_HTML_EMBED'},_0x3763b4);case'ELEMENT_HEADING':return t({'string':'heading\x20(level\x20%1)','plural':'%0\x20headings\x20(level\x20%1)','id':'ELEMENT_HEADING'},_0x3763b4);case'ELEMENT_HEADING_CUSTOM':return t({'string':'heading\x20(%1)','plural':'%0\x20headings\x20(%1)','id':'ELEMENT_HEADING_CUSTOM'},_0x3763b4);case'ELEMENT_LIST_ITEM':return t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0x3763b4);case'ELEMENT_DEFAULT_LIST_DEFAULT':return t({'string':'default\x20list\x20style','id':'ELEMENT_DEFAULT_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST':return t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'});case'ELEMENT_BULLETED_LIST_DEFAULT':return t({'string':'bulleted\x20list\x20(default)','id':'ELEMENT_BULLETED_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST_CIRCLE':return t({'string':'bulleted\x20list\x20(circle)','id':'ELEMENT_BULLETED_LIST_CIRCLE'});case'ELEMENT_BULLETED_LIST_DISC':return t({'string':'bulleted\x20list\x20(disc)','id':'ELEMENT_BULLETED_LIST_DISC'});case'ELEMENT_BULLETED_LIST_SQUARE':return t({'string':'bulleted\x20list\x20(square)','id':'ELEMENT_BULLETED_LIST_SQUARE'});case'ELEMENT_NUMBERED_LIST_DEFAULT':return t({'string':'numbered\x20list\x20(default)','id':'ELEMENT_NUMBERED_LIST_DEFAULT'});case'ELEMENT_NUMBERED_LIST':return t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'});case'ELEMENT_NUMBERED_LIST_DECIMAL':return t({'string':'numbered\x20list\x20(decimal)','id':'ELEMENT_NUMBERED_LIST_DECIMAL'});case'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO':return t({'string':'numbered\x20list\x20(decimal\x20with\x20leading\x20zero)','id':'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO'});case'ELEMENT_NUMBERED_LIST_LOWER_LATIN':return t({'string':'numbered\x20list\x20(lower-latin)','id':'ELEMENT_NUMBERED_LIST_LOWER_LATIN'});case'ELEMENT_NUMBERED_LIST_LOWER_ROMAN':return t({'string':'numbered\x20list\x20(lower-roman)','id':'ELEMENT_NUMBERED_LIST_LOWER_ROMAN'});case'ELEMENT_NUMBERED_LIST_UPPER_LATIN':return t({'string':'numbered\x20list\x20(upper-latin)','id':'ELEMENT_NUMBERED_LIST_UPPER_LATIN'});case'ELEMENT_NUMBERED_LIST_UPPER_ROMAN':return t({'string':'numbered\x20list\x20(upper-roman)','id':'ELEMENT_NUMBERED_LIST_UPPER_ROMAN'});case'ELEMENT_TODO_LIST':return t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'});case'ELEMENT_MULTI_LEVEL_LIST':return t({'string':'multi-level\x20list','id':'ELEMENT_MULTI_LEVEL_LIST'});case'REPLACE_TEXT':return t({'string':'*Replace:*\x20%0\x20*with*\x20%1','id':'REPLACE_TEXT'},_0x3763b4);case'ELEMENT_SPACE':return t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0x3763b4);case'FORMAT_ALIGNMENT':return t({'string':'alignment','id':'FORMAT_ALIGNMENT'});case'FORMAT_ALIGN_TO_LEFT':return t({'string':'align\x20to\x20left','id':'FORMAT_ALIGN_TO_LEFT'});case'FORMAT_ALIGN_TO_RIGHT':return t({'string':'align\x20to\x20right','id':'FORMAT_ALIGN_TO_RIGHT'});case'FORMAT_ALIGN_TO_CENTER':return t({'string':'align\x20to\x20center','id':'FORMAT_ALIGN_TO_CENTER'});case'FORMAT_JUSTIFY_TEXT':return t({'string':'justify','id':'FORMAT_JUSTIFY_TEXT'});case'FORMAT_BOLD':return t({'string':'bold','id':'FORMAT_BOLD'});case'FORMAT_ITALIC':return t({'string':'italic','id':'FORMAT_ITALIC'});case'FORMAT_UNDERLINE':return t({'string':'underline','id':'FORMAT_UNDERLINE'});case'FORMAT_CODE':return t({'string':'code','id':'FORMAT_CODE'});case'FORMAT_STRIKETHROUGH':return t({'string':'strikethrough','id':'FORMAT_STRIKETHROUGH'});case'FORMAT_SUBSCRIPT':return t({'string':'subscript','id':'FORMAT_SUBSCRIPT'});case'FORMAT_SUPERSCRIPT':return t({'string':'superscript','id':'FORMAT_SUPERSCRIPT'});case'ELEMENT_BLOCK_QUOTE':return t({'string':'block\x20quote','id':'ELEMENT_BLOCK_QUOTE'});case'ELEMENT_CODE_BLOCK':return t({'string':'code\x20block','plural':'%0\x20code\x20blocks','id':'ELEMENT_CODE_BLOCK'},_0x3763b4);case'FORMAT_HEADER_COLUMN':return t({'string':'header\x20column','id':'FORMAT_HEADER_COLUMN'});case'FORMAT_REGULAR_COLUMN':return t({'string':'regular\x20column','id':'FORMAT_REGULAR_COLUMN'});case'FORMAT_HEADER_ROW':return t({'string':'header\x20row','id':'FORMAT_HEADER_ROW'});case'FORMAT_REGULAR_ROW':return t({'string':'regular\x20row','id':'FORMAT_REGULAR_ROW'});case'FORMAT_INDENT':return t({'string':'indent','id':'FORMAT_INDENT'});case'FORMAT_LIST_REVERSED':return t({'string':'list\x20reversed','id':'FORMAT_LIST_REVERSED'});case'FORMAT_LIST_START':return t({'string':'list\x20start','id':'FORMAT_LIST_START'});case'FORMAT_FONT_SIZE':return t({'string':'font\x20size','id':'FORMAT_FONT_SIZE'});case'FORMAT_FONT_FAMILY':return t({'string':'font\x20family','id':'FORMAT_FONT_FAMILY'});case'FORMAT_FONT_COLOR':return t({'string':'font\x20color','id':'FORMAT_FONT_COLOR'});case'FORMAT_FONT_BACKGROUND':return t({'string':'font\x20background\x20color','id':'FORMAT_FONT_BACKGROUND'});case'FORMAT_IMAGE_SIZE':return t({'string':'image\x20size','id':'FORMAT_IMAGE_SIZE'});case'FORMAT_STYLE':return t({'string':'style','id':'FORMAT_STYLE'});case'PENDING_ACTION_SUGGESTION':return t({'string':'Unsaved\x20change\x20in\x20suggestion.','id':'PENDING_ACTION_SUGGESTION'});case'ELEMENT_TABLE_WITH_TEXT':return t({'string':'table\x20*with\x20text*\x20%0','id':'ELEMENT_TABLE_WITH_TEXT'},_0x3763b4);case'ELEMENT_TABLE_ROW':return t({'string':'table\x20row','plural':'%0\x20table\x20rows','id':'ELEMENT_TABLE_ROW'},_0x3763b4);case'ELEMENT_TABLE_ROW_WITH_TEXT':return t({'string':'table\x20row\x20*with\x20text*\x20%1','plural':'%0\x20table\x20rows\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_ROW_WITH_TEXT'},_0x3763b4);case'ELEMENT_TABLE_COLUMN':return t({'string':'table\x20column','plural':'%0\x20table\x20columns','id':'ELEMENT_TABLE_COLUMN'},_0x3763b4);case'ELEMENT_TABLE_COLUMN_WITH_TEXT':return t({'string':'table\x20column\x20*with\x20text*\x20%1','plural':'%0\x20table\x20columns\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_COLUMN_WITH_TEXT'},_0x3763b4);case'ELEMENT_TABLE_OF_CONTENTS':return t({'string':'table\x20of\x20contents','plural':'%0\x20tables\x20of\x20contents','id':'ELEMENT_TABLE_OF_CONTENTS'},_0x3763b4);case'ELEMENT_LINE_BREAK':return t({'id':'ELEMENT_LINE_BREAK','string':'line\x20break','plural':'%0\x20line\x20breaks'},_0x3763b4);case'ELEMENT_TITLE':return t({'id':'ELEMENT_TITLE','string':'title'});case'EXTERNAL_SUGGESTION':return t({'id':'EXTERNAL_SUGGESTION','string':'This\x20suggestion\x20comes\x20from\x20an\x20external\x20source.'});case'EXTERNAL_IMPORT_WORD_SUGGESTION':return t({'string':'This\x20suggestion\x20comes\x20from\x20an\x20imported\x20Word\x20file.','id':'EXTERNAL_IMPORT_WORD_SUGGESTION'});case'EXTERNAL_AVATAR':return t({'string':'Displayed\x20author\x20name\x20comes\x20from\x20external\x20source\x20(added\x20by\x20%0)','id':'EXTERNAL_AVATAR'},_0x3763b4);case'EXTERNAL_IMPORT_WORD_AVATAR':return t({'string':'Displayed\x20author\x20name\x20comes\x20from\x20a\x20Word\x20document\x20imported\x20by\x20%0','id':'EXTERNAL_IMPORT_WORD_AVATAR'},_0x3763b4);case'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20insertion\x20suggestion.','id':'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT'});case'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20insertion\x20suggestion.','id':'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20deletion\x20suggestion.','id':'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT'});case'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20deletion\x20suggestion.','id':'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20formatting\x20suggestion.','id':'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT'});case'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20formatting\x20suggestion.','id':'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT'});default:return _0x4121b0;}}class f{['_customCallbacks'];['_itemLabels'];['_itemLabelsCallbacks'];['_attributeLabels'];['_schema'];['_locale'];constructor(_0xe465f9,_0x6f8223){this['_customCallbacks']=[],this['_itemLabels']=new Map(),this['_itemLabelsCallbacks']=[],this['_attributeLabels']=new Map(),this['_schema']=_0xe465f9,this['_locale']=_0x6f8223;}['getDescriptions'](_0x3a6a52){const _0x3c7e1b=[],_0x30d742=new Set(),_0x5b688b=new Set();for(let _0x413919=0x0;_0x413919<_0x3a6a52['length'];_0x413919++){const _0x263eac=_0x3a6a52[_0x413919];if(!_0x263eac['isInContent'])continue;const _0x2dca8b=this['_handleCustomCallbackDescription'](_0x263eac);if(_0x2dca8b){if(null!=_0x263eac['subType']){if(_0x30d742['has'](_0x263eac['subType']))continue;_0x30d742['add'](_0x263eac['subType']);}_0x3c7e1b['push'](_0x2dca8b);}else{if('attribute'!=_0x263eac['type'])'insertion'!=_0x263eac['type']&&'deletion'!=_0x263eac['type']||this['_handleInsertRemoveSuggestionDescription'](_0x3c7e1b,_0x263eac,_0x3a6a52[_0x413919+0x1]);else{const _0x84cc62=_0x263eac['data']['key'];if(_0x5b688b['has'](_0x84cc62))continue;_0x5b688b['add'](_0x263eac['data']['key']),_0x84cc62==m?this['_handleRenameSuggestionDescription'](_0x3c7e1b,_0x263eac):this['_handleAttributeSuggestionDescription'](_0x3c7e1b,_0x263eac);}}}return this['_resolveDescriptionItems'](_0x3c7e1b);}['registerDescriptionCallback'](_0x2aecf2){this['_customCallbacks']['push'](_0x2aecf2);}['registerElementLabel'](_0x2c98fc,_0xa9b3f5,_0x39c632=_0x26ce18['normal']){'function'==typeof _0x2c98fc?_0x237753(this['_itemLabelsCallbacks'],{'matchingCallback':_0x2c98fc,'label':_0xa9b3f5,'priority':_0x39c632}):this['_itemLabels']['set'](_0x2c98fc,_0xa9b3f5);}['registerAttributeLabel'](_0x57cd6c,_0x4a995e){this['_attributeLabels']['set'](_0x57cd6c,_0x4a995e);}['getItemLabel'](_0x377baa,_0x202982=0x1){let _0x2bf439;for(const _0xb89eb5 of this['_itemLabelsCallbacks'])if(_0xb89eb5['matchingCallback'](_0x377baa)){_0x2bf439=_0xb89eb5['label'];break;}return _0x2bf439||(_0x2bf439=this['_itemLabels']['get'](_0x377baa['name'])),_0x2bf439?_0x2bf439(_0x202982):0x1!==_0x202982?_0x202982+'\x20'+_0x377baa['name']+'s':''+_0x377baa['name'];}['_addDescriptionItems'](_0x18ebc7,_0x1734a7){const _0x4a88ed=_0x1734a7['getFirstRange']()['getWalker'](),_0x579821='insertion'==_0x1734a7['type']?'add':'remove';for(const _0x2571e2 of _0x4a88ed){const _0x105c8c=_0x2571e2['item'],_0x22bd03=_0x18ebc7[_0x18ebc7['length']-0x1];if(_0x105c8c['is']('$textProxy'))_0x22bd03&&_0x22bd03['type']['indexOf']('Container')>-0x1&&_0x18ebc7['pop'](),_0x22bd03&&'text'==_0x22bd03['type']?_0x22bd03[_0x579821]+=_0x105c8c['data']:_0x18ebc7['push']({'type':'text','add':'add'==_0x579821?_0x105c8c['data']:'','remove':'remove'==_0x579821?_0x105c8c['data']:''});else{if(this['_schema']['isObject'](_0x105c8c)){const _0x2887d5=_0x105c8c;if(_0x22bd03&&_0x22bd03['type']['indexOf']('Container')>-0x1&&_0x18ebc7['pop'](),'elementEnd'==_0x2571e2['type'])continue;_0x22bd03&&_0x22bd03['type']==_0x579821+'Object'&&_0x22bd03['element']['name']==_0x2887d5['name']?_0x22bd03['quantity']++:_0x18ebc7['push']({'type':_0x579821+'Object','element':_0x2887d5,'quantity':0x1}),_0x4a88ed['skip'](_0x1740af=>!('elementEnd'==_0x1740af['type']&&_0x1740af['item']==_0x105c8c));}else{if(this['_schema']['checkChild'](_0x105c8c,'$text')||_0x105c8c['is']('element','softBreak')){const _0x268f54=_0x105c8c;if('add'==_0x579821&&'elementStart'==_0x2571e2['type']||'remove'==_0x579821&&'elementEnd'==_0x2571e2['type'])continue;if(_0x22bd03&&-0x1==_0x22bd03['type']['indexOf']('Container')){'text'==_0x22bd03['type']&&(_0x22bd03[_0x579821]+='\x0a');continue;}let _0x1c0c98;if(_0x1c0c98='add'==_0x579821?_0x268f54['nextSibling']&&!this['_schema']['isObject'](_0x268f54['nextSibling'])?_0x268f54['nextSibling']:null:_0x268f54['previousSibling']&&!this['_schema']['isObject'](_0x268f54['previousSibling'])?_0x268f54['previousSibling']:null,_0x268f54['isEmpty']||_0x1c0c98&&_0x1c0c98['isEmpty']){const _0x56ae2f=_0x1c0c98&&_0x1c0c98['isEmpty']?_0x1c0c98:_0x268f54;_0x22bd03&&_0x22bd03['type']==_0x579821+'EmptyContainer'&&_0x22bd03['element']['name']==_0x56ae2f['name']?_0x22bd03['quantity']++:_0x18ebc7['push']({'type':_0x579821+'EmptyContainer','element':_0x56ae2f,'quantity':0x1});}else _0x18ebc7['push']({'type':_0x579821+'Container','element':_0x268f54});}}}}}['_resolveDescriptionItems'](_0x573bd8){const _0x54949e=this['_locale'],_0x59801a=[],_0x469bdd=[],_0x14a174=[];for(const _0xe38ac of _0x573bd8)switch(_0xe38ac['type']){case'text':if(_0xe38ac['add']=_0xe38ac['add']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0xe38ac['remove']=_0xe38ac['remove']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),''!=_0xe38ac['add']&&''!=_0xe38ac['remove']){_0x59801a['push']({'type':'replace','content':o(_0x54949e,'REPLACE_TEXT',['\x22'+_0xe38ac['remove']+'\x22','\x22'+_0xe38ac['add']+'\x22'])});continue;}if(null!=_0xe38ac['add']['match'](/^ +$/)){_0x59801a['push']({'type':'insertion','content':o(_0x54949e,'*Insert:*\x20%0',o(_0x54949e,'ELEMENT_SPACE',_0xe38ac['add']['length']))});continue;}if(null!=_0xe38ac['remove']['match'](/^ +$/)){_0x59801a['push']({'type':'deletion','content':o(_0x54949e,'*Remove:*\x20%0',o(_0x54949e,'ELEMENT_SPACE',_0xe38ac['remove']['length']))});continue;}if(''!=_0xe38ac['add']){_0x59801a['push']({'type':'insertion','content':o(_0x54949e,'*Insert:*\x20%0','\x22'+_0xe38ac['add']+'\x22')});continue;}_0x59801a['push']({'type':'deletion','content':o(_0x54949e,'*Remove:*\x20%0','\x22'+_0xe38ac['remove']+'\x22')});continue;case'addEmptyContainer':case'addObject':_0x59801a['push']({'type':'insertion','content':o(_0x54949e,'*Insert:*\x20%0',this['getItemLabel'](_0xe38ac['element'],_0xe38ac['quantity']))});continue;case'removeEmptyContainer':case'removeObject':_0x59801a['push']({'type':'deletion','content':o(_0x54949e,'*Remove:*\x20%0',this['getItemLabel'](_0xe38ac['element'],_0xe38ac['quantity']))});continue;case'addContainer':_0x59801a['push']({'type':'insertion','content':o(_0x54949e,'*Split:*\x20%0',this['getItemLabel'](_0xe38ac['element'],_0xe38ac['quantity']))});continue;case'removeContainer':_0x59801a['push']({'type':'deletion','content':o(_0x54949e,'*Merge:*\x20%0',this['getItemLabel'](_0xe38ac['element'],_0xe38ac['quantity']))});continue;case'addFormat':_0x469bdd['push'](_0xe38ac['key']);continue;case'removeFormat':_0x14a174['push'](_0xe38ac['key']);continue;default:_0x59801a['push'](_0xe38ac);}if(_0x469bdd['length']){const _0x1b5224=_0x469bdd['map'](_0x2c96d0=>this['_attributeLabels']['has'](_0x2c96d0)?this['_attributeLabels']['get'](_0x2c96d0):_0x2c96d0)['join'](',\x20');_0x59801a['push']({'type':'format','content':o(this['_locale'],'*Set\x20format:*\x20%0',_0x1b5224)});}if(_0x14a174['length']){const _0x335b8b=_0x14a174['map'](_0x46335a=>this['_attributeLabels']['has'](_0x46335a)?this['_attributeLabels']['get'](_0x46335a):_0x46335a)['join'](',\x20');_0x59801a['push']({'type':'format','content':o(this['_locale'],'*Remove\x20format:*\x20%0',_0x335b8b)});}return _0x59801a;}['_handleCustomCallbackDescription'](_0x3a610b){for(const _0x5ef6e1 of this['_customCallbacks']){const _0x388972=_0x5ef6e1(_0x3a610b);if(_0x388972&&'type'in _0x388972)return _0x388972;}}['_handleAttributeSuggestionDescription'](_0x1a58c1,_0x15aa15){const _0x1ed77b=_0x15aa15['data'],_0x35dc84=void 0x0===_0x1ed77b['newValue']?'removeFormat':'addFormat';_0x1a58c1['push']({'type':_0x35dc84,'key':_0x1ed77b['key']});}['_handleRenameSuggestionDescription'](_0x5d866f,_0x30c9b0){_0x5d866f['push']({'type':'format','content':o(this['_locale'],'*Change\x20to:*\x20%0',this['getItemLabel'](_0x30c9b0['getFirstRange']()['start']['nodeAfter'],0x1))});}['_handleInsertRemoveSuggestionDescription'](_0x5ab015,_0x1fabb9,_0x82ac49){if(this['_addDescriptionItems'](_0x5ab015,_0x1fabb9),_0x82ac49&&_0x82ac49['getFirstRange']()&&!_0x1fabb9['getFirstRange']()['end']['isEqual'](_0x82ac49['getFirstRange']()['start'])){const _0x226ff7=_0x5ab015[_0x5ab015['length']-0x1],_0x51a5f6='insertion'==_0x1fabb9['type']?'add':'remove';_0x226ff7&&'text'==_0x226ff7['type']&&(_0x226ff7[_0x51a5f6]+='\x0a');}}}class E extends _0x418949{['afterInit'](){const _0x5cc6bb=this['editor'],_0x4a243d=_0x5cc6bb['plugins']['get']('TrackChangesEditing');_0x5cc6bb['commands']['get']('showAIAssistant')&&_0x4a243d['enableCommand']('showAIAssistant');}}class V extends _0x418949{['afterInit'](){const _0x5c8c26=this['editor'],_0x40bdfe=_0x5c8c26['locale'];if(!_0x5c8c26['plugins']['has']('AlignmentEditing'))return;const _0x42023c=_0x5c8c26['plugins']['get']('TrackChangesEditing');_0x42023c['enableDefaultAttributesIntegration']('alignment'),_0x42023c['registerBlockAttribute']('alignment'),_0x42023c['descriptionFactory']['registerAttributeLabel']('alignment',o(_0x40bdfe,'FORMAT_ALIGNMENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1bc337=this['editor'],_0xf8ebfa=_0x1bc337['locale'];_0x1bc337['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x41b85d=>{if('formatBlock'!=_0x41b85d['type'])return;const {data:_0x380bd5}=_0x41b85d;if(_0x380bd5&&'alignment'==_0x380bd5['commandName']){const _0x3c9b6f=_0x380bd5['commandParams'][0x0]['value'];return{'type':'format','content':o(_0xf8ebfa,'*Format:*\x20%0',function(_0x15c344){switch(_0x15c344){case'left':return o(_0xf8ebfa,'FORMAT_ALIGN_TO_LEFT');case'right':return o(_0xf8ebfa,'FORMAT_ALIGN_TO_RIGHT');case'center':return o(_0xf8ebfa,'FORMAT_ALIGN_TO_CENTER');case'justify':return o(_0xf8ebfa,'FORMAT_JUSTIFY_TEXT');}}(_0x3c9b6f))};}});}}const ti=['BoldEditing','ItalicEditing','UnderlineEditing','CodeEditing','StrikethroughEditing','SubscriptEditing','SuperscriptEditing'];class U extends _0x418949{['afterInit'](){const _0x275010=this['editor'],_0x91d145=_0x275010['plugins']['get']('TrackChangesEditing'),_0x1d8f89=_0x275010['locale'];for(const _0x5374c6 of ti){if(!_0x275010['plugins']['has'](_0x5374c6))continue;const _0x4323c7=_0x5374c6['slice'](0x0,-0x7)['toLowerCase'](),_0x576d2e='FORMAT_'+_0x4323c7['toUpperCase']();_0x91d145['enableDefaultAttributesIntegration'](_0x4323c7),_0x91d145['registerInlineAttribute'](_0x4323c7),_0x91d145['descriptionFactory']['registerAttributeLabel'](_0x4323c7,o(_0x1d8f89,_0x576d2e));}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1b99c1=this['editor'],_0x4099e3=_0x1b99c1['locale'],_0x57dabb=_0x1b99c1['plugins']['get']('TrackChangesEditing');function _0x335b47(_0x1dbe26,_0x13b23e){_0x57dabb['descriptionFactory']['registerDescriptionCallback'](_0x5a72b0=>{if('formatInline'!=_0x5a72b0['type'])return;const {data:_0x591dbb}=_0x5a72b0;return _0x591dbb&&_0x591dbb['commandName']===_0x1dbe26?_0x591dbb['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x4099e3,'*Format:*\x20%0',_0x13b23e)}:{'type':'format','content':o(_0x4099e3,'*Remove\x20format:*\x20%0',_0x13b23e)}:void 0x0;});}_0x335b47('bold',o(_0x4099e3,'FORMAT_BOLD')),_0x335b47('italic',o(_0x4099e3,'FORMAT_ITALIC')),_0x335b47('underline',o(_0x4099e3,'FORMAT_UNDERLINE')),_0x335b47('code',o(_0x4099e3,'FORMAT_CODE')),_0x335b47('strikethrough',o(_0x4099e3,'FORMAT_STRIKETHROUGH')),_0x335b47('subscript',o(_0x4099e3,'FORMAT_SUBSCRIPT')),_0x335b47('superscript',o(_0x4099e3,'FORMAT_SUPERSCRIPT'));}}class O extends _0x418949{['afterInit'](){const _0x321733=this['editor'],_0x1c0b12=_0x321733['locale'];if(!_0x321733['plugins']['has']('BlockQuoteEditing'))return;const _0xa8e4c2=_0x321733['plugins']['get']('TrackChangesEditing'),_0x5f5a73=this['editor']['commands']['get']('blockQuote');_0xa8e4c2['enableCommand']('blockQuote',(_0x36e6a3,_0x398e44={})=>{const _0x427223=this['editor']['model']['document']['selection'],_0x4a1f45=_0x398e44&&void 0x0!==_0x398e44['forceValue']?_0x398e44['forceValue']:!_0x5f5a73['value'];let _0x134db5=[];if(_0x4a1f45){const _0x2c7d57=Array['from'](_0x427223['getSelectedBlocks']())['filter'](_0x652763=>oo(_0x652763)||function(_0x297e75,_0x1c888c){const _0x3f72ba=_0x1c888c['checkChild'](_0x297e75['parent'],'blockQuote'),_0x1c1698=_0x1c888c['checkChild'](['$root','blockQuote'],_0x297e75);return _0x3f72ba&&_0x1c1698;}(_0x652763,this['editor']['model']['schema']));_0x134db5=to(_0x2c7d57,_0x321733['model']);}else{const _0x297c8f=Array['from'](_0x427223['getSelectedBlocks']())['filter'](_0x404143=>oo(_0x404143));_0x134db5=to(_0x297c8f,_0x321733['model']);}_0x321733['model']['change'](()=>{for(const _0x22b74b of _0x134db5)_0xa8e4c2['markBlockFormat'](_0x22b74b,{'commandName':'blockQuote','commandParams':[{'forceValue':_0x4a1f45}]});});}),_0xa8e4c2['descriptionFactory']['registerDescriptionCallback'](_0x5df651=>{const {data:_0x4e76f1}=_0x5df651;if(_0x4e76f1&&'blockQuote'==_0x4e76f1['commandName']){const _0xfbe177=o(_0x1c0b12,'ELEMENT_BLOCK_QUOTE');return _0x4e76f1['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x1c0b12,'*Set\x20format:*\x20%0',_0xfbe177)}:{'type':'format','content':o(_0x1c0b12,'*Remove\x20format:*\x20%0',_0xfbe177)};}});}}function oo(_0x6dc3a){return'blockQuote'==_0x6dc3a['parent']['name'];}class G extends _0x418949{['afterInit'](){const _0x26d334=this['editor'];_0x26d334['plugins']['has']('CaseChange')&&(_0x26d334['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseUpper'),_0x26d334['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseLower'),_0x26d334['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseTitle'));}}class F extends _0x418949{['afterInit'](){const _0xd431d5=this['editor'];_0xd431d5['commands']['get']('ckbox')&&_0xd431d5['plugins']['get']('TrackChangesEditing')['enableCommand']('ckbox');}}class L extends _0x418949{['afterInit'](){const _0x14379e=this['editor'];if(!_0x14379e['plugins']['has']('CodeBlock'))return;const _0x2edb94=_0x14379e['plugins']['get']('TrackChangesEditing'),_0x4b2eb1=_0x14379e['locale'],_0x2b1d7a=_0x14379e['config']['get']('codeBlock')['languages'],_0x569f86=_0x14379e['commands']['get']('codeBlock');_0x2edb94['enableCommand']('indentCodeBlock'),_0x2edb94['enableCommand']('outdentCodeBlock'),_0x2edb94['enableCommand']('codeBlock',(_0x14d8c2,_0x5584a9={})=>{const _0x5e1292=_0x14379e['model'],_0x57d517=_0x14379e['model']['document']['selection'],_0x2932ef=_0x5584a9&&void 0x0!==_0x5584a9['forceValue']?_0x5584a9['forceValue']:!_0x569f86['value'];let _0x44628b;_0x5584a9['language']||(_0x5584a9['language']=_0x2b1d7a[0x0]['language']),_0x44628b=_0x2932ef?Array['from'](_0x57d517['getSelectedBlocks']())['filter'](_0x5ce68e=>eo(_0x5ce68e)||function(_0x17b01d,_0x1e6897){if(_0x17b01d['is']('rootElement')||_0x1e6897['isLimit'](_0x17b01d))return!0x1;return _0x1e6897['checkChild'](_0x17b01d['parent'],'codeBlock');}(_0x5ce68e,_0x5e1292['schema'])):Array['from'](_0x57d517['getSelectedBlocks']())['filter'](_0x2c6560=>eo(_0x2c6560));const _0x3d1908=to(_0x44628b,_0x5e1292);_0x5e1292['change'](()=>{for(const _0x1d5c8b of _0x3d1908)_0x2edb94['markBlockFormat'](_0x1d5c8b,{'commandName':'codeBlock','commandParams':[{..._0x5584a9,'forceValue':_0x2932ef}],'formatGroupId':'blockName'});});}),(_0x2edb94['descriptionFactory']['registerElementLabel']('codeBlock',_0x3745bc=>o(_0x4b2eb1,'ELEMENT_CODE_BLOCK',_0x3745bc)),_0x2edb94['descriptionFactory']['registerDescriptionCallback'](_0xf257a9=>{if('formatBlock'!=_0xf257a9['type'])return;const _0x57965f=_0x4b2eb1['t'],{data:_0x353b6b}=_0xf257a9;if(!_0x353b6b||'codeBlock'!=_0x353b6b['commandName'])return;const _0x7f71ea=_0x353b6b['commandParams'][0x0]['language'],_0x53c4d0=_0x57965f(_0x2b1d7a['find'](_0x11c5d5=>_0x11c5d5['language']===_0x7f71ea)['label'])['toLowerCase']();return _0x353b6b['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x4b2eb1,'*Set\x20format:*\x20%0',o(_0x4b2eb1,'ELEMENT_CODE_BLOCK',0x1)+'\x20('+_0x53c4d0+')')}:{'type':'format','content':o(_0x4b2eb1,'*Remove\x20format:*\x20%0',o(_0x4b2eb1,'ELEMENT_CODE_BLOCK',0x1))};}));}}function eo(_0x40573b){return'codeBlock'==_0x40573b['name'];}class H extends _0x418949{['afterInit'](){const _0x47b65f=this['editor'];if(!_0x47b65f['plugins']['has']('CommentsEditing'))return;_0x47b65f['plugins']['get']('TrackChangesEditing')['enableCommand']('addCommentThread');}}function io(_0x21afad,_0x3673dc,_0x5d1edd){const _0x76cfbf=[];for(const _0x1695a7 of _0x3673dc['getItems']())_0x1695a7['hasAttribute'](_0x21afad)&&_0x76cfbf['push'](_0x5d1edd['createRangeOn'](_0x1695a7));return _0x76cfbf;}function _e(_0x65bb44,_0x11865c,{showActiveMarker:_0x207d9d=!0x0}={}){const _0x3043aa=_0x65bb44['plugins']['get']('TrackChangesEditing');return(_0x45d9d8,_0x22c4bc,_0x1bba73)=>{if(!_0x1bba73['consumable']['test'](_0x22c4bc['markerRange'],_0x45d9d8['name']))return;const _0x495fb3=_0x22c4bc['markerRange']['getWalker'](),_0xa0561c=_0x22c4bc['markerRange']['start'],_0x31d2bd=_0x65bb44['model']['schema'];let _0x4b918a=null,_0xfbfb3e=null,_0x5a0e03=!0x1,_0x4c8aa5=!0x1;for(const _0x4bdf08 of _0x495fb3){const _0x4d2161=_0x4bdf08['item'];_0x5a0e03=_0x5a0e03||_0x31d2bd['isContent'](_0x4d2161);const _0x333620=_0x1bba73['mapper']['toViewElement'](_0x4d2161);if(_0x333620&&_0x333620['getCustomProperty']('addHighlight'))return;'elementEnd'==_0x4bdf08['type']&&(_0x31d2bd['isBlock'](_0x4d2161)&&!_0x31d2bd['isLimit'](_0x4d2161)&&(_0x4d2161['nextSibling']||_0xa0561c['isAtEnd']?_0x4b918a&&_0x4b918a['parent']==_0x4d2161||(_0x4b918a=_0x4d2161,_0x3dc0b8(_0x4bdf08['previousPosition']),_0x4c8aa5=!0x0):_0xfbfb3e=_0xfbfb3e||_0x4bdf08['previousPosition']));}function _0x3dc0b8(_0xbe23dd){const _0x3b9878=_0x1bba73['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x11865c}),_0x24edf2=_0x1bba73['mapper']['toViewPosition'](_0xbe23dd);_0x207d9d&&_0x3043aa['activeMarkers']['includes'](_0x22c4bc['markerName'])&&_0x1bba73['writer']['addClass']('ck-suggestion-marker--active',_0x3b9878),_0x1bba73['writer']['insert'](_0x24edf2,_0x3b9878),_0x1bba73['mapper']['bindElementToMarker'](_0x3b9878,_0x22c4bc['markerName']);}_0x5a0e03||_0x4c8aa5||!_0xfbfb3e||_0x3dc0b8(_0xfbfb3e);};}class q extends _0x418949{static get['requires'](){return[_0x25504a];}['init'](){const _0x4ffc93=this['editor'],_0x307783=_0x4ffc93['plugins']['get']('TrackChangesEditing');_0x307783['enableCommand']('delete');const _0x3abe8a=_0x4ffc93['commands']['get']('deleteForward');_0x307783['enableCommand']('deleteForward',(_0xa381a7,_0x2f215c={})=>{const _0x34c1c0=_0x4ffc93['model']['createSelection'](_0x4ffc93['model']['document']['selection']);_0x34c1c0['isCollapsed']&&_0x4ffc93['model']['modifySelection'](_0x34c1c0,{'direction':'forward','unit':_0x2f215c['unit']});const _0x3137c1=_0x34c1c0['getFirstRange'](),_0x3d04d1=_0xe858d8['fromRange'](_0x3137c1);let _0x4c99e1;_0xa381a7(_0x2f215c),_0x4c99e1='$graveyard'==_0x3d04d1['root']['rootName']?_0x4ffc93['model']['createRange'](_0x3137c1['start']):_0x4ffc93['model']['createRange'](_0x3d04d1['start'],_0x3d04d1['end']),_0x3d04d1['detach'](),_0x4ffc93['model']['enqueueChange'](_0x3abe8a['buffer']['batch'],_0x69c12e=>{_0x3abe8a['buffer']['lock'](),_0x69c12e['setSelection'](_0x69c12e['createRange'](_0x4c99e1['end'])),_0x3abe8a['buffer']['unlock']();});}),_0x4ffc93['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',_e(_0x4ffc93,'merge'),{'priority':'high'}),_0x4ffc93['data']['downcastDispatcher']['on']('addMarker:suggestion:deletion',(_0x5b44e4,_0x9da93e,_0x4a18cf)=>{_0x4a18cf['options']['showSuggestionHighlights']&&_e(_0x4ffc93,'merge',{'showActiveMarker':!0x1})['bind'](this)(_0x5b44e4,_0x9da93e,_0x4a18cf);},{'priority':'high'}),_0x4ffc93['editing']['downcastDispatcher']['on']('removeMarker:suggestion:deletion',(_0x1408be,_0x3ca3ba,_0x3951e9)=>{const _0x244430=_0x3951e9['mapper']['markerNameToElements'](_0x3ca3ba['markerName']);if(_0x244430){for(const _0x14e1ba of _0x244430)_0x14e1ba['is']('uiElement')&&(_0x3951e9['mapper']['unbindElementFromMarkerName'](_0x14e1ba,_0x3ca3ba['markerName']),_0x3951e9['writer']['remove'](_0x14e1ba));}},{'priority':'high'});}}class z extends _0x418949{['afterInit'](){const _0x33ed1d=this['editor'];if(!_0x33ed1d['plugins']['has']('ListEditing'))return;const _0x3fb896=_0x33ed1d['locale'],_0x2856aa=_0x33ed1d['plugins']['get']('TrackChangesEditing'),_0x5e54e5=_0x33ed1d['plugins']['has']('TodoListEditing'),_0x1ce3d6=!!_0x33ed1d['config']['get']('list.multiBlock');function _0x3d0b5e(_0x4d84fc){return{'type':'format','content':''+o(_0x3fb896,'*Set\x20format:*\x20%0',_0x4d84fc)};}function _0x2be248(_0x3a7efe){return{'type':'format','content':''+o(_0x3fb896,'*Remove\x20format:*\x20%0',_0x3a7efe)};}_0x2856aa['enableDefaultAttributesIntegration']('numberedList'),_0x2856aa['enableDefaultAttributesIntegration']('bulletedList'),_0x2856aa['enableDefaultAttributesIntegration']('customNumberedList'),_0x2856aa['enableDefaultAttributesIntegration']('customBulletedList'),_0x2856aa['enableDefaultAttributesIntegration']('indentList'),_0x2856aa['enableDefaultAttributesIntegration']('outdentList'),_0x2856aa['enableDefaultAttributesIntegration']('splitListItemAfter'),_0x2856aa['enableDefaultAttributesIntegration']('splitListItemBefore'),_0x2856aa['registerBlockAttribute']('listItemId'),_0x2856aa['registerBlockAttribute']('listType'),_0x2856aa['registerBlockAttribute']('listIndent'),_0x1ce3d6&&(_0x2856aa['enableDefaultAttributesIntegration']('mergeListItemBackward'),_0x2856aa['enableDefaultAttributesIntegration']('mergeListItemForward')),_0x5e54e5&&(_0x2856aa['enableDefaultAttributesIntegration']('todoList'),_0x2856aa['enableDefaultAttributesIntegration']('checkTodoList'),_0x2856aa['registerBlockAttribute']('todoListChecked'),_0x2856aa['descriptionFactory']['registerDescriptionCallback'](_0x358e89=>{const {data:_0xf70657}=_0x358e89;if(_0xf70657&&'todoListChecked'==_0xf70657['key'])return{'type':'format','content':_0xf70657['newValue']?o(_0x3fb896,'*Check\x20item*'):o(_0x3fb896,'*Uncheck\x20item*')};}),this['editor']['model']['document']['registerPostFixer'](_0x6bfb6d=>{if(_0x6bfb6d['batch']['isUndo'])return!0x1;let _0x507e88=!0x1;const _0x27f634=_0x2856aa['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x364070=>'todoListChecked'===_0x2856aa['_getAttributeKey'](_0x364070));for(const _0x42b9ad of _0x27f634){'todo'!=_0x42b9ad['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')&&(_0x2856aa['_findSuggestions'](_0x42b9ad['getFirstRange'](),'attribute')['find'](_0x375757=>'listType'===_0x2856aa['_getAttributeKey'](_0x375757['suggestion']))||(_0x6bfb6d['removeMarker'](_0x42b9ad['getFirstMarker']()),_0x507e88=!0x0));}return _0x507e88;})),_0x2856aa['descriptionFactory']['registerAttributeLabel']('listIndent',o(_0x3fb896,'FORMAT_INDENT'));const _0x8c18c8={'type':'format','content':''};_0x2856aa['descriptionFactory']['registerDescriptionCallback'](_0x448f54=>{const {data:_0x25c503}=_0x448f54;if(!_0x25c503||'listType'!=_0x25c503['key'])return;let _0x1b7b04=_0x448f54['head'];for(;_0x1b7b04;){if(_0x1b7b04['data']&&(('listStyle'==_0x1b7b04['data']['key']||'listMarkerStyle'==_0x1b7b04['data']['key'])&&(_0x1b7b04['data']['newValue']&&'default'!=_0x1b7b04['data']['newValue']||'default'!=_0x1b7b04['data']['oldValue']&&!_0x25c503['newValue'])||!_0x1ce3d6&&_0x1b7b04['data']['key']==m))return _0x8c18c8;_0x1b7b04=_0x1b7b04['next'];}if(null==_0x25c503['newValue'])switch(_0x25c503['oldValue']){case'bulleted':return _0x2be248(o(_0x3fb896,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x2be248(o(_0x3fb896,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x2be248(o(_0x3fb896,'ELEMENT_TODO_LIST'));}switch(_0x25c503['newValue']){case'bulleted':return _0x3d0b5e(o(_0x3fb896,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x3d0b5e(o(_0x3fb896,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x3d0b5e(o(_0x3fb896,'ELEMENT_TODO_LIST'));}}),_0x2856aa['descriptionFactory']['registerDescriptionCallback'](_0x6822d2=>{const {data:_0x330353}=_0x6822d2;if(_0x330353&&'listIndent'==_0x330353['key'])return null==_0x330353['newValue']||null==_0x330353['oldValue']&&0x0==_0x330353['newValue']?_0x8c18c8:void 0x0;}),_0x2856aa['descriptionFactory']['registerDescriptionCallback'](_0x552522=>{if('attribute'!=_0x552522['type'])return;const {data:_0x525bea}=_0x552522;if(!_0x525bea||'listItemId'!=_0x525bea['key'])return;const _0x456229=le(_0x552522);return'newValue'==_0x456229?{'type':'format','content':o(_0x3fb896,'*Merge:*\x20list\x20item')}:'oldValue'==_0x456229?{'type':'format','content':o(_0x3fb896,'*Split:*\x20list\x20item')}:_0x8c18c8;}),_0x33ed1d['model']['document']['registerPostFixer'](_0x4169c3=>this['listItemIdFixer'](_0x4169c3)),_0x33ed1d['model']['document']['registerPostFixer'](_0x4858fd=>this['noTrackChangesFixer'](_0x4858fd)),_0x33ed1d['model']['document']['registerPostFixer'](_0x22fd01=>this['assureChains'](_0x22fd01)),this['_supportLegacySuggestions']();}['listItemIdFixer'](_0x1be359){if(_0x1be359['batch']['isUndo']||!_0x1be359['batch']['isLocal'])return!0x1;let _0x45d107=!0x1;const _0xd65c66=this['editor']['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0xf7974a=>_0xf7974a['data']&&'listItemId'==_0xf7974a['data']['key'])['filter'](_0x38ac9a=>_0x38ac9a['data']['newValue']&&_0x38ac9a['data']['oldValue']);for(const _0x7a03f7 of _0xd65c66)le(_0x7a03f7)||(_0x1be359['removeMarker'](_0x7a03f7['getFirstMarker']()),_0x45d107=!0x0);return _0x45d107;}['noTrackChangesFixer'](_0x388e95){if(_0x388e95['batch']['isUndo']||!_0x388e95['batch']['isLocal'])return!0x1;const _0x22f12a=this['editor']['plugins']['get']('TrackChangesEditing');if(_0x22f12a['trackChangesCommand']['value'])return!0x1;let _0x1d8e2a=!0x1;const _0x2333a3=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'],_0x4c9720=this['editor']['model']['document']['differ']['getChanges']()['filter'](_0x45fd38=>'attribute'==_0x45fd38['type'])['filter'](_0x531981=>_0x2333a3['includes'](_0x531981['attributeKey']));if(0x0==_0x4c9720['length'])return _0x1d8e2a;for(const _0x4650e4 of _0x4c9720){const _0x1ab19c=_0x22f12a['_findSuggestions'](_0x4650e4['range'],'attribute')['filter'](_0x2e280b=>!_0x2e280b['meta']['isNextTo'])['map'](_0x3de54c=>_0x3de54c['suggestion'])['filter'](_0x52379d=>{const _0x92b074=_0x22f12a['_getAttributeKey'](_0x52379d);return _0x2333a3['includes'](_0x92b074);});if(_0x1ab19c['length']){for(const _0x4f8516 of _0x1ab19c)_0x388e95['removeMarker'](_0x4f8516['getFirstMarker']());_0x1d8e2a=!0x0;}}return _0x1d8e2a;}['assureChains'](_0x5901f0){if(_0x5901f0['batch']['isUndo']||!_0x5901f0['batch']['isLocal'])return!0x1;const _0x374a01=this['editor']['plugins']['get']('TrackChangesEditing');let _0x122b3b=!0x1;const _0x204f80=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'];for(const _0x30f194 of _0x374a01['getSuggestions']({'skipNotAttached':!0x0})){const _0x1f3699=_0x374a01['_findSuggestions'](_0x30f194['getFirstRange'](),'attribute')['map'](_0x3c229c=>_0x3c229c['suggestion'])['filter'](_0x2bfc52=>_0x2bfc52['data']&&_0x204f80['includes'](_0x2bfc52['data']['key']));if(!_0x1f3699['length'])continue;const _0xc56686=_0x1f3699[0x0]['head']['attributes']['groupId'];if(!_0x1f3699['every'](_0x552a1e=>_0x552a1e['attributes']['groupId']===_0xc56686)){for(const _0x22f4d3 of _0x1f3699)_0x1b6f6a(_0x22f4d3,_0xc56686)&&(_0x122b3b=!0x0);}}return _0x122b3b;function _0x12e182(_0x3e69af,_0x4f8b18){for(const _0x5d00d9 of _0x374a01['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x5d17b2=>'attribute'==_0x5d17b2['type']&&_0x5d17b2['attributes']['groupId']==_0x3e69af))_0x5d00d9['setAttribute']('groupId',_0x4f8b18);}function _0x1b6f6a(_0xd104cc,_0x5def27){let _0x430840=_0xd104cc['head'],_0x3f5e40=!0x1;for(;_0x430840;)_0x430840['attributes']['groupId']!=_0x5def27&&(_0x12e182(_0x430840['attributes']['groupId'],_0x5def27),_0x430840['setAttribute']('groupId',_0x5def27),_0x3f5e40=!0x0),_0x430840=_0x430840['next'];return _0x3f5e40;}}['_supportLegacySuggestions'](){const _0x199035=this['editor'],_0x4c808e=_0x199035['locale'],_0x472477=_0x199035['plugins']['get']('TrackChangesEditing');this['_registerLegacyDescription'](),_0x472477['_suggestionFactory']['registerCustomCallback']('formatBlock','documentList','accept',function(_0x3a245a,_0x4fe5f3){const _0x159e9f=[];for(let _0x3cc77a of _0x3a245a)_0x3cc77a['start']['nodeAfter']===_0x3cc77a['end']['parent']&&(_0x3cc77a=_0x199035['model']['createRange'](_0x199035['model']['createPositionAt'](_0x3cc77a['start']['nodeAfter'],0x0))),_0x159e9f['push'](_0x3cc77a);_0x199035['model']['change'](_0x260b41=>{const _0x388654=_0x199035['model']['document']['selection'],_0x333f2f=Array['from'](_0x388654['getRanges']())['map'](_0x1bef25=>_0xe858d8['fromRange'](_0x1bef25));_0x260b41['setSelection'](_0x159e9f),_0x199035['commands']['get'](_0x4fe5f3['commandName'])['refresh'](),_0x4fe5f3['commandParams']['push']({'forceDefaultExecution':!0x0}),_0x199035['execute'](_0x4fe5f3['commandName'],..._0x4fe5f3['commandParams']),_0x260b41['setSelection'](_0x333f2f);for(const _0x2f3907 of _0x333f2f)_0x2f3907['detach']();});}),_0x472477['descriptionFactory']['registerElementLabel'](function(_0xd7f7ae){const _0xf8fdac=!_0x199035['model']['schema']['isObject'](_0xd7f7ae),_0x459938=_0xd7f7ae['previousSibling'],_0x3a7325=_0xd7f7ae['nextSibling'],_0xb2108c=_0xd7f7ae['getAttribute']('listItemId'),_0x52bc11=!_0x459938||_0x459938['getAttribute']('listItemId')!==_0xb2108c,_0x388472=!_0x3a7325||_0x3a7325['getAttribute']('listItemId')!==_0xb2108c;return _0xf8fdac&&Boolean(_0xb2108c)&&_0x52bc11&&_0x388472;},_0x5a1e05=>o(_0x4c808e,'ELEMENT_LIST_ITEM',_0x5a1e05));}['_registerLegacyDescription'](){const _0x44600f=this['editor'],_0x4204cd=_0x44600f['locale'];function _0x2b96e8(_0x291a20){const _0x4fe6ec=_0x44600f['commands']['get']('bulletedList')['value'],_0x477c23=_0x44600f['commands']['get']('numberedList')['value'];return'numberedList'===_0x291a20?_0x4fe6ec:_0x477c23;}_0x44600f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](function(_0x5e0335){if('formatBlock'!=_0x5e0335['type'])return;const {data:_0x4a2fd0}=_0x5e0335;if(!_0x4a2fd0)return;let _0x28d967,_0x27ee65,_0x4e84a7,_0x592b57;switch(_0x4a2fd0['commandName']){case'bulletedList':_0x4e84a7=_0x4a2fd0['commandParams'][0x0]['forceValue'],_0x592b57=_0x2b96e8(_0x4a2fd0['commandName']),_0x28d967=_0x4e84a7?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x592b57&&_0x44600f['config']['get']('list.multiBlock')||(_0x28d967='*Change\x20to:*\x20%0'),_0x27ee65={'type':'format','content':o(_0x4204cd,_0x28d967,o(_0x4204cd,'ELEMENT_BULLETED_LIST'))};break;case'numberedList':_0x4e84a7=_0x4a2fd0['commandParams'][0x0]['forceValue'],_0x592b57=_0x2b96e8(_0x4a2fd0['commandName']),_0x28d967=_0x4e84a7?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x592b57&&_0x44600f['config']['get']('list.multiBlock')||(_0x28d967='*Change\x20to:*\x20%0'),_0x27ee65={'type':'format','content':o(_0x4204cd,_0x28d967,o(_0x4204cd,'ELEMENT_NUMBERED_LIST'))};break;case'indentList':_0x28d967='*Indent:*\x20%0',_0x27ee65={'type':'format','content':o(_0x4204cd,_0x28d967,o(_0x4204cd,'ELEMENT_LIST_ITEM'))};break;case'outdentList':_0x28d967=function(_0x10bc3c){const _0x415fa9=_0x10bc3c['getFirstRange']();let _0x285f35=_0x415fa9['start']['nodeAfter'];for(;_0x285f35&&_0x415fa9['containsItem'](_0x285f35);){if(_0x285f35['getAttribute']('listIndent')>0x0)return!0x1;_0x285f35=_0x285f35['nextSibling'];}return!0x0;}(_0x5e0335)?o(_0x4204cd,'*Format:*\x20remove\x20from\x20%0',o(_0x4204cd,function(_0x4e8a23){return'ELEMENT_'+_0x4e8a23['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST';}(_0x5e0335))):o(_0x4204cd,'*Outdent:*\x20%0',o(_0x4204cd,'ELEMENT_LIST_ITEM')),_0x27ee65={'type':'format','content':_0x28d967};break;case'mergeListItemBackward':case'mergeListItemForward':!0x1===_0x4a2fd0['multipleBlocks']&&(_0x28d967='*Merge:*\x20%0',_0x27ee65={'type':'deletion','content':o(_0x4204cd,_0x28d967,o(_0x4204cd,'ELEMENT_LIST_ITEM'))});}return _0x27ee65;});}}function le(_0x4a0dbf){let _0x353a6f=_0x4a0dbf['getFirstRange']()['start']['nodeAfter']['previousSibling'];for(;_0x353a6f;){const _0x914f32=_0x353a6f['getAttribute']('listItemId');if(!_0x914f32)return!0x1;if(_0x914f32==_0x4a0dbf['data']['newValue'])return'newValue';if(_0x914f32==_0x4a0dbf['data']['oldValue'])return'oldValue';_0x353a6f=_0x353a6f['previousSibling'];}return!0x1;}class ue extends _0x418949{['afterInit'](){if(!this['editor']['plugins']['has']('ListPropertiesEditing'))return;const _0x5beae3=this['editor']['config']['get']('list.properties'),_0x3e8612=this['editor']['plugins']['get']('TrackChangesEditing');_0x5beae3['styles']&&(_0x3e8612['enableDefaultAttributesIntegration']('listStyle'),_0x3e8612['registerBlockAttribute']('listStyle')),_0x5beae3['reversed']&&(_0x3e8612['enableDefaultAttributesIntegration']('listReversed'),_0x3e8612['registerBlockAttribute']('listReversed')),_0x5beae3['startIndex']&&(_0x3e8612['enableDefaultAttributesIntegration']('listStart'),_0x3e8612['registerBlockAttribute']('listStart'));const _0x457da6={'type':'format','content':''};_0x3e8612['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));const _0xfb6640=this['editor']['locale'];_0x3e8612['descriptionFactory']['registerAttributeLabel']('listReversed',o(_0xfb6640,'FORMAT_LIST_REVERSED')),_0x3e8612['descriptionFactory']['registerDescriptionCallback'](_0x194d7c=>{const {data:_0x5dd074}=_0x194d7c;if(_0x5dd074&&'listReversed'==_0x5dd074['key'])return null==_0x5dd074['newValue']||0x0==_0x5dd074['newValue']&&null==_0x5dd074['oldValue']?_0x457da6:void 0x0;}),_0x3e8612['descriptionFactory']['registerAttributeLabel']('listStart',o(_0xfb6640,'FORMAT_LIST_START')),_0x3e8612['descriptionFactory']['registerDescriptionCallback'](_0x41fe70=>{const {data:_0x28f450}=_0x41fe70;if(_0x28f450&&'listStart'==_0x28f450['key'])return null==_0x28f450['newValue']||0x1==_0x28f450['newValue']&&null==_0x28f450['oldValue']?_0x457da6:void 0x0;}),this['editor']['model']['document']['registerPostFixer'](_0x50f3eb=>{if(_0x50f3eb['batch']['isUndo'])return!0x1;let _0x22ff0e=!0x1;const _0x22b53c=_0x3e8612['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x5cdba8=>{const _0x49a433=_0x3e8612['_getAttributeKey'](_0x5cdba8);return'listStart'==_0x49a433||'listReversed'==_0x49a433;});for(const _0x2729df of _0x22b53c){const _0x908803=_0x2729df['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType');if('numbered'==_0x908803||'customNumbered'==_0x908803)continue;_0x3e8612['_findSuggestions'](_0x2729df['getFirstRange'](),'attribute')['find'](_0x44addd=>'listType'==_0x3e8612['_getAttributeKey'](_0x44addd['suggestion']))||(_0x50f3eb['removeMarker'](_0x2729df['getFirstMarker']()),_0x22ff0e=!0x0);}return _0x22ff0e;}),this['_registerLegacyDescription']();}['handleDescriptions'](_0x55222f){const _0x382e10=this['editor']['locale'],{data:_0x2768d2}=_0x55222f,_0x5367d6={'type':'format','content':''};if(!_0x2768d2||'listStyle'!=_0x2768d2['key'])return;if(!_0x2768d2['oldValue'])return'default'==_0x2768d2['newValue']?_0x5367d6:{'type':'format','content':''+o(_0x382e10,'*Set\x20format:*\x20%0',o(_0x382e10,this['_getTranslationKeyForListStyle'](_0x2768d2['newValue'])))};if(!_0x2768d2['newValue']){if('default'==_0x2768d2['oldValue'])return _0x5367d6;let _0x4f511d=_0x55222f['head'];for(;_0x4f511d;){if(_0x4f511d['data']&&'listType'==_0x4f511d['data']['key']&&_0x4f511d['data']['newValue'])return _0x5367d6;_0x4f511d=_0x4f511d['next'];}return{'type':'format','content':''+o(_0x382e10,'*Remove\x20format:*\x20%0',o(_0x382e10,this['_getTranslationKeyForListStyle'](_0x2768d2['oldValue'])))};}if('default'!=_0x2768d2['newValue'])return{'type':'format','content':''+o(_0x382e10,'*Set\x20format:*\x20%0',o(_0x382e10,this['_getTranslationKeyForListStyle'](_0x2768d2['newValue'])))};let _0x31e6a6=_0x55222f['head'];for(;_0x31e6a6;){if(_0x31e6a6['data']&&'listType'==_0x31e6a6['data']['key']&&_0x31e6a6['data']['newValue']&&_0x31e6a6['data']['oldValue'])return _0x5367d6;_0x31e6a6=_0x31e6a6['next'];}return{'type':'format','content':o(_0x382e10,'*Set\x20format:*\x20%0',o(_0x382e10,'ELEMENT_'+_0x55222f['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST_DEFAULT'))};}['_registerLegacyDescription'](){const _0x1ba37d=this['editor'],_0x1da7c3=_0x1ba37d['locale'];_0x1ba37d['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x377364=>{if('formatBlock'!=_0x377364['type'])return;const {data:_0x362f23}=_0x377364;if(!_0x362f23)return;let _0x2e7f44,_0x40974a;switch(_0x362f23['commandName']){case'listStyle':_0x2e7f44='*Change\x20to:*\x20%0',_0x40974a={'type':'format','content':o(_0x1da7c3,_0x2e7f44,o(_0x1da7c3,this['_getTranslationKeyForListStyle'](_0x362f23['commandParams'][0x0]['type'])))};break;case'listReversed':_0x2e7f44=_0x362f23['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x40974a={'type':'format','content':o(_0x1da7c3,_0x2e7f44)};break;case'listStart':_0x2e7f44='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x40974a={'type':'format','content':o(_0x1da7c3,_0x2e7f44,_0x362f23['commandParams'][0x0]['startIndex'])};}return _0x40974a;});}['_getTranslationKeyForListStyle'](_0x4aae8c){return'ELEMENT_'+function(_0x225ebc){if(pe['includes'](_0x225ebc))return'bulleted';if(ye['includes'](_0x225ebc))return'numbered';return null;}(_0x4aae8c)['toUpperCase']()+'_LIST_'+_0x4aae8c['toUpperCase']()['replace'](/-/g,'_');}}const pe=['disc','circle','square'],ye=['decimal','decimal-leading-zero','lower-roman','upper-roman','lower-latin','upper-latin'];class W extends _0x418949{static get['requires'](){return[_0x1ede81];}['init'](){const _0x22298b=this['editor'],_0x331ac6=_0x22298b['plugins']['get']('TrackChangesEditing'),_0x16706b=_0x22298b['commands']['get']('enter');_0x331ac6['enableCommand']('enter',()=>{_0x22298b['model']['change'](_0x14d7fd=>{const _0x515528=_0x22298b['model']['document']['selection'],_0x4be847=_0x515528['getFirstPosition'](),_0x50bf56=_0xe858d8['fromRange'](_0x515528['getFirstRange']());if(_0x16706b['enterBlock'](_0x14d7fd)){const _0x2e0896=_0x22298b['model']['createPositionAt'](_0x4be847['parent']['nextSibling'],0x0),_0x4990e7=_0x14d7fd['createRange'](_0x4be847,_0x2e0896);_0x331ac6['markInsertion'](_0x4990e7);}else _0x14d7fd['setSelection'](_0x14d7fd['createRange'](_0x50bf56['end']));_0x50bf56['detach'](),_0x16706b['fire']('afterExecute',{'writer':_0x14d7fd});});}),_0x22298b['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',_e(_0x22298b,'split'),{'priority':'high'}),_0x22298b['editing']['downcastDispatcher']['on']('removeMarker:suggestion:insertion',(_0x35e4e1,_0x5a3337,_0x3e7caf)=>{const _0x51449d=_0x3e7caf['mapper']['markerNameToElements'](_0x5a3337['markerName']);if(_0x51449d){for(const _0x427067 of _0x51449d)_0x427067['hasClass']('ck-suggestion-marker-split')&&(_0x3e7caf['mapper']['unbindElementFromMarkerName'](_0x427067,_0x5a3337['markerName']),_0x3e7caf['writer']['remove'](_0x427067));}},{'priority':'high'}),_0x22298b['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x502e8f,_0x97a95a,_0x43f2b8)=>{_0x43f2b8['options']['showSuggestionHighlights']&&_e(_0x22298b,'split',{'showActiveMarker':!0x1})['bind'](this)(_0x502e8f,_0x97a95a,_0x43f2b8);},{'priority':'high'});}}class J extends _0x418949{['afterInit'](){if(!this['editor']['plugins']['has']('FindAndReplaceEditing'))return;const _0x382097=this['editor']['plugins']['get']('TrackChangesEditing');_0x382097['enableCommand']('find',this['handleFindCommand']['bind'](this)),_0x382097['enableCommand']('findNext'),_0x382097['enableCommand']('findPrevious'),_0x382097['enableCommand']('replace'),_0x382097['enableCommand']('replaceAll');}['handleFindCommand'](_0x5443e6,_0x31be5e,_0x2becda={}){const _0x57912c=this['editor']['plugins']['get']('FindAndReplaceUtils');return _0x5443e6(_0x3e1fcf=>('string'==typeof _0x31be5e?_0x57912c['findByTextCallback'](_0x31be5e,_0x2becda):_0x31be5e)(_0x3e1fcf)['filter'](_0x59f2c5=>!0x1===this['_isInDeletionRange'](_0x59f2c5,_0x3e1fcf['item'])),_0x2becda);}['_isInDeletionRange'](_0xe0dc4,_0x484ad9){const _0x36bab3=this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x484ad9,_0xe0dc4['start']),this['editor']['model']['createPositionAt'](_0x484ad9,_0xe0dc4['end']));for(const _0x52904d of this['editor']['model']['markers']['getMarkersGroup']('suggestion:deletion'))if(null!==_0x36bab3['getIntersection'](_0x52904d['getRange']()))return!0x0;return!0x1;}}const ro=[{'pluginName':'FontSizeEditing','commandName':'fontSize'},{'pluginName':'FontFamilyEditing','commandName':'fontFamily'},{'pluginName':'FontColorEditing','commandName':'fontColor'},{'pluginName':'FontBackgroundColorEditing','commandName':'fontBackgroundColor'}];class Q extends _0x418949{['afterInit'](){const _0x5d85a9=this['editor']['locale'],_0x55950c=this['editor']['plugins']['get']('TrackChangesEditing');for(const {pluginName:_0x1d8f24,commandName:_0x310072}of ro)this['editor']['plugins']['has'](_0x1d8f24)&&(_0x55950c['enableDefaultAttributesIntegration'](_0x310072),_0x55950c['registerInlineAttribute'](_0x310072));_0x5d85a9['t'],_0x55950c['descriptionFactory']['registerAttributeLabel']('fontSize',o(_0x5d85a9,'FORMAT_FONT_SIZE')),_0x55950c['descriptionFactory']['registerAttributeLabel']('fontFamily',o(_0x5d85a9,'FORMAT_FONT_FAMILY')),_0x55950c['descriptionFactory']['registerAttributeLabel']('fontColor',o(_0x5d85a9,'FORMAT_FONT_COLOR')),_0x55950c['descriptionFactory']['registerAttributeLabel']('fontBackgroundColor',o(_0x5d85a9,'FORMAT_FONT_BACKGROUND')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x166649=this['editor'],_0x56bf52=_0x166649['locale'];_0x166649['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x26f74f=>{const _0x2d72fd=_0x56bf52['t'];if('formatInline'!=_0x26f74f['type'])return;const {data:_0x199421}=_0x26f74f;if(null!=_0x199421){if('fontSize'==_0x199421['commandName']){const _0x292b37=_0x199421['commandParams'][0x0]['value'];if(_0x292b37){const _0x2878c7=_0x2d72fd(this['editor']['plugins']['get']('FontSize')['normalizeSizeOptions'](this['editor']['config']['get']('fontSize.options'))['find'](_0x4145fb=>_0x4145fb['model']==_0x292b37)['title'])['toLowerCase']();return{'type':'format','content':o(_0x56bf52,'*Set\x20font\x20size:*\x20%0',_0x2878c7)};}return{'type':'format','content':o(_0x56bf52,'*Reset\x20font\x20size*')};}if('fontFamily'==_0x199421['commandName']){const _0x1aaf05=_0x199421['commandParams'][0x0]['value'];return _0x1aaf05?{'type':'format','content':o(_0x56bf52,'*Set\x20font\x20family:*\x20%0',_0x1aaf05)}:{'type':'format','content':o(_0x56bf52,'*Reset\x20font\x20family*')};}if('fontColor'==_0x199421['commandName']){const _0x3d55ce=_0x199421['commandParams'][0x0]['value'];if(_0x3d55ce){const _0x31850e=_0x546a5d(this['editor']['config']['get']('fontColor.colors'))['find'](_0x3f7ccb=>_0x3f7ccb['model']==_0x3d55ce);let _0x1335db=_0x3d55ce,_0x1c0c72='';return _0x31850e&&(_0x1335db=_0x31850e['label'],_0x1c0c72=_0x2d72fd(_0x1335db)['toLowerCase']()),{'type':'format','content':o(_0x56bf52,'*Set\x20font\x20color:*\x20%0',_0x1c0c72)['trim'](),'color':{'value':_0x3d55ce,'title':_0x1c0c72||_0x1335db}};}return{'type':'format','content':o(_0x56bf52,'*Reset\x20font\x20color*')};}if('fontBackgroundColor'==_0x199421['commandName']){const _0x3b75ee=_0x199421['commandParams'][0x0]['value'];if(_0x3b75ee){const _0x123d8e=_0x546a5d(this['editor']['config']['get']('fontBackgroundColor.colors'))['find'](_0xfd069a=>_0xfd069a['model']==_0x3b75ee);let _0x1499ea=_0x3b75ee,_0xb3d2c1='';return _0x123d8e&&(_0x1499ea=_0x123d8e['label'],_0xb3d2c1=_0x2d72fd(_0x1499ea)['toLowerCase']()),{'type':'format','content':o(_0x56bf52,'*Set\x20font\x20background\x20color:*\x20%0',_0xb3d2c1)['trim'](),'color':{'value':_0x3b75ee,'title':_0xb3d2c1||_0x1499ea}};}return{'type':'format','content':o(_0x56bf52,'*Reset\x20font\x20background\x20color*')};}}});}}class X extends _0x418949{['afterInit'](){const _0x3806d5=this['editor'],_0x13f1f9=_0x3806d5['plugins']['get']('TrackChangesEditing'),_0x5d6358=_0x3806d5['commands']['get']('copyFormat'),_0x53ac3b=_0x3806d5['commands']['get']('pasteFormat');_0x5d6358&&_0x53ac3b&&(_0x13f1f9['enableDefaultAttributesIntegration']('pasteFormat'),_0x13f1f9['enableCommand']('copyFormat'),this['_registerLegacyDescription']());}['_registerLegacyDescription'](){const _0x278a18=this['editor'],_0x52d2a9=_0x278a18['locale'];_0x278a18['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x13e133=>{if('formatBlock'!=_0x13e133['type']&&'formatInline'!=_0x13e133['type'])return;const {data:_0x24ce41}=_0x13e133;if(_0x24ce41&&'pasteFormat'===_0x24ce41['commandName']){const _0x26ca09=[],_0x3e45c4=_0x24ce41['commandParams'][0x0];for(const [_0x31e2e2,_0x1daa35]of Object['entries'](_0x3e45c4))_0x26ca09['push'](so(_0x278a18,_0x31e2e2,_0x1daa35));return _0x26ca09['length']?{'type':'format','content':o(_0x52d2a9,'*Set\x20format\x20to:*\x20%0',_0x26ca09['join'](',\x20'))}:{'type':'format','content':o(_0x52d2a9,'*Remove\x20all\x20formatting*')};}});}}function so(_0x270933,_0x142eec,_0x3d5b7b){const _0x3d46d5=_0x270933['locale']['t'],_0x3fde54=_0x142eec['split'](/(?=[A-Z])/)['join']('\x20'),_0x36bbc0=_0x3d46d5(_0x3fde54['charAt'](0x0)['toUpperCase']()+_0x3fde54['slice'](0x1))['toLowerCase']();if('boolean'==typeof _0x3d5b7b)return _0x36bbc0;if('fontColor'===_0x142eec||'fontBackgroundColor'===_0x142eec){const _0x2ab116=_0x546a5d(_0x270933['config']['get']('fontColor.colors'))['find'](_0x38fc8d=>_0x38fc8d['model']==_0x3d5b7b);return _0x36bbc0+'\x20('+(_0x2ab116?_0x3d46d5(_0x2ab116['label'])['toLowerCase']():_0x3d5b7b)+')';}if('fontSize'===_0x142eec&&isNaN(parseFloat(_0x3d5b7b))){const _0x53b6d2=_0x270933['plugins']['get']('FontSize')['normalizeSizeOptions'](_0x270933['config']['get']('fontSize.options'))['find'](_0x3b794f=>_0x3b794f['model']==_0x3d5b7b);return _0x36bbc0+'\x20('+(_0x53b6d2?_0x3d46d5(_0x53b6d2['title'])['toLowerCase']():_0x3d5b7b)+')';}return _0x36bbc0+'\x20('+_0x3d5b7b+')';}class Y extends _0x418949{['_headingOptions'];['afterInit'](){const _0x270f45=this['editor'];if(!_0x270f45['plugins']['has']('HeadingEditing'))return;this['_headingOptions']=_0x270f45['config']['get']('heading.options');const _0xed968c=_0x270f45['locale'],_0x5e4039=_0x270f45['plugins']['get']('TrackChangesEditing');_0x5e4039['enableDefaultAttributesIntegration']('heading');for(const _0x235c8b of this['_headingOptions'])'paragraph'!=_0x235c8b['model']&&_0x5e4039['descriptionFactory']['registerElementLabel'](_0x235c8b['model'],_0x151845=>{const _0x4bcfe5=this['_getHeadingLevel'](_0x235c8b['model']);return null!==_0x4bcfe5?_0x3d0b85(_0x151845,_0x4bcfe5):_0x4c5790(_0x151845,_0x235c8b['title']);});function _0x3d0b85(_0x2baa31,_0x917bf){return o(_0xed968c,'ELEMENT_HEADING',[_0x2baa31,_0x917bf]);}function _0x4c5790(_0x3e7bba,_0x3136a0){return o(_0xed968c,'ELEMENT_HEADING_CUSTOM',[_0x3e7bba,_0x3136a0]);}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5beb29=this['editor'],_0x1f09c4=_0x5beb29['locale'];function _0x2fac78(_0x1c3070,_0xe04ae8){return o(_0x1f09c4,'ELEMENT_HEADING_CUSTOM',[_0x1c3070,_0xe04ae8]);}_0x5beb29['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x57e13c=>{if('formatBlock'!=_0x57e13c['type'])return;const {data:_0x1475fc}=_0x57e13c;if(_0x1475fc&&'heading'==_0x1475fc['commandName']){const _0x59c15a=_0x1475fc['commandParams'][0x0]['value'],_0x58787f=this['_getHeadingLevel'](_0x59c15a);if(null!==_0x58787f)return{'type':'format','content':o(_0x1f09c4,'*Change\x20to:*\x20%0',(_0x23d846=0x1,_0x1f3723=_0x58787f,o(_0x1f09c4,'ELEMENT_HEADING',[_0x23d846,_0x1f3723])))};const _0x40f332=this['_headingOptions']['find'](_0x3b145b=>_0x3b145b['model']===_0x59c15a)['title'];return{'type':'format','content':o(_0x1f09c4,'*Change\x20to:*\x20%0',_0x2fac78(0x1,_0x40f332))};}var _0x23d846,_0x1f3723;});}['_getHeadingLevel'](_0x5502a5){const _0x2c4331=_0x5502a5['match'](/^heading(\d+)/);if(_0x2c4331)return _0x2c4331[0x1];const _0x296016=this['_headingOptions']?.['find'](_0x3edfe7=>_0x3edfe7['model']==_0x5502a5);if(_0x296016&&_0x296016['view']){const _0x278225=_0x296016['view'],_0xd715d8=(_0x278225['name']??_0x278225)['match'](/^h(\d+)/);if(_0xd715d8)return _0xd715d8[0x1];}return null;}}class Z extends _0x418949{['afterInit'](){const _0x39a518=this['editor'];if(!_0x39a518['plugins']['has']('HighlightEditing'))return;const _0x26d1d6=_0x39a518['plugins']['get']('TrackChangesEditing'),_0x10005f=_0x39a518['locale'];_0x26d1d6['enableDefaultAttributesIntegration']('highlight'),_0x26d1d6['registerInlineAttribute']('highlight'),_0x26d1d6['descriptionFactory']['registerAttributeLabel']('highlight',o(_0x10005f,'FORMAT_HIGHLIGHT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x2041ee=this['editor'],_0x4ec47e=_0x2041ee['locale'];_0x2041ee['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x46026d=>{if('formatInline'!=_0x46026d['type'])return;const {data:_0x45799a}=_0x46026d;if(_0x45799a&&'highlight'==_0x45799a['commandName']){const _0x4fcb5c=_0x4ec47e['t'],_0x3c80b2=_0x45799a['commandParams'][0x0]['value'];if(_0x3c80b2){const _0x162cfe=_0x2041ee['config']['get']('highlight.options')['find'](_0x2f4cfa=>_0x2f4cfa['model']==_0x3c80b2),_0x492d4a=_0x4fcb5c(_0x162cfe['title'])['toLowerCase']();return{'type':'format','content':o(_0x4ec47e,'*Set\x20highlight:*\x20%0',_0x492d4a),'color':{'value':_0x162cfe['color'],'title':_0x162cfe['title']}};}return{'type':'format','content':o(_0x4ec47e,'*Remove\x20highlight*',o(_0x4ec47e,'FORMAT_HIGHLIGHT'))};}});}}class tt extends _0x418949{['afterInit'](){const _0x44b174=this['editor'];if(!_0x44b174['plugins']['has']('HorizontalLineEditing'))return;_0x44b174['plugins']['get']('TrackChangesEditing')['enableCommand']('horizontalLine');const _0x22ae12=_0x44b174['plugins']['get']('TrackChangesEditing'),_0x19ed68=_0x44b174['locale'];_0x22ae12['descriptionFactory']['registerElementLabel']('horizontalLine',_0x1b626d=>o(_0x19ed68,'ELEMENT_HORIZONTAL_LINE',_0x1b626d)),_0x44b174['conversion']['for']('dataDowncast')['elementToStructure']({'model':'horizontalLine','view':(_0xf2437,{writer:_0x2fb4b4,options:_0xbe3974})=>{if(!_0xbe3974['showSuggestionHighlights'])return null;const _0x501ee5=_0x2fb4b4['createContainerElement']('div'),_0x391ff3=_0x2fb4b4['createEmptyElement']('hr');return _0x2fb4b4['addClass']('ck-horizontal-line',_0x501ee5),_0x2fb4b4['insert'](_0x2fb4b4['createPositionAt'](_0x501ee5,0x0),_0x391ff3),_0x501ee5;},'converterPriority':'high'});}}class et extends _0x418949{['afterInit'](){const _0x2ffe62=this['editor'];if(!_0x2ffe62['plugins']['has']('HtmlEmbed'))return;const _0x15a922=_0x2ffe62['plugins']['get']('TrackChangesEditing'),_0x2f0f5d=_0x2ffe62['locale'];_0x15a922['descriptionFactory']['registerElementLabel']('rawHtml',_0x5747ae=>o(_0x2f0f5d,'ELEMENT_HTML_EMBED',_0x5747ae)),_0x15a922['enableDefaultAttributesIntegration']('htmlEmbed'),_0x15a922['registerBlockAttribute']('value'),_0x15a922['descriptionFactory']['registerDescriptionCallback'](_0x19e877=>{if('attribute'!=_0x19e877['type'])return;const {data:_0x8e9cc4}=_0x19e877;if(_0x8e9cc4&&'value'==_0x8e9cc4['key']&&_0x19e877['getFirstRange']()['start']['nodeAfter']['is']('element','rawHtml')){const _0x49ed6e=o(_0x2f0f5d,'ELEMENT_HTML_EMBED');return{'type':'format','content':o(_0x2f0f5d,'*Change\x20%0\x20content*',_0x49ed6e)};}}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x122adf=this['editor'],_0x1cc1fc=_0x122adf['locale'];_0x122adf['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2e6e6b=>{if('formatBlock'!=_0x2e6e6b['type'])return;const {data:_0x36b49b}=_0x2e6e6b;if(_0x36b49b&&'htmlEmbed'==_0x36b49b['commandName']){const _0x2aaab1=o(_0x1cc1fc,'ELEMENT_HTML_EMBED');return{'type':'format','content':o(_0x1cc1fc,'*Change\x20%0\x20content*',_0x2aaab1)};}});}}class it extends _0x418949{['afterInit'](){const _0x46d5ad=this['editor'];if(!_0x46d5ad['plugins']['has']('ImageEditing'))return;const _0xee380c=_0x46d5ad['plugins']['get']('TrackChangesEditing'),_0x128001=_0x46d5ad['plugins']['get']('ImageUtils'),_0x57d9ff=_0x46d5ad['locale'];_0xee380c['enableCommand']('insertImage'),_0xee380c['descriptionFactory']['registerElementLabel']('imageBlock',_0x34b5b2=>o(_0x57d9ff,'ELEMENT_IMAGE',_0x34b5b2)),_0xee380c['descriptionFactory']['registerElementLabel']('imageInline',_0x3473d4=>o(_0x57d9ff,'ELEMENT_INLINE_IMAGE',_0x3473d4)),_0xee380c['descriptionFactory']['registerElementLabel']('caption',()=>o(_0x57d9ff,'ELEMENT_CAPTION')),_0x46d5ad['plugins']['has']('ImageUploadEditing')&&_0xee380c['enableCommand']('uploadImage'),_0x46d5ad['plugins']['has']('ImageBlockEditing')&&_0x46d5ad['plugins']['has']('ImageInlineEditing')&&(_0xee380c['enableCommand']('imageTypeInline',(_0x3d0e97,_0x49bfe2)=>{const _0x45d42f=_0x128001['getClosestSelectedImageElement'](_0x46d5ad['model']['document']['selection']);_0x46d5ad['model']['change'](()=>{_0xee380c['markBlockFormat'](_0x45d42f,{'commandName':'imageTypeInline','commandParams':[_0x49bfe2]},[],'convertBlockImageToInline');});}),_0xee380c['enableCommand']('imageTypeBlock',(_0x2e4324,_0x1287de)=>{_0x46d5ad['model']['change'](_0x333795=>{let _0x2befa6=_0x128001['getClosestSelectedImageElement'](_0x46d5ad['model']['document']['selection']),_0x41f4c4=_0x333795['createRangeOn'](_0x2befa6);const _0x1bdc7f=_0x2b727a['fromPosition'](_0x41f4c4['start'],'toPrevious'),_0x3a4d00=_0x2b727a['fromPosition'](_0x41f4c4['end'],'toNext');_0xee380c['forceDefaultExecution'](()=>_0x2e4324(_0x1287de)),_0x2befa6=_0x128001['getClosestSelectedImageElement'](_0x46d5ad['model']['document']['selection']),_0x41f4c4=_0x333795['createRangeOn'](_0x2befa6);const _0x27e199=_0x333795['createRange'](_0x1bdc7f,_0x3a4d00);_0x1bdc7f['detach'](),_0x3a4d00['detach'](),_0xee380c['markBlockFormat'](_0x2befa6,{'commandName':'imageTypeInline','commandParams':[_0x1287de]},[],'convertInlineImageToBlock'),_0x27e199['start']['isBefore'](_0x41f4c4['start'])&&_0xee380c['markInsertion'](_0x333795['createRange'](_0x27e199['start'],_0x41f4c4['start']),'convertInlineImageToBlock'),_0x41f4c4['end']['isBefore'](_0x27e199['end'])&&_0xee380c['markInsertion'](_0x333795['createRange'](_0x41f4c4['end'],_0x27e199['end']),'convertInlineImageToBlock');});}),_0xee380c['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','join',()=>!0x1),_0xee380c['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','accept',()=>!0x1),_0xee380c['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','discard',_0xee380c['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')),_0xee380c['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','join',()=>!0x1),_0xee380c['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','discard',([_0x5b9f14])=>{const _0x121a9c=_0xee380c['_suggestionFactory']['getSuggestionCallback']('insertion','','discard');let _0x1490fd=_0x5b9f14['start'],_0x195bcc=_0x5b9f14['end'];const _0x14465f=_0x46d5ad['model']['schema']['getNearestSelectionRange'](_0x1490fd,'backward'),_0x240c2a=_0x46d5ad['model']['schema']['getNearestSelectionRange'](_0x195bcc,'forward');_0x14465f['isCollapsed']&&(_0x1490fd=_0x14465f['start']),_0x240c2a['isCollapsed']&&(_0x195bcc=_0x240c2a['end']),_0x121a9c([_0x46d5ad['model']['createRange'](_0x1490fd,_0x195bcc)]);}),_0xee380c['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','chain',_0x2083d6),_0xee380c['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','chain',_0x2083d6)),_0x46d5ad['plugins']['has']('ImageCaptionEditing')&&(_0xee380c['enableCommand']('toggleImageCaption',(_0x6d5c62,_0x2ad1e2)=>{const _0x518f50=_0x46d5ad['plugins']['get']('ImageCaptionUtils');let _0x28e005=_0x128001['getClosestSelectedImageElement'](_0x46d5ad['model']['document']['selection']),_0x59aaf0=_0x518f50['getCaptionFromImageModelElement'](_0x28e005);_0x46d5ad['model']['change'](()=>{if(_0x59aaf0)return void _0xee380c['markDeletion'](_0x46d5ad['model']['createRangeOn'](_0x59aaf0));const _0x512033=_0x128001['isBlockImage'](_0x28e005);_0x6d5c62(_0x2ad1e2),_0x28e005=_0x128001['getClosestSelectedImageElement'](_0x46d5ad['model']['document']['selection']),_0x59aaf0=_0x518f50['getCaptionFromImageModelElement'](_0x28e005),_0xee380c['markInsertion'](_0x46d5ad['model']['createRangeOn'](_0x59aaf0),_0x512033?null:'imageCaption');});}),_0xee380c['_suggestionFactory']['registerCustomCallback']('insertion','imageCaption','chain',_0x2083d6));const _0x5b407e=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x161030(_0x2b1f9f,_0x4c9461){const _0x247637=_0x5b407e['findIndex'](({type:_0x585d33,subType:_0x9e6557})=>_0x2b1f9f['type']==_0x585d33&&_0x2b1f9f['subType']==_0x9e6557),_0xf589d5=_0x5b407e['findIndex'](({type:_0x191e9e,subType:_0x3a7995})=>_0x4c9461['type']==_0x191e9e&&_0x4c9461['subType']==_0x3a7995);if(_0x247637<0x0||_0xf589d5<0x0)return!0x1;const _0x16ab66=_0x2b1f9f['getFirstRange'](),_0x5e7cc6=_0x4c9461['getFirstRange']();if((0x0==_0x247637||0x1==_0x247637)&&0x2==_0xf589d5&&_0x16ab66['isIntersecting'](_0x5e7cc6))return!0x0;if(0x2==_0x247637&&0x3==_0xf589d5){const _0x41a54f=_0xee380c['_findSuggestions'](_0x16ab66,'insertion')['filter'](({suggestion:_0x5d4911,meta:_0x1e68e4})=>_0x1e68e4['isOwn']&&'convertInlineImageToBlock'==_0x5d4911['subType']);if(_0x41a54f['length']>0x1&&_0x5e7cc6['end']['isEqual'](_0x16ab66['start']))return!0x0;if(0x1==_0x41a54f['length']&&(_0x16ab66['start']['isEqual'](_0x5e7cc6['end'])||_0x16ab66['end']['isEqual'](_0x5e7cc6['start'])))return!0x0;}if(0x3==_0x247637&&0x3==_0xf589d5&&_0x16ab66['start']['isBefore'](_0x5e7cc6['start'])){const _0x7531fb=_0x16ab66['end']['nodeAfter'],_0x12beb0=_0x5e7cc6['start']['nodeBefore'];return _0x128001['isBlockImage'](_0x7531fb)&&_0x7531fb===_0x12beb0;}return!0x1;}function _0x2083d6(_0x11c354,_0x549020){return _0x161030(_0x11c354,_0x549020)?[_0x11c354,_0x549020]:_0x161030(_0x549020,_0x11c354)?[_0x549020,_0x11c354]:null;}_0x46d5ad['plugins']['has']('ImageResize')&&(_0xee380c['enableDefaultAttributesIntegration']('resizeImage'),_0xee380c['registerBlockAttribute']('resizedWidth'),_0xee380c['descriptionFactory']['registerAttributeLabel']('resizedWidth',o(_0x57d9ff,'FORMAT_IMAGE_SIZE'))),_0x46d5ad['plugins']['has']('ImageTextAlternativeEditing')&&(_0xee380c['enableDefaultAttributesIntegration']('imageTextAlternative'),_0xee380c['registerBlockAttribute']('alt')),_0xee380c['descriptionFactory']['registerDescriptionCallback'](_0xb1a72d=>{if(!!_0x5b407e['find'](({type:_0xf8e290,subType:_0xf2fb9a})=>_0xb1a72d['type']==_0xf8e290&&_0xb1a72d['subType']==_0xf2fb9a))return _0xb1a72d['previous']?{}:void 0x0;}),_0xee380c['descriptionFactory']['registerDescriptionCallback'](_0xc05ff9=>{if('insertion'==_0xc05ff9['type']||'deletion'==_0xc05ff9['type']){const _0x2bd266=_0xc05ff9['getContainedElement']();if(_0x2bd266&&_0x2bd266['is']('element','caption'))return{'type':'insertion'==_0xc05ff9['type']?'addObject':'removeObject','element':_0x2bd266,'quantity':0x1};}}),_0xee380c['descriptionFactory']['registerDescriptionCallback'](_0x338a9d=>'formatBlock'==_0x338a9d['type']&&'convertInlineImageToBlock'==_0x338a9d['subType']?{'type':'format','content':'Inline\x20image\x20to\x20block\x20image'}:'formatBlock'==_0x338a9d['type']&&'convertBlockImageToInline'==_0x338a9d['subType']?{'type':'format','content':'Block\x20image\x20to\x20inline\x20image'}:void 0x0),_0xee380c['descriptionFactory']['registerDescriptionCallback'](_0x25f145=>{if('attribute'!=_0x25f145['type'])return;const {data:_0x2f555a}=_0x25f145;if(!_0x2f555a||'alt'!=_0x2f555a['key'])return;const _0x502c15=_0x2f555a['newValue'];return _0x502c15?{'type':'format','content':o(_0x57d9ff,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x502c15+'\x22')}:{'type':'format','content':o(_0x57d9ff,'*Remove\x20image\x20text\x20alternative*')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x435d5a=this['editor'],_0x26e631=_0x435d5a['locale'];_0x435d5a['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0xa7679b=>{if('formatBlock'!=_0xa7679b['type']&&'formatInline'!=_0xa7679b['type'])return;const {data:_0x179381}=_0xa7679b;if(_0x179381){if('imageTextAlternative'==_0x179381['commandName']){const _0x1528f8=_0x179381['commandParams'][0x0]['newValue'];return _0x1528f8?{'type':'format','content':o(_0x26e631,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x1528f8+'\x22')}:{'type':'format','content':o(_0x26e631,'*Remove\x20image\x20text\x20alternative*')};}if('resizeImage'==_0x179381['commandName']){const _0x16dda5=_0x179381['commandParams'][0x0]['width'];return _0x16dda5?{'type':'format','content':o(_0x26e631,'*Set\x20image\x20width:*\x20%0',_0x16dda5)}:{'type':'format','content':o(_0x26e631,'*Reset\x20image\x20width*')};}}});}}class st extends _0x418949{['afterInit'](){if(!this['editor']['plugins']['has']('ImageEditing'))return;const _0x4ea0ec=this['editor']['locale'],_0x396d7e=this['editor']['plugins']['get']('TrackChangesEditing');_0x396d7e['enableDefaultAttributesIntegration']('replaceImageSource'),_0x396d7e['registerBlockAttribute']('src'),_0x396d7e['descriptionFactory']['registerDescriptionCallback'](_0x15ce76=>{if('attribute'!=_0x15ce76['type'])return;const {data:_0x18a299}=_0x15ce76;return _0x18a299&&'src'==_0x18a299['key']?_0x18a299['newValue']&&_0x18a299['oldValue']?{'type':'format','content':o(_0x4ea0ec,'*Replace\x20image\x20URL*')}:{'type':'format','content':''}:void 0x0;}),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x189274=this['editor']['plugins']['get']('TrackChangesEditing');_0x189274['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','accept',_0x189274['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x189274['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','discard',_0x189274['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1247fd=this['editor'],_0x5cfa97=_0x1247fd['locale'];_0x1247fd['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x5b9b40=>{if('formatBlock'!=_0x5b9b40['type']&&'formatInline'!=_0x5b9b40['type'])return;const {data:_0x177063}=_0x5b9b40;if(!_0x177063||'replaceImageSource'!=_0x177063['commandName'])return;return{'type':'format','content':o(_0x5cfa97,'*Format:*\x20replace\x20image\x20URL')};});}}class nt extends _0x418949{['afterInit'](){const _0x406224=this['editor'];if(!_0x406224['plugins']['has']('ImageStyleEditing'))return;const _0x16d08f=_0x406224['plugins']['get']('TrackChangesEditing'),_0x1924a1=_0x406224['plugins']['get']('ImageUtils'),_0x1ec86b={};_0x16d08f['enableCommand']('imageStyle',(_0x4e982d,_0x313bda)=>{const _0x37b3f6=_0x406224['plugins']['get']('Users')['me'],_0x6897a1=_0x406224['commands']['get']('imageStyle');let _0x349d29=_0x1924a1['getClosestSelectedImageElement'](_0x406224['model']['document']['selection']),_0x43bfda=_0x406224['model']['createRangeOn'](_0x349d29),_0x4c195b=_0x6897a1['value'];if(_0x4c195b==_0x313bda['value'])return;const _0x24de3f={'commandName':'imageStyle','commandParams':[_0x313bda],'formatGroupId':_0x2551b9()};_0x406224['model']['change'](()=>{if(_0x16d08f['getSuggestions']()['filter'](_0xb4c428=>_0xb4c428['isInContent']&&_0x37b3f6==_0xb4c428['author']&&('formatBlock'==_0xb4c428['type']||'formatInline'==_0xb4c428['type'])&&('imageStylePreApply'==_0xb4c428['subType']||'imageStylePostApply'==_0xb4c428['subType'])&&_0xb4c428['getFirstRange']()['isEqual'](_0x43bfda))['forEach'](_0x361f4a=>_0x16d08f['discardSuggestion'](_0x361f4a['head'])),_0x349d29=_0x1924a1['getClosestSelectedImageElement'](_0x406224['model']['document']['selection']),_0x43bfda=_0x406224['model']['createRangeOn'](_0x349d29),_0x6897a1['refresh'](),_0x406224['commands']['get']('imageTypeInline')['refresh'](),_0x406224['commands']['get']('imageTypeBlock')['refresh'](),_0x4c195b=_0x6897a1['value'],_0x4c195b!=_0x313bda['value'])return _0x1924a1['isInlineImage'](_0x349d29)&&_0x6897a1['shouldConvertImageType'](_0x313bda['value'],_0x349d29)?(_0x4e982d({..._0x313bda,'setImageSizes':!0x1}),_0x349d29=_0x1924a1['getClosestSelectedImageElement'](_0x406224['model']['document']['selection']),void _0x16d08f['markBlockFormat'](_0x349d29,{..._0x24de3f,'commandReversedParams':[{'value':_0x4c195b||null,'setImageSizes':!0x1}]},[],'imageStylePreApply')):void(_0x1924a1['isBlockImage'](_0x349d29)?_0x16d08f['markBlockFormat'](_0x349d29,_0x24de3f,[],'imageStylePostApply'):_0x16d08f['markInlineFormat'](_0x43bfda,_0x24de3f,'imageStylePostApply'));});});for(const _0x495619 of _0x406224['plugins']['get']('ImageStyleEditing')['normalizedStyles'])_0x1ec86b[_0x495619['name']]=_0x495619['title']['toLowerCase']();_0x16d08f['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','join',()=>!0x1),_0x16d08f['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePostApply','join',()=>!0x1),_0x16d08f['_suggestionFactory']['registerCustomCallback']('formatInline','imageStylePostApply','join',()=>!0x1),_0x16d08f['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','accept',([_0xad9360])=>{_0x1924a1['setImageNaturalSizeAttributes'](_0xad9360['getContainedElement']());}),_0x16d08f['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','discard',(_0x3413f9,_0xbe04eb)=>{_0x16d08f['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')(_0x3413f9,{'commandName':_0xbe04eb['commandName'],'commandParams':_0xbe04eb['commandReversedParams']});}),_0x16d08f['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','chain',function(_0x5d3dcb,_0x3cf659){if(_0x179dae(_0x5d3dcb,_0x3cf659))return[_0x5d3dcb,_0x3cf659];if(_0x179dae(_0x3cf659,_0x5d3dcb))return[_0x3cf659,_0x5d3dcb];return null;});const _0x14cbb2=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x179dae(_0x41c4c6,_0x21096a){const _0xd9ddcf=_0x14cbb2['findIndex'](({type:_0x1d9b80,subType:_0x1c4149})=>_0x41c4c6['type']==_0x1d9b80&&_0x41c4c6['subType']==_0x1c4149),_0x1c64b0=_0x14cbb2['findIndex'](({type:_0x48b83e,subType:_0x4c5068})=>_0x21096a['type']==_0x48b83e&&_0x21096a['subType']==_0x4c5068);if(_0xd9ddcf<0x0||_0x1c64b0<0x0)return!0x1;const _0x10b6e8=_0x41c4c6['getFirstRange'](),_0x5d5a2c=_0x21096a['getFirstRange']();if((0x0==_0xd9ddcf||0x1==_0xd9ddcf)&&0x2==_0x1c64b0&&_0x10b6e8['isIntersecting'](_0x5d5a2c))return!0x0;if(0x2==_0xd9ddcf&&0x3==_0x1c64b0){const _0xca4790=_0x16d08f['_findSuggestions'](_0x10b6e8,'insertion')['filter'](({suggestion:_0x4e8d3b,meta:_0x57a226})=>_0x57a226['isOwn']&&'convertInlineImageToBlock'==_0x4e8d3b['subType']);if(_0xca4790['length']>0x1&&_0x5d5a2c['end']['isEqual'](_0x10b6e8['start']))return!0x0;if(0x1==_0xca4790['length']&&(_0x10b6e8['start']['isEqual'](_0x5d5a2c['end'])||_0x10b6e8['end']['isEqual'](_0x5d5a2c['start'])))return!0x0;}if(0x3==_0xd9ddcf&&0x3==_0x1c64b0&&_0x10b6e8['start']['isBefore'](_0x5d5a2c['start'])){const _0x453d91=_0x10b6e8['end']['nodeAfter'],_0x55821e=_0x5d5a2c['start']['nodeBefore'];return _0x1924a1['isBlockImage'](_0x453d91)&&_0x453d91===_0x55821e;}return!0x1;}_0x406224['model']['document']['registerPostFixer'](()=>{let _0x274fbe=!0x1;const _0x51de2a=Array['from'](_0x406224['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x8359dd,data:_0x34e202}of _0x51de2a){const {group:_0x3dcca9,type:_0x184b5d,subType:_0x2a6117,id:_0x1892a1}=_0x16d08f['_splitMarkerName'](_0x8359dd);if('suggestion'==_0x3dcca9&&_0x16d08f['hasSuggestion'](_0x1892a1)){if('formatBlock'==_0x184b5d&&('imageStylePreApply'==_0x2a6117||'imageStylePostApply'==_0x2a6117)){const _0xaec73c=_0x16d08f['getSuggestion'](_0x1892a1);if(_0x34e202['newRange']){const _0xf6e4bd=_0xaec73c['getFirstRange']()['getContainedElement']();if(_0x1924a1['isBlockImage'](_0xf6e4bd))continue;_0x16d08f['discardSuggestion'](_0xaec73c),_0x274fbe=!0x0;}}if('insertion'==_0x184b5d&&'imageCaption'==_0x2a6117&&!_0x34e202['newRange']){const _0x18627b=_0x16d08f['getSuggestion'](_0x1892a1);_0x18627b['next']&&_0x18627b['next']['isInContent']&&(_0x16d08f['discardSuggestion'](_0x18627b['next']),_0x274fbe=!0x0);}}}return _0x274fbe;}),this['_registerLegacyDescription'](_0x1ec86b);}['_registerLegacyDescription'](_0x294113){const _0x2b7150=this['editor'],_0x3f6afd=_0x2b7150['locale'];_0x2b7150['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2060a9=>{if('formatBlock'!=_0x2060a9['type']&&'formatInline'!=_0x2060a9['type'])return;const {data:_0x15a9b0}=_0x2060a9;if(!_0x15a9b0||'imageStyle'!=_0x15a9b0['commandName'])return;const _0x2cc4b5=_0x15a9b0['commandParams'][0x0]['value'];return _0x1e8cc0('side'===_0x2cc4b5?o(_0x3f6afd,'FORMAT_SIDE_IMAGE'):_0x294113[_0x2cc4b5]||_0x2cc4b5);function _0x1e8cc0(_0x1b45fb){return{'type':'format','content':o(_0x3f6afd,'*Format:*\x20%0',_0x1b45fb)};}});}}class ot extends _0x418949{['_trackChangesValueDuringImport'];['_trackChangesExecuted'];constructor(_0x1e6262){super(_0x1e6262),this['_trackChangesValueDuringImport']=!0x1,this['_trackChangesExecuted']=!0x1;}['afterInit'](){const _0xe929c6=this['editor'],_0x43c830=_0xe929c6['commands']['get']('importWord'),_0x301690=_0xe929c6['commands']['get']('trackChanges');_0x43c830&&(_0x43c830['on']('execute',(_0x423522,[,_0x2a582b])=>{this['_trackChangesValueDuringImport']=_0x301690['value'],_0x2a582b['collaboration_features']['track_changes']=!this['_trackChangesValueDuringImport'];},{'priority':'high'}),this['listenTo'](_0x43c830,'dataInsert',this['_handleImportedData']['bind'](this)),this['listenTo'](_0x43c830,'dataInsert',()=>{this['_trackChangesExecuted']&&(_0x301690['execute'](),this['_trackChangesExecuted']=!0x1);},{'priority':'lowest'}),_0xe929c6['plugins']['get']('TrackChangesEditing')['enableCommand']('importWord'));}['_handleImportedData'](_0x584314,_0x13a3ff){const {suggestions:_0x3f008d}=_0x13a3ff,_0x2f0a69=this['editor']['commands']['get']('trackChanges'),_0x5879bf=_0x2f0a69['value'];this['_trackChangesValueDuringImport']!==_0x5879bf&&(_0x2f0a69['execute'](),this['_trackChangesExecuted']=!0x0),_0x3f008d&&_0x3f008d['forEach'](({id:_0xb0f5cf,type:_0x54bb22,author:_0xbe5462,created_at:_0x15ec7b})=>{const _0xdfbda7={'id':_0xb0f5cf,'type':_0x54bb22,'authorId':this['editor']['plugins']['get']('Users')['me']['id'],'createdAt':new Date(),'data':null,'hasComments':!0x1,'attributes':{'@external':{'authorName':_0xbe5462,'createdAt':_0x15ec7b?new Date(_0x15ec7b):new Date(),'source':'importWord'}}};this['editor']['plugins']['get']('TrackChangesEditing')['_setSuggestionData'](_0xdfbda7);});}}class rt extends _0x418949{['afterInit'](){const _0x10b52c=this['editor'],_0x1f776b=_0x10b52c['plugins']['get']('TrackChangesEditing');if(_0x10b52c['plugins']['has']('IndentEditing')&&(_0x1f776b['enableCommand']('indent'),_0x1f776b['enableCommand']('outdent')),_0x10b52c['plugins']['has']('IndentBlock')){for(const _0x5e0c49 of['indentBlock','outdentBlock'])_0x1f776b['enableDefaultAttributesIntegration'](_0x5e0c49);}const _0x1cd768=_0x10b52c['locale'];_0x1f776b['registerBlockAttribute']('blockIndent'),_0x1f776b['descriptionFactory']['registerAttributeLabel']('blockIndent',o(_0x1cd768,'FORMAT_INDENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0xafd4ff=this['editor'],_0xac35dc=_0xafd4ff['locale'],_0x34b941=_0xafd4ff['plugins']['get']('TrackChangesEditing');_0x34b941['descriptionFactory']['registerDescriptionCallback'](_0x119c70=>{if('formatBlock'!=_0x119c70['type'])return;const {data:_0x477dfd}=_0x119c70;if(!_0x477dfd)return;if('indentBlock'!=_0x477dfd['commandName']&&'outdentBlock'!=_0x477dfd['commandName'])return;const _0x31b87c=_0x119c70['getItems']()[0x0],_0x4525a3=_0x34b941['descriptionFactory']['getItemLabel'](_0x31b87c);return'indentBlock'==_0x477dfd['commandName']?{'type':'format','content':o(_0xac35dc,'*Indent:*\x20%0',_0x4525a3)}:'outdentBlock'==_0x477dfd['commandName']?{'type':'format','content':o(_0xac35dc,'*Outdent:*\x20%0',_0x4525a3)}:void 0x0;});}}class at extends _0x418949{static get['requires'](){return[tr];}['init'](){this['editor']['plugins']['get']('TrackChangesEditing')['enableCommand']('input');}}class ct extends _0x418949{['afterInit'](){const _0x36e6d2=this['editor'];if(!_0x36e6d2['plugins']['has']('LinkEditing'))return;const _0xa63bd=_0x36e6d2['plugins']['get']('TrackChangesEditing'),_0x3b82e3=_0x36e6d2['commands']['get']('link');_0xa63bd['enableDefaultAttributesIntegration']('link'),_0xa63bd['enableDefaultAttributesIntegration']('unlink'),_0xa63bd['registerInlineAttribute']('linkHref');for(const _0x7ee721 of _0x3b82e3['manualDecorators'])_0xa63bd['registerInlineAttribute'](_0x7ee721['id']),_0xa63bd['descriptionFactory']['registerAttributeLabel'](_0x7ee721['id'],'link\x20('+_0x7ee721['label']['toLowerCase']()+')');_0xa63bd['descriptionFactory']['registerDescriptionCallback'](_0x95d831=>{if('attribute'!=_0x95d831['type'])return;const {data:_0xfdacc9}=_0x95d831;if(!_0xfdacc9||'linkHref'!=_0xfdacc9['key'])return;const _0x470ed1=_0xfdacc9['newValue'],_0x2ccf68=_0x36e6d2['locale'];return{'type':'format','content':null==_0x470ed1?o(_0x2ccf68,'*Remove\x20link*'):o(_0x2ccf68,'*Set\x20link:*\x20%0','\x22'+_0x470ed1+'\x22')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x15e14d=this['editor'],_0x17a28c=_0x15e14d['locale'];_0x15e14d['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x586e5c=>{if('formatInline'!=_0x586e5c['type'])return;const {data:_0x1be1f4}=_0x586e5c;if(_0x1be1f4){if('link'==_0x1be1f4['commandName']){const _0x3adfaf=_0x1be1f4['commandParams'][0x0];return{'type':'format','content':o(_0x17a28c,'*Set\x20link:*\x20%0','\x22'+_0x3adfaf+'\x22')};}return'unlink'==_0x1be1f4['commandName']?{'type':'format','content':o(_0x17a28c,'*Remove\x20link*')}:void 0x0;}});}}class ut extends _0x418949{['afterInit'](){const _0x378b0c=this['editor'],_0x58fe97=_0x378b0c['locale'];if(!_0x378b0c['plugins']['has']('LegacyListEditing'))return;const _0x335979=_0x378b0c['plugins']['get']('TrackChangesEditing'),_0x2355da=_0x378b0c['plugins']['has']('LegacyTodoListEditing');function _0x1da76a(_0x2985ba){return()=>{const _0x14e199=_0x378b0c['model']['document']['selection'],_0x2ee304=_0x378b0c['commands']['get'](_0x2985ba);if(_0x2ee304['value'])return void _0x378b0c['execute']('paragraph',{});const _0x5a6e7d=_0x2985ba['slice'](0x0,-0x4),_0x2e396d=function(_0x2980c9,_0x4e4b6c,_0x193281){let _0x1f6cc1=Array['from'](_0x2980c9)['filter'](_0x30db31=>function(_0x18eaaf,_0x3b5343){return _0x3b5343['checkChild'](_0x18eaaf['parent'],'listItem')&&!_0x3b5343['isObject'](_0x18eaaf);}(_0x30db31,_0x193281));_0x1f6cc1=_0x1f6cc1['filter'](_0x2cd7ea=>!_0x2cd7ea['is']('element','listItem')||_0x2cd7ea['getAttribute']('listType')!=_0x4e4b6c);const _0x5b328e=new Set();for(const _0x481af8 of _0x1f6cc1)_0x481af8['is']('element','listItem')?_0x5b328e['add'](me(_0x481af8)):_0x5b328e['add'](_0x481af8);return Array['from'](_0x5b328e);}(_0x14e199['getSelectedBlocks'](),_0x5a6e7d,_0x378b0c['model']['schema']);_0x378b0c['model']['change'](()=>{for(const _0x3e84f9 of _0x2e396d)_0x335979['markBlockFormat'](_0x3e84f9,{'commandName':_0x2985ba,'commandParams':[{'forceValue':!_0x2ee304['value']}],'formatGroupId':'blockName'},fe(_0x3e84f9));});};}function _0x1ec45d(_0xdf585c){return()=>{const _0x447aa3=function(_0x3d26d9){let _0x55fddd=Array['from'](_0x3d26d9);const _0x4408b1=_0x55fddd['findIndex'](_0x13087b=>'listItem'!=_0x13087b['name']);return _0x4408b1>-0x1&&(_0x55fddd=_0x55fddd['slice'](0x0,_0x4408b1)),_0x55fddd;}(_0x378b0c['model']['document']['selection']['getSelectedBlocks']()),_0x38c3ce=_0x378b0c['model']['createRange'](_0x378b0c['model']['createPositionAt'](_0x447aa3[0x0],'before'),_0x378b0c['model']['createPositionAt'](_0x447aa3[_0x447aa3['length']-0x1],'end'));_0x378b0c['model']['change'](()=>{_0x335979['markBlockFormat'](_0x38c3ce,{'commandName':_0xdf585c,'commandParams':[],'formatGroupId':'listIndent'},function(_0x3616e6){const _0x3b4fc4=new Set();for(const _0x4204bf of _0x3616e6){let _0x29ad51=_0x4204bf['nextSibling'];for(;_0x29ad51&&_0x29ad51['getAttribute']('listIndent')>_0x4204bf['getAttribute']('listIndent');)_0x3b4fc4['add'](_0x29ad51),_0x29ad51=_0x29ad51['nextSibling'];}return Array['from'](_0x3b4fc4);}(_0x447aa3));});};}_0x335979['enableCommand']('numberedList',_0x1da76a('numberedList')),_0x335979['enableCommand']('bulletedList',_0x1da76a('bulletedList')),_0x2355da&&_0x335979['enableCommand']('todoList',_0x1da76a('todoList')),_0x335979['enableCommand']('indentList',_0x1ec45d('indentList')),_0x335979['enableCommand']('outdentList',_0x1ec45d('outdentList')),_0x2355da&&_0x335979['enableCommand']('checkTodoList',()=>{const _0x21d9e7=_0x378b0c['commands']['get']('checkTodoList'),_0x27c323=Array['from'](_0x21d9e7['_selectedElements']);_0x27c323['filter'](_0x3a2d44=>_0x3a2d44['getAttribute']('todoListChecked')!=_0x21d9e7['value']),_0x378b0c['model']['change'](()=>{for(const _0x13b858 of _0x27c323)_0x335979['markBlockFormat'](_0x13b858,{'commandName':'checkTodoList','commandParams':[{'forceValue':!_0x21d9e7['value']}]});});}),_0x335979['descriptionFactory']['registerElementLabel']('listItem',_0x4fcac2=>o(_0x58fe97,'ELEMENT_LIST_ITEM',_0x4fcac2)),_0x335979['descriptionFactory']['registerDescriptionCallback'](_0x5bf53f=>{if('formatBlock'!=_0x5bf53f['type']&&'formatInline'!=_0x5bf53f['type'])return;const {data:_0x596c85}=_0x5bf53f;if(_0x596c85){if('numberedList'==_0x596c85['commandName']||'bulletedList'==_0x596c85['commandName']||'todoList'==_0x596c85['commandName'])switch(_0x596c85['commandName']['replace']('List','')){case'bulleted':return _0x41b85f(o(_0x58fe97,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x41b85f(o(_0x58fe97,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x41b85f(o(_0x58fe97,'ELEMENT_TODO_LIST'));}if('indentList'==_0x596c85['commandName'])return{'type':'format','content':o(_0x58fe97,'*Indent:*\x20%0',o(_0x58fe97,'ELEMENT_LIST_ITEM'))};if('outdentList'==_0x596c85['commandName'])return{'type':'format','content':o(_0x58fe97,'*Outdent:*\x20%0',o(_0x58fe97,'ELEMENT_LIST_ITEM'))};if('checkTodoList'==_0x596c85['commandName'])return _0x596c85['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x58fe97,'*Check\x20item*')}:{'type':'format','content':o(_0x58fe97,'*Uncheck\x20item*')};}function _0x41b85f(_0x3d54ae){return{'type':'format','content':o(_0x58fe97,'*Change\x20to:*\x20%0',_0x3d54ae)};}});}}function me(_0x301589){const _0x26af05=_0x301589['getAttribute']('listIndent');if(0x0==_0x26af05)return _0x301589;let _0x1f5694=_0x301589;for(;_0x301589['previousSibling']&&_0x301589['previousSibling']['is']('element','listItem');){const _0x5a245a=_0x301589['previousSibling']['getAttribute']('listIndent');if(_0x5a245a==_0x26af05)_0x1f5694=_0x301589['previousSibling'];else{if(_0x5a245a<_0x26af05)break;}_0x301589=_0x301589['previousSibling'];}return _0x1f5694;}function fe(_0x4a3357){const _0x2b7e3f=[];if(_0x4a3357['is']('element','listItem')&&_0x4a3357['getAttribute']('listIndent')>0x0){let _0x9c1dcb=_0x4a3357['nextSibling'];for(;_0x9c1dcb&&'listItem'==_0x9c1dcb['name']&&_0x9c1dcb['getAttribute']('listIndent')==_0x4a3357['getAttribute']('listIndent');)_0x2b7e3f['push'](_0x9c1dcb),_0x9c1dcb=_0x9c1dcb['nextSibling'];}return _0x2b7e3f;}class K extends _0x418949{['afterInit'](){if(!this['editor']['plugins']['has']('LegacyListPropertiesEditing'))return;const _0x3e2a62=this['editor']['config']['get']('list.properties'),_0x1e0ade=this['editor']['plugins']['get']('TrackChangesEditing');_0x3e2a62['styles']&&_0x1e0ade['enableCommand']('listStyle',this['handleListStyleCommand']['bind'](this)),_0x3e2a62['reversed']&&_0x1e0ade['enableCommand']('listReversed',this['handleListReversedCommand']['bind'](this)),_0x3e2a62['startIndex']&&_0x1e0ade['enableCommand']('listStart',this['handleListStartCommand']['bind'](this)),_0x1e0ade['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));}['handleListStyleCommand'](_0x2af21b,_0x4c27b8={}){const _0x29bb1c=this['editor']['plugins']['get']('TrackChangesEditing'),_0xe1f8a0=this['_getSuggestionBlocksForListStyle']();this['editor']['model']['change'](()=>{_0x29bb1c['markMultiRangeBlockFormat'](_0xe1f8a0,{'commandName':'listStyle','commandParams':[{'type':_0x4c27b8['type']}],'formatGroupId':'listStyle'});});}['handleListReversedCommand'](_0x4bd16f,_0xe04bdb={}){const _0x2737b6=this['editor']['plugins']['get']('TrackChangesEditing'),_0x250305=this['_getSuggestionBlocks'](_0x48c413=>_0x48c413['is']('element','listItem')&&'numbered'===_0x48c413['getAttribute']('listType'));if(_0x250305['length']<0x1)return;const _0x30e68b=_0x250305['map'](_0x15cba7=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x15cba7,'before'),this['editor']['model']['createPositionAt'](_0x15cba7,0x0)));this['editor']['model']['change'](()=>{_0x2737b6['markMultiRangeBlockFormat'](_0x30e68b,{'commandName':'listReversed','commandParams':[{'reversed':_0xe04bdb['reversed']}],'formatGroupId':'listReversed'});});}['handleListStartCommand'](_0x152c56,_0x14d66b={}){const _0x1a8f6e=this['editor']['plugins']['get']('TrackChangesEditing'),_0x845b8d=this['_getSuggestionBlocks'](_0x12455e=>_0x12455e['is']('element','listItem')&&'numbered'===_0x12455e['getAttribute']('listType'));if(_0x845b8d['length']<0x1)return;const _0x52fa52=_0x845b8d['map'](_0x3dfdc2=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x3dfdc2,'before'),this['editor']['model']['createPositionAt'](_0x3dfdc2,0x0)));this['editor']['model']['change'](()=>{_0x1a8f6e['markMultiRangeBlockFormat'](_0x52fa52,{'commandName':'listStart','commandParams':[{'startIndex':_0x14d66b['startIndex']}],'formatGroupId':'listStart'});});}['handleDescriptions'](_0x4537c4){if('formatBlock'!=_0x4537c4['type']&&'formatInline'!=_0x4537c4['type'])return;const _0x4e897f=this['editor']['locale'],{data:_0xcde62f}=_0x4537c4;if(!_0xcde62f)return;let _0x25d405,_0x2fcbfb;switch(_0xcde62f['commandName']){case'listStyle':_0x25d405='*Change\x20to:*\x20%0',_0x2fcbfb={'type':'format','content':o(_0x4e897f,_0x25d405,o(_0x4e897f,this['_getTranslationKeyForListStyle'](_0xcde62f['commandParams'][0x0]['type'])))};break;case'listReversed':_0x25d405=_0xcde62f['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x2fcbfb={'type':'format','content':o(_0x4e897f,_0x25d405)};break;case'listStart':_0x25d405='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x2fcbfb={'type':'format','content':o(_0x4e897f,_0x25d405,_0xcde62f['commandParams'][0x0]['startIndex'])};}return _0x2fcbfb;}['_getSuggestionBlocksForListStyle'](){const _0x26b9c5=this['editor']['plugins']['get']('LegacyListUtils');let _0x4e79ba=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']());return _0x4e79ba[0x0]?.['is']('element','listItem')&&_0x4e79ba['unshift'](..._0x26b9c5['getSiblingNodes'](this['editor']['model']['document']['selection']['getFirstPosition'](),'backward')),_0x4e79ba[_0x4e79ba['length']-0x1]?.['is']('element','listItem')&&_0x4e79ba['push'](..._0x26b9c5['getSiblingNodes'](this['editor']['model']['document']['selection']['getLastPosition'](),'forward')),_0x4e79ba=[...new Set(_0x4e79ba)],this['editor']['model']['document']['selection']['getFirstPosition']()?.['parent']?.['is']('element','listItem')&&(_0x4e79ba=_0x4e79ba['filter'](_0x58c761=>_0x58c761['is']('element','listItem'))),_0x4e79ba;}['_getSuggestionBlocks'](_0x5d4b94){const _0x36efaf=this['editor']['plugins']['get']('LegacyListUtils');let _0x2afc56=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']())['filter'](_0x5d4b94)['map'](_0x5935aa=>{const _0x5033c7=this['editor']['model']['createPositionAt'](_0x5935aa,0x0);return[..._0x36efaf['getSiblingNodes'](_0x5033c7,'backward'),..._0x36efaf['getSiblingNodes'](_0x5033c7,'forward')];})['flat']();return _0x2afc56=[...new Set(_0x2afc56)],_0x2afc56;}['_getTranslationKeyForListStyle'](_0x476031){return'ELEMENT_'+(this['editor']['plugins']['get']('LegacyListUtils')['getListTypeFromListStyleType'](_0x476031)||'default')['toUpperCase']()+'_LIST_'+_0x476031['toUpperCase']()['replace'](/-/g,'_');}}class ft extends _0x418949{['afterInit'](){const _0x451d46=this['editor'];if(!_0x451d46['plugins']['has']('MediaEmbedEditing'))return;const _0x31ceda=_0x451d46['plugins']['get']('TrackChangesEditing'),_0x128d10=_0x451d46['locale'];_0x31ceda['enableCommand']('mediaEmbed'),_0x31ceda['descriptionFactory']['registerElementLabel']('media',_0x5b8163=>o(_0x128d10,'ELEMENT_MEDIA',_0x5b8163)),_0x451d46['conversion']['for']('dataDowncast')['elementToElement']({'model':'media','view':(_0x4b89d0,{writer:_0x4bbd7c,options:_0x507629})=>{if(_0x507629['showSuggestionHighlights'])return _0x4bbd7c['createEmptyElement']('div');},'converterPriority':'high'}),_0x451d46['data']['downcastDispatcher']['on']('attribute:url:media',(_0x24e2e8,_0x354369,_0x2a9ba1)=>{_0x2a9ba1['options']['showSuggestionHighlights']&&_0x24e2e8['stop']();},{'priority':'high'});}}class gt extends _0x418949{['afterInit'](){const _0x6db68e=this['editor'];_0x6db68e['plugins']['has']('MentionEditing')&&_0x6db68e['plugins']['get']('TrackChangesEditing')['enableCommand']('mention');}}class lt extends _0x418949{['afterInit'](){const _0x4966f3=this['editor'],_0x1a0840=_0x4966f3['plugins']['get']('TrackChangesEditing');_0x4966f3['plugins']['has']('MultiLevelList')&&(_0x1a0840['enableDefaultAttributesIntegration']('multiLevelList'),_0x1a0840['registerBlockAttribute']('listMarkerStyle'),_0x1a0840['descriptionFactory']['registerDescriptionCallback'](_0x2a659a=>this['handleDescriptions'](_0x2a659a)));}['handleDescriptions'](_0x22be67){const _0x294443=this['editor']['locale'],{data:_0x240683}=_0x22be67,_0x35f9cf={'type':'format','content':''};if(_0x240683&&'listMarkerStyle'==_0x240683['key']){if(!_0x240683['oldValue'])return{'type':'format','content':o(_0x294443,'*Set\x20format:*\x20%0',o(_0x294443,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x240683['newValue']+')'};if(!_0x240683['newValue']){let _0x305428=_0x22be67['head'];for(;_0x305428;){if(_0x305428['data']&&'listType'==_0x305428['data']['key']&&_0x305428['data']['newValue'])return _0x35f9cf;_0x305428=_0x305428['next'];}return{'type':'format','content':o(_0x294443,'*Remove\x20format:*\x20%0',o(_0x294443,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x240683['oldValue']+')'};}}}}class mt extends _0x418949{['afterInit'](){const _0x5cd766=this['editor'];if(!_0x5cd766['plugins']['has']('PageBreakEditing'))return;_0x5cd766['plugins']['get']('TrackChangesEditing')['enableCommand']('pageBreak');const _0x335d33=_0x5cd766['plugins']['get']('TrackChangesEditing'),_0x53a035=_0x5cd766['locale'];_0x335d33['descriptionFactory']['registerElementLabel']('pageBreak',_0x1a9de5=>o(_0x53a035,'ELEMENT_PAGE_BREAK',_0x1a9de5));}}class dt extends _0x418949{['afterInit'](){const _0x3ac973=this['editor'];if(!_0x3ac973['plugins']['has']('Paragraph'))return;const _0x2373b6=_0x3ac973['locale'],_0xf11f15=_0x3ac973['plugins']['get']('TrackChangesEditing');_0xf11f15['descriptionFactory']['registerElementLabel']('paragraph',_0x5d39cb=>o(_0x2373b6,'ELEMENT_PARAGRAPH',_0x5d39cb)),_0xf11f15['enableDefaultAttributesIntegration']('paragraph'),_0xf11f15['enableCommand']('insertParagraph'),_0x3ac973['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',nr(_0x3ac973),{'priority':'highest'}),_0x3ac973['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x37f9e8,_0x2d511e,_0x44fa05)=>{_0x44fa05['options']['showSuggestionHighlights']&&nr(_0x3ac973,{'showActiveMarker':!0x1})(_0x37f9e8,_0x2d511e,_0x44fa05);},{'priority':'highest'});const _0x3d3ee6=_0xf11f15['descriptionFactory'];_0x3d3ee6['registerDescriptionCallback'](_0x22824e=>{if('insertion'!==_0x22824e['type'])return;const {start:_0x2de9b4,end:_0x2a7aec}=_0x22824e['getFirstRange']();if(!_0x2de9b4['isTouching'](_0x2a7aec)||!_0x2de9b4['nodeAfter'])return;const _0x1c4593=_0x3ac973['model']['schema'],_0x237263=_0x2de9b4['nodeAfter'];return _0x1c4593['isBlock'](_0x237263)&&!_0x1c4593['isLimit'](_0x237263)&&_0x1c4593['checkChild'](_0x237263,'$text')?{'type':'insertion','content':o(_0x2373b6,'*Insert:*\x20%0',_0x3d3ee6['getItemLabel'](_0x237263,0x1))}:void 0x0;}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x274590=this['editor'],_0x24383b=_0x274590['locale'];_0x274590['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x5ce8b6=>{if('formatBlock'!=_0x5ce8b6['type'])return;const {data:_0xd51522}=_0x5ce8b6;return _0xd51522&&'paragraph'==_0xd51522['commandName']?{'type':'format','content':o(_0x24383b,'*Change\x20to:*\x20%0',o(_0x24383b,'ELEMENT_PARAGRAPH'))}:void 0x0;});}}function nr(_0x20ff14,{showActiveMarker:_0x226392=!0x0}={}){return(_0x5a5a58,_0x4ed444,_0x3e2054)=>{const _0x28bcdd=_0x20ff14['plugins']['get']('TrackChangesEditing'),_0x55ce91=_0x4ed444['markerRange']['start'],_0x171104=_0x4ed444['markerRange']['end'],_0x45a3ce=_0x20ff14['model']['schema'];if(!_0x55ce91['isTouching'](_0x171104)||!_0x55ce91['nodeAfter'])return;const _0x54b127=_0x55ce91['nodeAfter'];if(_0x45a3ce['isBlock'](_0x54b127)&&!_0x45a3ce['isLimit'](_0x54b127)&&_0x45a3ce['checkChild'](_0x54b127,'$text')){if(!_0x3e2054['consumable']['consume'](_0x4ed444['markerRange'],_0x5a5a58['name']))return;const _0x2c7a6e=_0x3e2054['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-split'}),_0x36d465=_0x3e2054['mapper']['toViewPosition'](_0x171104);_0x226392&&_0x28bcdd['activeMarkers']['includes'](_0x4ed444['markerName'])&&_0x3e2054['writer']['addClass']('ck-suggestion-marker--active',_0x2c7a6e),_0x3e2054['writer']['insert'](_0x36d465,_0x2c7a6e),_0x3e2054['mapper']['bindElementToMarker'](_0x2c7a6e,_0x4ed444['markerName']);}};}class pt extends _0x418949{['afterInit'](){const _0x1ffaef=this['editor'];if(!_0x1ffaef['plugins']['has']('RemoveFormatEditing'))return;_0x1ffaef['plugins']['get']('TrackChangesEditing')['enableDefaultAttributesIntegration']('removeFormat'),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x577178=this['editor'];_0x577178['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x50c5b1=>{if('formatBlock'!=_0x50c5b1['type']&&'formatInline'!=_0x50c5b1['type'])return;const {data:_0x2639dc}=_0x50c5b1;return _0x2639dc&&'removeFormat'==_0x2639dc['commandName']?{'type':'format','content':o(_0x577178['locale'],'*Remove\x20all\x20formatting*')}:void 0x0;});}}class kt extends _0x418949{['afterInit'](){const _0x26b8ef=this['editor'];if(!_0x26b8ef['plugins']['has']('RestrictedEditingModeEditing'))return;const _0x1642f7=_0x26b8ef['plugins']['get']('TrackChangesEditing');_0x1642f7['enableCommand']('goToPreviousRestrictedEditingException'),_0x1642f7['enableCommand']('goToNextRestrictedEditingException');const _0x16bb70=_0x26b8ef['plugins']['get']('RestrictedEditingModeEditing');_0x16bb70['enableCommand']('trackChanges'),_0x16bb70['enableCommand']('acceptSuggestion'),_0x16bb70['enableCommand']('discardSuggestion'),_0x16bb70['enableCommand']('acceptAllSuggestions'),_0x16bb70['enableCommand']('discardAllSuggestions'),_0x16bb70['enableCommand']('acceptSelectedSuggestions'),_0x16bb70['enableCommand']('discardSelectedSuggestions');}}class bt extends _0x418949{static get['requires'](){return[_0x3d2dce];}['init'](){const _0x54d22c=this['editor'],_0x688967=_0x54d22c['plugins']['get']('TrackChangesEditing');_0x688967['enableCommand']('shiftEnter'),_0x54d22c['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',de(_0x54d22c),{'priority':'high'}),_0x54d22c['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',de(_0x54d22c),{'priority':'high'}),_0x54d22c['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x451d43,_0x3d82c1,_0x3e7b7a)=>{_0x3e7b7a['options']['showSuggestionHighlights']&&de(_0x54d22c,{'showActiveMarker':!0x1})(_0x451d43,_0x3d82c1,_0x3e7b7a);}),_0x688967['descriptionFactory']['registerElementLabel']('softBreak',_0x19006c=>o(_0x54d22c['locale'],'ELEMENT_LINE_BREAK',_0x19006c));}}function de(_0x132384,{showActiveMarker:_0x1e2b5d=!0x0}={}){return(_0x3473cd,_0x4247e9,_0x1dc61d)=>{const _0x45fc80=_0x132384['plugins']['get']('TrackChangesEditing');if(!_0x1dc61d['consumable']['test'](_0x4247e9['markerRange'],_0x3473cd['name']))return;const _0x3db9f9=_0x132384['model'];for(const _0x559026 of _0x4247e9['markerRange']['getItems']()){if(!_0x559026['is']('element','softBreak'))continue;const _0x5b95f3='deletion'==_0x4247e9['markerName']['split'](':')[0x1]?'merge':'split',_0x5e8f3e=_0x1dc61d['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x5b95f3}),_0x2f2ee6=_0x1dc61d['mapper']['toViewPosition'](_0x3db9f9['createPositionBefore'](_0x559026));_0x1e2b5d&&_0x45fc80['activeMarkers']['includes'](_0x4247e9['markerName'])&&_0x1dc61d['writer']['addClass']('ck-suggestion-marker--active',_0x5e8f3e),_0x1dc61d['writer']['insert'](_0x2f2ee6,_0x5e8f3e),_0x1dc61d['mapper']['bindElementToMarker'](_0x5e8f3e,_0x4247e9['markerName']);}};}class wt extends _0x418949{['afterInit'](){const _0x4facd1=this['editor'],_0x4da154=_0x4facd1['model'],_0x4d230c=_0x4facd1['locale'];if(!_0x4facd1['plugins']['has']('StandardEditingModeEditing'))return;const _0x15a6a9=_0x4facd1['plugins']['get']('TrackChangesEditing'),_0x562bb0='restrictedEditingException',_0xfaed01=_0x4facd1['commands']['get'](_0x562bb0);_0x15a6a9['enableCommand'](_0x562bb0,(_0x4bfd20,_0x10e1cf={})=>{const _0x5c9d62=_0x4da154['document']['selection'];if(_0x5c9d62['isCollapsed'])return void _0x4bfd20(_0x10e1cf);const _0x4a03a6=void 0x0!==_0x10e1cf['forceValue']?_0x10e1cf['forceValue']:!_0xfaed01['value'];_0x4da154['change'](()=>{const _0x331d2a=Array['from'](_0x5c9d62['getRanges']());for(const _0x3cbbbd of _0x331d2a){const _0x448206=_0x4a03a6?[_0x3cbbbd]:io(_0x562bb0,_0x3cbbbd,_0x4da154);for(const _0x48bce4 of _0x448206)_0x15a6a9['markInlineFormat'](_0x48bce4,{'commandName':_0x562bb0,'commandParams':[{'forceValue':_0x4a03a6}]});}});}),_0x15a6a9['descriptionFactory']['registerDescriptionCallback'](_0x3a4c86=>{if('formatBlock'!=_0x3a4c86['type']&&'formatInline'!=_0x3a4c86['type'])return;const {data:_0xe00d70}=_0x3a4c86;return _0xe00d70&&_0xe00d70['commandName']==_0x562bb0?_0xe00d70['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x4d230c,'FORMAT_RESTRICTED_ENABLED')}:{'type':'format','content':o(_0x4d230c,'FORMAT_RESTRICTED_DISABLED')}:void 0x0;});}}class yt extends _0x418949{['afterInit'](){const _0x1de8f1=this['editor'];if(!_0x1de8f1['plugins']['has']('Style')||!_0x1de8f1['plugins']['has']('DataSchema'))return;const _0x1a47e5=_0x1de8f1['plugins']['get']('TrackChangesEditing'),_0x24b092=_0x1de8f1['locale'],_0x103a04=_0x1de8f1['config']['get']('style')||{},_0x1d653c=_0x1de8f1['plugins']['get']('GeneralHtmlSupport'),_0x27db19=_0x1de8f1['plugins']['get']('StyleUtils')['normalizeConfig'](_0x1de8f1['plugins']['get']('DataSchema'),_0x103a04['definitions']);_0x1a47e5['enableDefaultAttributesIntegration']('style');const _0x3b5d13=new Set();for(const _0x5d67d4 of _0x27db19['block']){const _0x49da07=_0x1d653c['getGhsAttributeNameForElement'](_0x5d67d4['element']);_0x3b5d13['add'](_0x49da07);}const _0x3cbb79=new Set();for(const _0x21a263 of _0x27db19['inline']){const _0x498da9=_0x1d653c['getGhsAttributeNameForElement'](_0x21a263['element']);_0x3cbb79['add'](_0x498da9);for(const _0x2adc0b of _0x21a263['ghsAttributes'])_0x3cbb79['add'](_0x2adc0b);}for(const _0x3fdc4f of _0x3b5d13)_0x1a47e5['registerBlockAttribute'](_0x3fdc4f),_0x1a47e5['descriptionFactory']['registerAttributeLabel'](_0x3fdc4f,o(_0x24b092,'FORMAT_STYLE'));for(const _0x4bb124 of _0x3cbb79)_0x1a47e5['registerInlineAttribute'](_0x4bb124),_0x1a47e5['descriptionFactory']['registerAttributeLabel'](_0x4bb124,o(_0x24b092,'FORMAT_STYLE'));this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x57c9bf=this['editor'],_0x469b46=_0x57c9bf['locale'];_0x57c9bf['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x378f59=>{if('formatBlock'!=_0x378f59['type']&&'formatInline'!=_0x378f59['type'])return;const {data:_0x1a7070}=_0x378f59;return _0x1a7070&&'style'===_0x1a7070['commandName']?_0x1a7070['commandParams'][0x0]['forceValue']?{'type':'format','content':o(_0x469b46,'*Set\x20format:*\x20%0',_0x1a7070['commandParams'][0x0]['styleName']['toLowerCase']())}:{'type':'format','content':o(_0x469b46,'*Remove\x20format:*\x20%0',_0x1a7070['commandParams'][0x0]['styleName']['toLowerCase']())}:void 0x0;});}}class jt extends _0x418949{['_tablePostFixingSubtypes'];['_tableSuggestions'];constructor(_0x4294b0){super(_0x4294b0),this['_tablePostFixingSubtypes']=['tableRow','tableColumn'],this['_tableSuggestions']=new Set();}['afterInit'](){const _0x58a4cc=this['editor'],_0x25fd55=_0x58a4cc['model']['document']['selection'];if(!_0x58a4cc['plugins']['has']('TableEditing'))return;const _0x28a12d=_0x58a4cc['locale'],_0xc142b7=_0x58a4cc['plugins']['get']('TrackChangesEditing'),_0x1c724e=_0x58a4cc['plugins']['get']('TableUtils');_0xc142b7['descriptionFactory']['registerElementLabel']('table',_0x5056f7=>o(_0x28a12d,'ELEMENT_TABLE',_0x5056f7)),this['_setupColumnsRowsFixing'](),_0xc142b7['enableCommand']('insertTable'),_0xc142b7['enableCommand']('selectTableRow'),_0xc142b7['enableCommand']('selectTableColumn');for(const _0x389732 of['insertTableRowAbove','insertTableRowBelow']){const _0x4b8e5d=_0x58a4cc['commands']['get'](_0x389732);_0xc142b7['enableCommand'](_0x389732,_0x5eafeb=>{_0x58a4cc['model']['change'](_0x3c8a8d=>{_0x5eafeb();const _0x1a4907='above'===_0x4b8e5d['order'],_0x58f471=_0x1c724e['getSelectionAffectedTableCells'](_0x25fd55),_0xc1533c=_0x1c724e['getRowIndexes'](_0x58f471),_0x1a4294=_0x1a4907?_0xc1533c['first']-0x1:_0xc1533c['last']+0x1,_0x2939f8=_0x58f471[0x0]['findAncestor']('table'),_0x3ffe6e=_0x1c724e['createTableWalker'](_0x2939f8,{'startRow':_0x1a4294,'endRow':_0x1a4294}),_0x407969=Array['from'](_0x3ffe6e)['map'](_0x3adb80=>_0x3c8a8d['createRangeOn'](_0x3adb80['cell']));_0xc142b7['markMultiRangeInsertion'](_0x407969,'tableRow');});});}for(const _0x2f6ccd of['insertTableColumnLeft','insertTableColumnRight']){const _0x1ed3f6=_0x58a4cc['commands']['get'](_0x2f6ccd);_0xc142b7['enableCommand'](_0x2f6ccd,_0x429abd=>{_0x58a4cc['model']['change'](_0x4fb1ca=>{_0x429abd();const _0x24f176='left'===_0x1ed3f6['order'],_0x47e7ec=_0x1c724e['getSelectionAffectedTableCells'](_0x25fd55),_0xf9a8a2=_0x1c724e['getColumnIndexes'](_0x47e7ec),_0x3685f6=_0x24f176?_0xf9a8a2['first']-0x1:_0xf9a8a2['last']+0x1,_0x1c3b8f=_0x47e7ec[0x0]['findAncestor']('table'),_0x30006d=_0x1c724e['createTableWalker'](_0x1c3b8f,{'startRow':0x0,'column':_0x3685f6,'includeAllSlots':!0x1}),_0x157439=Array['from'](_0x30006d)['map'](_0x59925b=>_0x4fb1ca['createRangeOn'](_0x59925b['cell']));_0xc142b7['markMultiRangeInsertion'](_0x157439,'tableColumn');});});}for(const _0x3cae08 of['removeTableRow','removeTableColumn']){const _0x577021=_0x3cae08['substr'](0xb),_0x200e2a=_0x577021['toLowerCase'](),_0x7b0dc3=_0x200e2a['substr'](0x0,0x3)+'span',_0x418b5e='table'+_0x577021,_0x10291e='min'+_0x577021,_0x11e8fd='max'+_0x577021;_0xc142b7['enableCommand'](_0x3cae08,()=>{_0x58a4cc['model']['change'](_0x542dee=>{const _0x552987=_0x1c724e['getSelectionAffectedTableCells'](_0x25fd55),_0x367078=_0x552987[0x0]['findAncestor']('table');let _0x845a2a;if('removeTableRow'==_0x3cae08){const _0x248316=_0x1c724e['getRowIndexes'](_0x552987);_0x845a2a={'startRow':_0x248316['first'],'endRow':_0x248316['last'],'includeAllSlots':!0x0};}else{const _0x5caa58=_0x1c724e['getColumnIndexes'](_0x552987);_0x845a2a={'startColumn':_0x5caa58['first'],'endColumn':_0x5caa58['last'],'includeAllSlots':!0x0};}const _0x3fc3cd=_0x1c724e['createTableWalker'](_0x367078,_0x845a2a),_0x114a44=Array['from'](_0x3fc3cd)['map'](({cell:_0x1eddd3})=>_0x1eddd3),_0x58157b=Ee(_0x114a44['filter'](_0x157092=>_0x157092['hasAttribute'](_0x7b0dc3))),_0x126cd3=Ee(_0x114a44['filter'](_0x2b09ff=>!_0x2b09ff['hasAttribute'](_0x7b0dc3)))['map'](_0x2081cc=>_0x542dee['createRangeOn'](_0x2081cc)),_0x1171c8=_0xc142b7['markMultiRangeDeletion'](_0x126cd3,_0x418b5e);if(_0x1171c8&&('tableRow'==_0x1171c8['subType']||'tableColumn'==_0x1171c8['subType'])){const _0x128f26=this['_getSuggestionCoords'](_0x1171c8);for(const _0xffd51a of _0x58157b){const _0x533399=_0x542dee['createRangeOn'](_0xffd51a),_0x4a3cfb=_0x1c724e['getCellLocation'](_0xffd51a),_0x4302ca=_0xffd51a['getAttribute'](_0x7b0dc3)-0x1,_0x202534=_0x128f26[_0x10291e],_0x5af924=_0x128f26[_0x11e8fd];_0x202534<=_0x4a3cfb[_0x200e2a]&&_0x4a3cfb[_0x200e2a]+_0x4302ca<=_0x5af924&&_0x1171c8['addRange'](_0x533399);}}});});}function _0x5e466f(_0x2a51c4){const _0x2d931d=Array['from'](_0x25fd55['getRanges']())['map'](_0x232ce2=>_0xe858d8['fromRange'](_0x232ce2));_0x58a4cc['model']['change'](_0x55e5fb=>{const _0x16b395=_0x55e5fb['batch'];_0x2a51c4=_0x2a51c4['filter'](_0x30723a=>'$graveyard'!=_0x30723a['root']['rootName']),_0x55e5fb['setSelection'](_0x2a51c4),_0x58a4cc['commands']['get']('removeTableRow')['refresh'](),_0x58a4cc['execute']('removeTableRow',{'forceDefaultExecution':!0x0}),_0x58a4cc['model']['enqueueChange'](()=>{_0x58a4cc['model']['enqueueChange'](_0x16b395,_0x1471e5=>{const _0x12099b=_0x2d931d['filter'](_0x522000=>'$graveyard'!=_0x522000['root']['rootName']);_0x12099b['length']>0x0&&_0x1471e5['setSelection'](_0x12099b);for(const _0x1a390f of _0x2d931d)_0x1a390f['detach']();});});});}function _0x397c17(_0x18d147){_0x58a4cc['model']['change'](_0x21aad0=>{const _0x2b52df=Array['from'](_0x25fd55['getRanges']())['map'](_0x78dd2=>_0xe858d8['fromRange'](_0x78dd2)),_0x45e843=[];for(const _0x1af16e of _0x18d147)for(const _0x426e4d of _0x1af16e['getItems']({'shallow':!0x0}))_0x45e843['push'](_0x426e4d);for(const _0x503855 of _0x45e843)'$graveyard'!=_0x503855['root']['rootName']&&(_0x21aad0['setSelection'](_0x21aad0['createPositionAt'](_0x503855,0x0)),_0x58a4cc['commands']['get']('removeTableColumn')['refresh'](),_0x58a4cc['execute']('removeTableColumn',{'forceDefaultExecution':!0x0}));const _0x3c6549=_0x2b52df['filter'](_0x5b37d1=>'$graveyard'!=_0x5b37d1['root']['rootName']);_0x3c6549['length']>0x0&&_0x21aad0['setSelection'](_0x3c6549);for(const _0x384bb9 of _0x2b52df)_0x384bb9['detach']();});}function _0x3a2997(_0x5822de,_0x2f122f){return _0x2f122f['every'](_0x34de8e=>_0x5822de['some'](_0x41f95a=>_0x41f95a['end']['isEqual'](_0x34de8e['start'])||_0x34de8e['end']['isEqual'](_0x41f95a['start'])));}function _0x503acb(_0x55c6e7,_0x255915){return!_0x55c6e7['some'](_0x58e3e2=>_0x255915['some'](_0x2d61e8=>_0x58e3e2['isIntersecting'](_0x2d61e8)))&&_0x55c6e7['some'](_0x297142=>_0x255915['some'](_0x110716=>_0x297142['end']['isTouching'](_0x110716['start'])));}_0x58a4cc['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x2ab895,_0x49cb55,_0x491964)=>{if(!_0x491964['options']['showSuggestionHighlights'])return;const _0x3caf3e=_0x49cb55['item'];if(!_0x3caf3e)return;const _0x34a939=_0x491964['mapper']['toViewElement'](_0x3caf3e);function _0x572663(_0x9970a9){return Array['isArray'](_0x9970a9)?_0x9970a9:[_0x9970a9];}_0x34a939&&'tableCell'===_0x3caf3e['name']&&_0xa19455(_0x34a939,_0x491964['writer'],(_0x3317d9,_0x3e1a42,_0x4210c4)=>_0x4210c4['addClass'](_0x572663(_0x3e1a42['classes']),_0x3317d9),(_0xb720bb,_0x476247,_0x32de00)=>_0x32de00['removeClass'](_0x572663(_0x476247['classes']),_0xb720bb));},{'priority':'highest'}),_0xc142b7['descriptionFactory']['registerDescriptionCallback'](_0x263462=>{if('insertion'!=_0x263462['type']&&'deletion'!=_0x263462['type'])return;const _0x17babf=_0x263462['getContainedElement']();if(null!=_0x17babf&&_0x17babf['is']('element','table')){if('insertion'==_0x263462['type']){const _0x53e7c8=_0x263462['getItems']()['filter'](_0x5639c9=>_0x5639c9['is']('$textProxy'))['map'](_0x3743dd=>_0x3743dd['data']);if(_0x53e7c8['length'])return{'type':'insertion','content':o(_0x28a12d,'*Insert:*\x20%0',o(_0x28a12d,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x53e7c8['join']('\x20')+'\x22'))};}if('deletion'==_0x263462['type']){const _0x5c2213=_0x263462['getItems']()['filter'](_0x411e8c=>_0x411e8c['is']('$textProxy'))['map'](_0x555d02=>_0x555d02['data']);if(_0x5c2213['length'])return{'type':'deletion','content':o(_0x28a12d,'*Remove:*\x20%0',o(_0x28a12d,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x5c2213['join']('\x20')+'\x22'))};}}}),_0xc142b7['descriptionFactory']['registerDescriptionCallback'](_0x193259=>{if('tableRow'==_0x193259['subType']){const _0x2fbb6c=_0x193259['getItems']()['filter'](_0x37ac8a=>_0x37ac8a['is']('$textProxy'))['map'](_0x24e289=>_0x24e289['data']),_0x26a6ff=this['_getSuggestionCoords'](_0x193259),_0x24c8d5=_0x26a6ff['maxRow']-_0x26a6ff['minRow']+0x1;if('insertion'==_0x193259['type'])return _0x2fbb6c['length']?{'type':'insertion','content':o(_0x28a12d,'*Insert:*\x20%0',o(_0x28a12d,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x24c8d5,'\x22'+_0x2fbb6c['join']('\x20')+'\x22']))}:{'type':'insertion','content':o(_0x28a12d,'*Insert:*\x20%0',o(_0x28a12d,'ELEMENT_TABLE_ROW',_0x24c8d5))};if('deletion'==_0x193259['type'])return _0x2fbb6c['length']?{'type':'deletion','content':o(_0x28a12d,'*Remove:*\x20%0',o(_0x28a12d,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x24c8d5,'\x22'+_0x2fbb6c['join']('\x20')+'\x22']))}:{'type':'deletion','content':o(_0x28a12d,'*Remove:*\x20%0',o(_0x28a12d,'ELEMENT_TABLE_ROW',_0x24c8d5))};}if('tableColumn'==_0x193259['subType']){const _0xeb614d=_0x193259['getItems']()['filter'](_0x5522a9=>_0x5522a9['is']('$textProxy'))['map'](_0xa48939=>_0xa48939['data']),_0x2404e0=this['_getSuggestionCoords'](_0x193259),_0x5f3744=_0x2404e0['maxColumn']-_0x2404e0['minColumn']+0x1;if('insertion'==_0x193259['type'])return _0xeb614d['length']?{'type':'insertion','content':o(_0x28a12d,'*Insert:*\x20%0',o(_0x28a12d,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x5f3744,'\x22'+_0xeb614d['join']('\x20')+'\x22']))}:{'type':'insertion','content':o(_0x28a12d,'*Insert:*\x20%0',o(_0x28a12d,'ELEMENT_TABLE_COLUMN',_0x5f3744))};if('deletion'==_0x193259['type'])return _0xeb614d['length']?{'type':'deletion','content':o(_0x28a12d,'*Remove:*\x20%0',o(_0x28a12d,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x5f3744,'\x22'+_0xeb614d['join']('\x20')+'\x22']))}:{'type':'deletion','content':o(_0x28a12d,'*Remove:*\x20%0',o(_0x28a12d,'ELEMENT_TABLE_COLUMN',_0x5f3744))};}}),_0xc142b7['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','discard',_0x5e466f),_0xc142b7['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','accept',_0x5e466f),_0xc142b7['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','discard',_0x397c17),_0xc142b7['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','accept',_0x397c17),_0xc142b7['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','join',_0x3a2997),_0xc142b7['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','join',_0x3a2997),_0xc142b7['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','join',_0x503acb),_0xc142b7['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','join',_0x503acb);}['_acceptFormatSuggestionCallbackFactory'](){const _0x514a24=this['editor'],_0x2a2b9d=_0x514a24['model']['document']['selection'];return(_0x144b2e,_0x401dab)=>{_0x514a24['model']['change'](_0x4683c2=>{const {commandName:_0x1879b3,commandParams:_0x25de03}=_0x401dab;let _0x39c85b=_0x144b2e[0x0]['end']['nodeBefore'];_0x25de03&&_0x25de03[0x0]&&!0x1===_0x25de03[0x0]['forceValue']&&(_0x39c85b=_0x144b2e[0x0]['start']['nodeAfter']);const _0xbd82ea=_0x4683c2['createRangeIn'](_0x39c85b);if('$graveyard'==_0xbd82ea['root']['rootName'])return;const _0x7a9bf0=Array['from'](_0x2a2b9d['getRanges']())['map'](_0x8e9dec=>_0xe858d8['fromRange'](_0x8e9dec));_0x4683c2['setSelection'](_0xbd82ea),_0x514a24['commands']['get'](_0x1879b3)['refresh'](),_0x25de03['push']({'forceDefaultExecution':!0x0}),_0x514a24['execute'](_0x1879b3,..._0x25de03);const _0x5daaf3=_0x7a9bf0['filter'](_0x327597=>'$graveyard'!=_0x327597['root']['rootName']);_0x5daaf3['length']>0x0&&_0x4683c2['setSelection'](_0x5daaf3);for(const _0x5b5b36 of _0x7a9bf0)_0x5b5b36['detach']();});};}['_getCoordsForCells'](_0x362a4e){const _0x1f7197=this['editor']['plugins']['get']('TableUtils');let _0xf426c5=Number['MAX_SAFE_INTEGER'],_0x49b26b=Number['MIN_SAFE_INTEGER'],_0xd744ce=Number['MAX_SAFE_INTEGER'],_0x3c9e7b=Number['MIN_SAFE_INTEGER'];for(const _0x1d0b67 of _0x362a4e){if('$graveyard'==_0x1d0b67['root']['rootName'])continue;const {row:_0x50e5a8,column:_0x3f7338}=_0x1f7197['getCellLocation'](_0x1d0b67),_0x1c6499=_0x1d0b67['hasAttribute']('rowspan')?_0x1d0b67['getAttribute']('rowspan')-0x1:0x0,_0x353571=_0x1d0b67['hasAttribute']('colspan')?_0x1d0b67['getAttribute']('colspan')-0x1:0x0;_0xf426c5=_0x50e5a8<_0xf426c5?_0x50e5a8:_0xf426c5,_0x49b26b=_0x50e5a8+_0x1c6499>_0x49b26b?_0x50e5a8+_0x1c6499:_0x49b26b,_0xd744ce=_0x3f7338<_0xd744ce?_0x3f7338:_0xd744ce,_0x3c9e7b=_0x3f7338+_0x353571>_0x3c9e7b?_0x3f7338+_0x353571:_0x3c9e7b;}return{'minRow':_0xf426c5,'maxRow':_0x49b26b,'minColumn':_0xd744ce,'maxColumn':_0x3c9e7b};}['_setupColumnsRowsFixing'](){const _0x5a97b3=this['editor'],_0x5acac3=_0x5a97b3['plugins']['get']('TrackChangesEditing'),_0x50f5c2=_0x5a97b3['plugins']['get']('TableUtils');_0x5a97b3['model']['document']['on']('change:data',()=>{const _0x234adf=Array['from'](_0x5a97b3['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x2adae7,data:_0x1b7680}of _0x234adf){const {group:_0x3de54f,id:_0xf3fe11,subType:_0x2b3d4d}=_0x5acac3['_splitMarkerName'](_0x2adae7);if('suggestion'!=_0x3de54f)continue;if(null!=_0x1b7680['oldRange'])continue;const _0x429096=_0x5acac3['getSuggestion'](_0xf3fe11);this['_tablePostFixingSubtypes']['includes'](_0x2b3d4d)&&this['_tableSuggestions']['add'](_0x429096);}},{'priority':'low'});const _0x293aed=(_0x33d2f1,_0x37c560)=>{let _0x5a7034=!0x1;const _0x34c784=_0x37c560['createRangeOn'](_0x33d2f1),_0x5471e4=_0x33d2f1['findAncestor']('table'),_0x32aeff=_0x50f5c2['getCellLocation'](_0x33d2f1);for(const _0x42918a of this['_tableSuggestions']){const _0x3c6362=_0x42918a['subType'],_0x279e4a=_0x3c6362['startsWith']('tablePaste'),_0x4e5cb8=_0x3c6362['substr'](_0x279e4a?0xa:0x5),_0x5cf535=_0x4e5cb8['toLowerCase'](),_0x2e52b1=_0x5cf535['substr'](0x0,0x3)+'span',_0x1d30cc='min'+_0x4e5cb8,_0x2557a5='max'+_0x4e5cb8;if(!_0x42918a['isInContent'])continue;if(_0x5471e4!=_0x42918a['getFirstRange']()['start']['findAncestor']('table'))continue;if(_0x42918a['isIntersectingWithRange'](_0x34c784))continue;const _0x1b62aa=_0x33d2f1['hasAttribute'](_0x2e52b1)?_0x33d2f1['getAttribute'](_0x2e52b1)-0x1:0x0,_0x3d6778=this['_getSuggestionCoords'](_0x42918a),_0x2d67bf=_0x3d6778[_0x1d30cc],_0x633126=_0x3d6778[_0x2557a5];_0x2d67bf<=_0x32aeff[_0x5cf535]&&_0x32aeff[_0x5cf535]+_0x1b62aa<=_0x633126&&(_0x42918a['addRange'](_0x34c784),_0x5a7034=!0x0);}return _0x5a7034;};_0x5a97b3['model']['document']['registerPostFixer'](_0x194a34=>{let _0x50340e=!0x1;for(const _0x4fdccd of _0x5a97b3['model']['document']['differ']['getChanges']())if('insert'==_0x4fdccd['type']){if('tableRow'==_0x4fdccd['name']){for(const _0xba4f58 of _0x4fdccd['position']['nodeAfter']['getChildren']())_0x50340e=_0x50340e||_0x293aed(_0xba4f58,_0x194a34);}else'tableCell'==_0x4fdccd['name']&&(_0x50340e=_0x50340e||_0x293aed(_0x4fdccd['position']['nodeAfter'],_0x194a34));}return _0x50340e;});}['_getSuggestionCoords'](_0x3e3558){return this['_getCoordsForCells'](_0x3e3558['getRanges']()['map'](_0x6b565=>_0x6b565['start']['nodeAfter']));}}function Ee(_0xe69eb1){return Array['from'](new Set(_0xe69eb1)['values']());}class St extends _0x418949{static get['requires'](){return[jt];}['afterInit'](){const _0x588faf=this['editor'],_0x3c6fdc=_0x588faf['model']['document']['selection'],_0x473604=_0x588faf['locale'];if(!_0x588faf['plugins']['has']('TableEditing'))return;const _0xfa2715=_0x588faf['plugins']['get']('TrackChangesEditing'),_0x298329=_0x588faf['plugins']['get']('TableUtils'),_0x33955e=_0x588faf['plugins']['get'](jt);_0x33955e['_tablePostFixingSubtypes']['push']('mergeTableCells'),_0xfa2715['enableCommand']('mergeTableCells',()=>{const _0x281fbb=_0x298329['getSelectionAffectedTableCells'](_0x588faf['model']['document']['selection']);_0x588faf['model']['change'](()=>{_0xfa2715['markMultiRangeBlockFormat'](_0x281fbb,{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});}),_0x588faf['commands']['get']('mergeTableCells')['on']('execute',(_0x41b945,_0x1a6839)=>{_0x588faf['commands']['get']('trackChanges')['value']&&(_0x1a6839['length']>0x0&&_0x1a6839[_0x1a6839['length']-0x1]&&_0x1a6839[_0x1a6839['length']-0x1]['forceDefaultExecution']||_0xfa2715['_isForcedDefaultExecutionBlock']||this['_areSelectedCellsMergable']()||_0x41b945['stop']());},{'priority':'highest'});for(const _0x1591b7 of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft']){const _0x2ecffe=_0x588faf['commands']['get'](_0x1591b7);_0xfa2715['enableCommand'](_0x1591b7,()=>{const _0x5ea34d=_0x588faf['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x179e61=>_0x179e61['is']('element','tableCell')),_0x106c35=_0x2ecffe['value'];_0x588faf['model']['change'](()=>{_0xfa2715['markMultiRangeBlockFormat']([_0x5ea34d,_0x106c35],{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});});}for(const _0x48a2ca of['splitTableCellVertically','splitTableCellHorizontally']){const _0xd3a27b=_0x588faf['commands']['get'](_0x48a2ca);_0xfa2715['enableCommand'](_0x48a2ca,()=>{const _0x1db424=_0x298329['getSelectionAffectedTableCells'](_0x588faf['model']['document']['selection'])[0x0],_0x28856d=_0x1db424['findAncestor']('table'),{column:_0x120451,row:_0x236dfe}=_0x298329['getCellLocation'](_0x1db424);let _0x3d100d=[];if('horizontally'==_0xd3a27b['direction']){const _0x1e3318=_0x298329['createTableWalker'](_0x28856d,{'startRow':_0x236dfe,'endRow':_0x236dfe,'includeAllSlots':!0x0});_0x3d100d=Array['from'](_0x1e3318)['map'](_0x5e26cb=>_0x5e26cb['cell']);}else{const _0x31f53d=_0x298329['createTableWalker'](_0x28856d,{'column':_0x120451,'includeAllSlots':!0x0});_0x3d100d=Array['from'](_0x31f53d)['map'](_0x2e5407=>_0x2e5407['cell']);}_0x588faf['model']['change'](_0x29ba32=>{_0xfa2715['markBlockFormat'](_0x29ba32['createRangeOn'](_0x1db424),{'commandName':_0x48a2ca,'commandParams':[]},_0x3d100d,_0x48a2ca);});});}_0xfa2715['descriptionFactory']['registerDescriptionCallback'](_0xc11ade=>{if('formatBlock'!=_0xc11ade['type']&&'formatInline'!=_0xc11ade['type'])return;const {data:_0x55eaf2}=_0xc11ade;return _0x55eaf2&&'mergeTableCells'==_0x55eaf2['commandName']?{'type':'format','content':o(_0x473604,'*Merge\x20cells*')}:void 0x0;}),_0xfa2715['descriptionFactory']['registerDescriptionCallback'](_0x107742=>{if('formatBlock'!=_0x107742['type']&&'formatInline'!=_0x107742['type'])return;const {data:_0x3ae9fe}=_0x107742;return _0x3ae9fe?'splitTableCellVertically'==_0x3ae9fe['commandName']?{'type':'format','content':o(_0x473604,'*Split\x20cell:*\x20vertically')}:'splitTableCellHorizontally'==_0x3ae9fe['commandName']?{'type':'format','content':o(_0x473604,'*Split\x20cell:*\x20horizontally')}:void 0x0:void 0x0;});const _0x55b204=_0x33955e['_acceptFormatSuggestionCallbackFactory']();for(const _0x3fca21 of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft'])_0xfa2715['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x3fca21,'accept',_0x55b204);for(const _0x31cc4a of['splitTableCellVertically','splitTableCellHorizontally'])_0xfa2715['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x31cc4a,'accept',_0x55b204);_0xfa2715['_suggestionFactory']['registerCustomCallback']('formatBlock','mergeTableCells','accept',_0x2e0ee8=>{_0x588faf['model']['change'](_0x4a6d65=>{const _0x3268a7=Array['from'](_0x3c6fdc['getRanges']())['map'](_0x2edb85=>_0xe858d8['fromRange'](_0x2edb85));_0x4a6d65['setSelection'](_0x2e0ee8),_0x588faf['commands']['get']('mergeTableCells')['refresh'](),_0x588faf['execute']('mergeTableCells',{'forceDefaultExecution':!0x0});const _0x39de4a=_0x3268a7['filter'](_0x21ea26=>'$graveyard'!=_0x21ea26['root']['rootName']);_0x39de4a['length']>0x0&&_0x4a6d65['setSelection'](_0x39de4a);for(const _0x3ad796 of _0x3268a7)_0x3ad796['detach']();});});for(const _0x447425 of['mergeTableCellUp','mergeTableCellDown','mergeTableCellLeft','mergeTableCellRight']){const _0x259104=_0x588faf['commands']['get'](_0x447425);_0x259104['on']('set:isEnabled',(_0x74952,_0x1db0be,_0x255de5)=>{if(_0x255de5){const _0x514710=_0x588faf['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x54bac6=>_0x54bac6['is']('element','tableCell'));this['_areMergableCells'](_0x259104['value'],_0x514710)||(_0x74952['return']=!0x1,_0x74952['stop']());}},{'priority':'low'});}}['_areSelectedCellsMergable'](){const _0x41f08c=this['editor']['commands']['get']('mergeTableCells'),_0x49a994=this['editor']['plugins']['get']('TableUtils');if(!_0x41f08c['isEnabled'])return!0x1;const _0xa2874b=_0x49a994['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);for(const _0x37dcd1 of _0xa2874b)for(const _0x8f1942 of _0xa2874b)if(_0x37dcd1!=_0x8f1942&&!this['_areMergableCells'](_0x37dcd1,_0x8f1942))return!0x1;return!0x0;}['_areMergableCells'](_0x41c67b,_0x1864b9){const _0x34c828=this['editor']['plugins']['get']('TrackChangesEditing'),_0x34ed5e=this['editor']['model']['createRangeOn'](_0x41c67b),_0x580ea3=this['editor']['model']['createRangeOn'](_0x1864b9),_0x377b03=new Set(),_0x5338fe=new Set();for(const _0x19583a of _0x34c828['getSuggestions']())if(('insertion'==_0x19583a['type']||'deletion'==_0x19583a['type']||'mergeTableCells'==_0x19583a['subType'])&&_0x19583a['isInContent']){for(const _0x5e77f1 of _0x19583a['getRanges']())_0x5e77f1['containsRange'](_0x34ed5e,!0x0)&&_0x377b03['add'](_0x19583a['type']+':'+_0x19583a['author']['id']),_0x5e77f1['containsRange'](_0x580ea3,!0x0)&&_0x5338fe['add'](_0x19583a['type']+':'+_0x19583a['author']['id']);}if(_0x377b03['size']!=_0x5338fe['size'])return!0x1;for(const _0x59f7b5 of _0x377b03)if(!_0x5338fe['has'](_0x59f7b5))return!0x1;return!0x0;}}class At extends _0x418949{static get['requires'](){return[jt];}['afterInit'](){const _0x3ff168=this['editor'];if(!_0x3ff168['plugins']['has']('TableEditing'))return;const _0x37d3e7=_0x3ff168['locale'],_0x17b2d7=_0x3ff168['plugins']['get']('TrackChangesEditing');_0x17b2d7['enableDefaultAttributesIntegration']('setTableRowHeader'),_0x17b2d7['enableDefaultAttributesIntegration']('setTableColumnHeader'),_0x17b2d7['registerBlockAttribute']('headingRows'),_0x17b2d7['registerBlockAttribute']('headingColumns'),_0x17b2d7['descriptionFactory']['registerAttributeLabel']('headingRows',o(_0x37d3e7,'FORMAT_HEADER_ROW')),_0x17b2d7['descriptionFactory']['registerAttributeLabel']('headingColumns',o(_0x37d3e7,'FORMAT_HEADER_COLUMN')),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x5fb693=this['editor']['plugins']['get']('TrackChangesEditing'),_0x4f0aef=this['editor']['plugins']['get']('TableUtils'),_0x3bad0a=this['editor']['plugins']['get'](jt)['_acceptFormatSuggestionCallbackFactory']();function _0x2a181f({showActiveMarker:_0x19d991=!0x0,setDataAttribute:_0x96a994=!0x0}={}){return(_0x3f5bed,_0xb33213,_0x1271c6)=>{const {type:_0x1e2e5e,id:_0x181b6c}=_0x5fb693['_splitMarkerName'](_0xb33213['markerName']),_0xadf735=_0x5fb693['getSuggestion'](_0x181b6c),_0x49f9ab=_0xadf735['data'];if('formatBlock'!=_0xadf735['type']||!_0x49f9ab||'setTableColumnHeader'!=_0x49f9ab['commandName'])return;if(_0xb33213['item'])return void _0x3f5bed['stop']();if(!_0x1271c6['consumable']['consume'](_0xb33213['markerRange'],_0x3f5bed['name']))return;const _0x400944=_0xb33213['markerRange']['start']['nodeAfter'],_0x1e1e9a=_0xb33213['markerRange']['end']['nodeBefore'],_0x1fb571=_0x400944['parent']['parent'],{column:_0x142fad}=_0x4f0aef['getCellLocation'](_0x400944),{column:_0x5294a0}=_0x4f0aef['getCellLocation'](_0x1e1e9a);for(let _0x3b2f35=_0x142fad;_0x3b2f35<=_0x5294a0;_0x3b2f35++){const _0x1e5749=_0x4f0aef['createTableWalker'](_0x1fb571,{'column':_0x3b2f35,'includeAllSlots':!0x1});for(const _0x53acb0 of _0x1e5749){const _0xc072cf=_0x53acb0['cell'],_0x366958=_0x1271c6['mapper']['toViewElement'](_0xc072cf);_0x1271c6['writer']['addClass']('ck-suggestion-marker-'+_0x1e2e5e,_0x366958),_0x96a994&&_0x1271c6['writer']['setAttribute']('data-suggestion',_0x181b6c,_0x366958),_0x1271c6['mapper']['bindElementToMarker'](_0x366958,_0xb33213['markerName']),_0x19d991&&(_0x5fb693['activeMarkers']['includes'](_0xb33213['markerName'])?_0x1271c6['writer']['addClass']('ck-suggestion-marker--active',_0x366958):_0x1271c6['writer']['removeClass']('ck-suggestion-marker--active',_0x366958));}}};}_0x5fb693['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableRowHeader','accept',_0x3bad0a),_0x5fb693['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableColumnHeader','accept',_0x3bad0a),this['editor']['editing']['downcastDispatcher']['on']('addMarker:suggestion',_0x2a181f(),{'priority':'highest'}),this['editor']['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x3c58c2,_0xd16952,_0x54db53)=>{_0x54db53['options']['showSuggestionHighlights']&&_0x2a181f({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x3c58c2,_0xd16952,_0x54db53);},{'priority':'highest'}),this['editor']['editing']['downcastDispatcher']['on']('removeMarker:suggestion',(_0x2e73bc,_0x33903f,_0x5ee10b)=>{const {type:_0x39a129,id:_0x382590}=_0x5fb693['_splitMarkerName'](_0x33903f['markerName']),_0xf1735e=_0x5fb693['getSuggestion'](_0x382590),_0x4d98b9=_0xf1735e['data'];if('formatBlock'!=_0xf1735e['type']||!_0x4d98b9||'setTableColumnHeader'!=_0x4d98b9['commandName'])return;const _0x47e890=_0x5ee10b['mapper']['markerNameToElements'](_0x33903f['markerName']);if(_0x47e890){for(const _0x10b99f of _0x47e890)_0x5ee10b['writer']['removeClass']('ck-suggestion-marker-'+_0x39a129,_0x10b99f),_0x5ee10b['writer']['removeClass']('ck-suggestion-marker--active',_0x10b99f),_0x5ee10b['writer']['removeAttribute']('data-suggestion',_0x10b99f),_0x5ee10b['mapper']['unbindElementFromMarkerName'](_0x10b99f,_0x33903f['markerName']);}},{'priority':'highest'}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x41dadc=this['editor'],_0x5e8f83=_0x41dadc['locale'];function _0x266c1f(_0x3120d7){return{'type':'format','content':o(_0x5e8f83,'*Format:*\x20%0',_0x3120d7)};}_0x41dadc['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x778bb5=>{if('formatBlock'!=_0x778bb5['type'])return;const {data:_0x37f9d7}=_0x778bb5;if(_0x37f9d7){if('setTableRowHeader'==_0x37f9d7['commandName']){const _0x3fbbbb=_0x37f9d7['commandParams'][0x0]['forceValue'];return _0x266c1f(o(_0x5e8f83,_0x3fbbbb?'FORMAT_HEADER_ROW':'FORMAT_REGULAR_ROW'));}if('setTableColumnHeader'==_0x37f9d7['commandName']){const _0x1804b1=_0x37f9d7['commandParams'][0x0]['forceValue'];return _0x266c1f(o(_0x5e8f83,_0x1804b1?'FORMAT_HEADER_COLUMN':'FORMAT_REGULAR_COLUMN'));}}});}}const ge=['tableCellBorderWidth','tableCellBorderColor','tableCellBorderStyle','tableCellHorizontalAlignment','tableCellVerticalAlignment','tableCellBackgroundColor','tableCellPadding'],Ce=Object['fromEntries'](ge['map'](_0x100fc6=>[_0x100fc6,null]));class It extends _0x418949{static get['requires'](){return[jt];}['afterInit'](){const _0x7cdd75=this['editor'];if(!_0x7cdd75['plugins']['has']('TableClipboard'))return;const _0x20d266=_0x7cdd75['plugins']['get']('TrackChangesEditing'),_0x46ab54=_0x7cdd75['plugins']['get']('TableUtils'),_0x501934=_0x7cdd75['plugins']['get'](jt),_0x1ba686=_0x7cdd75['plugins']['get']('TableClipboard');_0x501934['_tablePostFixingSubtypes']['push']('tablePasteRow','tablePasteColumn'),_0x7cdd75['model']['schema']['register']('tableCellSuggestion',{'allowIn':'tableCell','allowContentOf':'tableCell','isLimit':!0x0}),_0x7cdd75['conversion']['elementToElement']({'model':'tableCellSuggestion','view':'suggestion-td'});let _0xa76d71=null;_0x7cdd75['model']['on']('insertContent',(_0x3e142d,_0x3cdd8c)=>{const [_0x47104b,_0x49259a]=_0x3cdd8c,_0x3cf171=_0x3cdd8c[_0x3cdd8c['length']-0x1];_0x3cf171&&_0x3cf171['forceDefaultExecution']||_0x20d266['_isForcedDefaultExecutionBlock']||this['editor']['commands']['get']('trackChanges')['value']&&function(_0x2a9c20,_0x1515ee,_0x423402,_0x1dd6e6,_0x443d43){if(_0x1515ee&&!_0x1515ee['is']('documentSelection'))return!0x1;const _0x3d4437=_0x443d43['getTableIfOnlyTableInContent'](_0x2a9c20,_0x423402);if(!_0x3d4437||!he(_0x3d4437,void 0x0,_0x1dd6e6))return!0x1;const _0x3a5e61=_0x1dd6e6['getSelectionAffectedTableCells'](_0x423402['document']['selection']);if(!_0x3a5e61['length'])return!0x1;const _0x15e270=_0x3a5e61[0x0]['findAncestor']('table'),_0x235a04=_0x1dd6e6['getRowIndexes'](_0x3a5e61),_0x4605cd=_0x1dd6e6['getColumnIndexes'](_0x3a5e61),_0x31019a={'startRow':_0x235a04['first'],'endRow':_0x235a04['last'],'startColumn':_0x4605cd['first'],'endColumn':_0x4605cd['last']};return 0x1==_0x3a5e61['length']&&(_0x31019a['endRow']+=_0x1dd6e6['getRows'](_0x3d4437)-0x1,_0x31019a['endColumn']+=_0x1dd6e6['getColumns'](_0x3d4437)-0x1),he(_0x15e270,_0x31019a,_0x1dd6e6);}(_0x47104b,_0x49259a,_0x7cdd75['model'],_0x46ab54,_0x1ba686)&&(_0x3e142d['stop'](),_0xa76d71={'cells':[],'insertionRanges':[],'deletionRanges':[],'rowInsertionRanges':[],'rowInsertionIndexes':[],'columnInsertionRanges':[],'columnInsertionIndexes':[]},_0x7cdd75['model']['change'](()=>{_0x7cdd75['model']['insertContent'](_0x3cdd8c[0x0],_0x3cdd8c[0x1],_0x3cdd8c[0x2],{'forceDefaultExecution':!0x0});const _0x1fe0ab=_0x2551b9(),{rowInsertionRanges:_0x2fca68,columnInsertionRanges:_0x265fcf,insertionRanges:_0xa30038,deletionRanges:_0x412779,cells:_0x2b69e8}=_0xa76d71;_0x2fca68['length']&&_0x20d266['markMultiRangeInsertion'](_0x2fca68,'tablePasteRow',{'tablePasteChainId':_0x1fe0ab}),_0x265fcf['length']&&_0x20d266['markMultiRangeInsertion'](_0x265fcf,'tablePasteColumn',{'tablePasteChainId':_0x1fe0ab}),_0xa30038['length']&&(_0x20d266['markMultiRangeInsertion'](_0xa30038,'tablePaste',{'tablePasteChainId':_0x1fe0ab,'skipNestingCheck':!0x0}),_0xa30038['forEach'](_0x5c95b9=>_0x5c95b9['detach']?.())),_0x412779['length']&&(_0x20d266['markMultiRangeDeletion'](_0x412779,'tablePaste',{'tablePasteChainId':_0x1fe0ab,'skipNestingCheck':!0x0}),_0x412779['forEach'](_0x1e3982=>_0x1e3982['detach']?.()));const _0x22347e=_0x20d266['markMultiRangeBlockFormat'](_0x2b69e8['map'](({element:_0x394598})=>_0x394598),{'formatGroupId':_0x2551b9()},[],'tablePasteCell',{'tablePasteChainId':_0x1fe0ab});if(_0x22347e){const _0x1d979c=_0x22347e['getMarkers'](),_0x177ecf=[];for(const {element:_0x556b2a,attributes:_0x1c3981}of _0x2b69e8){if(!_0x1c3981)continue;const _0xa2a5c=_0x7cdd75['model']['createRangeOn'](_0x556b2a),_0x5435e2=_0x1d979c['find'](_0x34248c=>_0x34248c['getRange']()['isEqual'](_0xa2a5c));_0x5435e2&&_0x177ecf['push']([_0x5435e2['name'],_0x1c3981]);}_0x177ecf['length']&&_0x22347e['setAttribute']('markerAttributes',Object['fromEntries'](_0x177ecf));}_0xa76d71=null;}));},{'priority':_0x26ce18['high']+0xa}),_0x7cdd75['plugins']['get']('TableClipboard')['on']('_replaceTableSlotCell',(_0x473863,_0x288e59)=>{const [_0x5aad46,_0x4318fa,,_0x44dfb5]=_0x288e59;if(!_0xa76d71)return;_0x473863['stop']();const _0x25ece9=_0x5aad46['cell'],_0x286f8e=_0x4318fa,_0x49cbbd=Pe(_0x25ece9),_0x3dd5f0=Pe(_0x286f8e);_0x473863['return']=_0x25ece9;let _0x4654f2=null,_0x1a2b71=null;if(_0x3dd5f0||_0x49cbbd){if(_0x49cbbd&&!_0x3dd5f0){_0x44dfb5['remove'](_0x25ece9['getChild'](0x0));for(const _0x2b9fab of Array['from'](_0x286f8e['getChildren']()))_0x44dfb5['insert'](_0x2b9fab,_0x25ece9,'end');const _0x4b4a55=_0xa76d71['rowInsertionIndexes']['includes'](_0x5aad46['row']),_0x154e90=_0xa76d71['columnInsertionIndexes']['includes'](_0x5aad46['column']);_0x4b4a55||_0x154e90||(_0x4654f2=_0xe858d8['fromRange'](_0x44dfb5['createRangeIn'](_0x25ece9)));}else _0x3dd5f0&&!_0x49cbbd&&(_0x1a2b71=_0x44dfb5['createRangeIn'](_0x25ece9));}else{const _0x31a963=_0x44dfb5['createElement']('tableCellSuggestion'),_0x30c054=_0x44dfb5['createElement']('tableCellSuggestion');_0x44dfb5['wrap'](_0x44dfb5['createRangeIn'](_0x25ece9),_0x30c054),_0x44dfb5['insert'](_0x31a963,_0x25ece9,0x0);for(const _0x482c33 of Array['from'](_0x286f8e['getChildren']()))_0x44dfb5['insert'](_0x482c33,_0x31a963,'end');_0x4654f2=_0xe858d8['fromRange'](_0x44dfb5['createRangeOn'](_0x31a963)),_0x1a2b71=_0xe858d8['fromRange'](_0x44dfb5['createRangeOn'](_0x30c054));}const _0x29e4d4=Array['from'](_0x286f8e['getAttributes']())['filter'](([_0xc42fbb])=>ge['includes'](_0xc42fbb));_0xa76d71['cells']['push']({'element':_0x25ece9,'attributes':_0x29e4d4['length']?Object['fromEntries'](_0x29e4d4):null}),_0x4654f2&&_0xa76d71['insertionRanges']['push'](_0x4654f2),_0x1a2b71&&_0xa76d71['deletionRanges']['push'](_0x1a2b71);},{'priority':'high'}),_0x46ab54['on']('insertColumns',(_0x162c2a,_0x1afa4e)=>{const [_0x947574,_0xa98918={}]=_0x1afa4e;if(!_0xa76d71)return;const _0x5d5f34=_0xa98918['at']||0x0,_0x2586d8=_0xa98918['columns']||0x1;_0xa76d71['columnInsertionIndexes']=new Array(_0x2586d8)['fill'](_0x5d5f34)['map']((_0x99e93c,_0x317a15)=>_0x99e93c+_0x317a15);for(const {cell:_0x1d94dc}of _0x46ab54['createTableWalker'](_0x947574,{'startColumn':_0x5d5f34,'endColumn':_0x5d5f34+_0x2586d8-0x1}))_0xa76d71['columnInsertionRanges']['push'](_0x7cdd75['model']['createRangeOn'](_0x1d94dc));},{'priority':'low'}),_0x46ab54['on']('insertRows',(_0x5a93d8,_0x29a7bc)=>{const [_0x3fdf24,_0x426505={}]=_0x29a7bc;if(!_0xa76d71)return;const _0x27b167=_0x426505['at']||0x0,_0x5e0ee7=_0x426505['rows']||0x1;_0xa76d71['rowInsertionIndexes']=new Array(_0x5e0ee7)['fill'](_0x27b167)['map']((_0x3f87ad,_0x2ad347)=>_0x3f87ad+_0x2ad347);for(const {cell:_0x3eab5d}of _0x46ab54['createTableWalker'](_0x3fdf24,{'startRow':_0x27b167,'endRow':_0x27b167+_0x5e0ee7-0x1}))_0xa76d71['rowInsertionRanges']['push'](_0x7cdd75['model']['createRangeOn'](_0x3eab5d));},{'priority':'low'}),_0x20d266['descriptionFactory']['registerDescriptionCallback'](_0xd4b633=>{if(_0xd4b633['subType']&&_0xd4b633['subType']['startsWith']('tablePaste'))return _0xd4b633['previous']?{}:{'type':'insertion','content':o(_0x7cdd75['locale'],'*Replace\x20table\x20cells*')};});const _0x2ff01a=()=>!0x1;for(const _0x58ccb7 of['tablePaste','tablePasteColumn','tablePasteRow','tablePasteCell'])_0x20d266['_suggestionFactory']['registerCustomCallback']('insertion',_0x58ccb7,'join',_0x2ff01a),_0x20d266['_suggestionFactory']['registerCustomCallback']('deletion',_0x58ccb7,'join',_0x2ff01a),_0x20d266['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x58ccb7,'join',_0x2ff01a);_0x20d266['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','discard',_0x2ff01a),_0x20d266['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','accept',(_0x55ca3f,_0x37cb2d,_0x263b5c)=>{const _0x2b7f9b=_0x55ca3f['map'](_0x1dfe61=>_0x1dfe61['getContainedElement']())['filter'](_0x362ee6=>_0x362ee6),_0xbf72a8=new Map(_0x2b7f9b['map'](_0x8fc270=>[_0x8fc270,null]));if(_0xa76d71){for(const {element:_0x4b7352,attributes:_0x55f006}of _0xa76d71['cells'])_0x55f006&&_0xbf72a8['set'](_0x4b7352,_0x55f006);}else{if(_0x263b5c&&_0x263b5c['markerAttributes'])for(const [_0x5c4b14,_0x47caca]of Object['entries'](_0x263b5c['markerAttributes'])){const _0x44d1f4=_0x7cdd75['model']['markers']['get'](_0x5c4b14),_0x410ec3=_0x44d1f4?_0x44d1f4['getRange']()['getContainedElement']():null;_0x410ec3&&_0xbf72a8['set'](_0x410ec3,_0x47caca);}}_0x7cdd75['model']['change'](_0x3845b3=>{for(const [_0x469872,_0x25a8cf]of _0xbf72a8)_0x3845b3['setAttributes']({...Ce,..._0x25a8cf},_0x469872);});});const _0x4a0954=(_0xee74f,_0x453c4b)=>{_0x20d266['_suggestionFactory']['registerCustomCallback'](_0xee74f,'tablePaste',_0x453c4b,(_0x2ed11d,_0x33a26e,_0x4e7c2e)=>{_0x7cdd75['model']['change'](_0x3049d2=>{const _0x476ebb=[];for(const _0x26923c of _0x2ed11d){const _0x3d1ea7=_0x26923c['start']['nodeAfter'];_0x3d1ea7['is']('element','tableCellSuggestion')&&_0x476ebb['push'](_0x3d1ea7);}_0x20d266['_suggestionFactory']['getSuggestionCallback'](_0xee74f,null,_0x453c4b)(_0x2ed11d,_0x33a26e,_0x4e7c2e);for(const _0x4545ae of _0x476ebb)'$graveyard'!=_0x4545ae['root']['rootName']&&_0x3049d2['unwrap'](_0x4545ae);});});};_0x4a0954('insertion','accept'),_0x4a0954('insertion','discard'),_0x4a0954('deletion','accept'),_0x4a0954('deletion','discard'),_0x20d266['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteRow','discard',_0x47354c=>{const _0x4adb5c=_0x47354c['map'](_0x447dcb=>_0x447dcb['getContainedElement']()),_0x4c6bfe=_0x4adb5c[0x0]['findAncestor']('table'),{minRow:_0x145a9f,maxRow:_0x59061c}=_0x501934['_getCoordsForCells'](_0x4adb5c);_0x46ab54['removeRows'](_0x4c6bfe,{'at':_0x145a9f,'rows':_0x59061c-_0x145a9f+0x1});}),_0x20d266['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteColumn','discard',_0x2319e1=>{const _0x469cb0=_0x2319e1['map'](_0x59a3ab=>_0x59a3ab['getContainedElement']()),_0x2dfd44=_0x469cb0[0x0]['findAncestor']('table'),{minColumn:_0x3f6581,maxColumn:_0x347499}=_0x501934['_getCoordsForCells'](_0x469cb0);_0x46ab54['removeColumns'](_0x2dfd44,{'at':_0x3f6581,'columns':_0x347499-_0x3f6581+0x1});});const _0x20079b=(_0x1f5609,_0x42c564)=>{if(!_0x42c564['subType']||!_0x42c564['subType']['startsWith']('tablePaste'))return;const _0x3deea8=_0x42c564['attributes']['tablePasteChainId'],_0x450d1a=_0x20d266['getSuggestions']()['filter'](_0x47f758=>_0x47f758['isInContent']&&_0x47f758['attributes']&&_0x47f758['attributes']['tablePasteChainId']==_0x3deea8);_0x450d1a['length']&&_0x42c564['getAllAdjacentSuggestions']()['length']!=_0x450d1a['length']&&_0x450d1a['reduce']((_0x55be76,_0x509120)=>(_0x55be76['next']=_0x509120,_0x509120['previous']=_0x55be76,_0x509120));};function _0xd031a4(_0x34ad89,_0x27a340=!0x0){const {id:_0x465eed}=_0x20d266['_splitMarkerName'](_0x34ad89['markerName']),_0x6f06bf=['ck-suggestion-marker','ck-suggestion-marker-insertion'],_0x328402=_0x20d266['activeMarkers']['includes'](_0x34ad89['markerName']);return _0x328402&&_0x6f06bf['push']('ck-suggestion-marker--active'),{'classes':_0x6f06bf,'attributes':{'data-suggestion':_0x465eed},'priority':_0x328402&&_0x27a340?0xbc2:0xbb8};}_0x20d266['on']('suggestionLoaded',_0x20079b,{'priority':'high'}),_0x20d266['on']('suggestionUnloaded',_0x20079b,{'priority':'high'}),_0x7cdd75['model']['document']['registerPostFixer'](()=>{let _0x43f590=!0x1;const _0x54ccec=Array['from'](_0x7cdd75['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x2df297,data:_0x2676cf}of _0x54ccec){const {group:_0x249a86,type:_0x4c7d16,id:_0x243355}=_0x20d266['_splitMarkerName'](_0x2df297);if('suggestion'!=_0x249a86||'deletion'!=_0x4c7d16||_0x2676cf['oldRange'])continue;if(!_0x20d266['hasSuggestion'](_0x243355))continue;const _0x291391=_0x20d266['getSuggestion'](_0x243355)['getRanges'](),_0x2238b6=_0x7cdd75['plugins']['get']('Users')['me'];for(const _0x23bd22 of _0x20d266['getSuggestions']()){if(!_0x23bd22['isInContent']||_0x23bd22['author']!=_0x2238b6)continue;if('formatBlock'!=_0x23bd22['type']||'tablePasteCell'!=_0x23bd22['subType'])continue;if(_0x23bd22['getRanges']()['every'](_0x30d1bd=>_0x291391['some'](_0x4196c9=>_0x4196c9['containsRange'](_0x30d1bd,!0x0)))){for(const _0x5c54b0 of _0x23bd22['getAllAdjacentSuggestions']())_0x5c54b0['isInContent']&&(_0x5c54b0['discard'](),_0x43f590=!0x0);}}}return _0x43f590;}),_0x7cdd75['model']['document']['registerPostFixer'](_0x2d53ea=>{const _0x1050b3=_0x7cdd75['commands']['get']('redo');if(!_0x1050b3||!_0x1050b3['_createdBatches']['has'](_0x2d53ea['batch']))return!0x1;let _0x27ecb0=!0x1;const _0x922666=_0x7cdd75['plugins']['get']('Users')['me'],_0x35dd12=_0x7cdd75['model']['document']['differ']['getChanges'](),_0x486797=Array['from'](_0x7cdd75['model']['document']['differ']['getChangedMarkers']())['filter'](({name:_0x1fe6ff,data:_0x5d0d29})=>{const {group:_0x10da99,subType:_0x5831f3,authorId:_0xb9e47e}=_0x20d266['_splitMarkerName'](_0x1fe6ff);return'suggestion'==_0x10da99&&'tablePaste'==_0x5831f3&&_0xb9e47e==_0x922666['id']&&!_0x5d0d29['oldRange'];});for(const _0x1ed3dc of _0x35dd12){if('insert'!=_0x1ed3dc['type']||'tableCellSuggestion'!=_0x1ed3dc['name']||0x1!=_0x1ed3dc['length'])continue;const _0x439600=_0x2d53ea['createRange'](_0x1ed3dc['position'],_0x1ed3dc['position']['getShiftedBy'](0x1));if(!_0x486797['find'](({data:_0x1cd42d})=>_0x1cd42d['newRange']['isEqual'](_0x439600))){for(const {name:_0x20de4d,data:_0x58608a}of _0x486797)if(_0x439600['containsRange'](_0x58608a['newRange'])){_0x2d53ea['updateMarker'](_0x20de4d,{'range':_0x439600}),_0x27ecb0=!0x0;break;}}}return _0x27ecb0;}),_0x7cdd75['model']['document']['registerPostFixer'](_0x2e342f=>{let _0x4a3f43=!0x1;const _0x423a5f=_0x7cdd75['plugins']['get']('Users')['me'],_0x2659cb=_0x20d266['getSuggestions']()['filter'](_0x26d04d=>_0x26d04d['isInContent']&&_0x26d04d['author']==_0x423a5f),_0x2e538d=new Set(),_0x3ac786=new Set();for(const _0xb13ac of _0x2659cb)if('tablePaste'==_0xb13ac['subType'])for(const _0x2aff02 of _0xb13ac['getMarkers']()){const _0x433831=_0x2aff02['getRange']()['getContainedElement']();if(_0x433831){if(_0x433831['is']('element','tableCellSuggestion')&&Pe(_0x433831)){_0xb13ac['removeMarker'](_0x2aff02['name']),_0x2e538d['add'](_0x433831),_0x4a3f43=!0x0;const _0x5f33ea=_0x433831['nextSibling'],_0x598748=_0x433831['previousSibling'],_0x548084=_0x5f33ea&&_0x5f33ea['is']('element','tableCellSuggestion'),_0x3ecd4d=_0x598748&&_0x598748['is']('element','tableCellSuggestion');_0x548084&&!_0x2e538d['has'](_0x5f33ea)&&_0x3ac786['add'](_0x5f33ea),_0x3ecd4d&&!_0x2e538d['has'](_0x598748)&&_0x3ac786['add'](_0x598748);}else _0x433831['is']('element','paragraph')&&_0x433831['isEmpty']&&(_0xb13ac['removeMarker'](_0x2aff02['name']),_0x4a3f43=!0x0);}}else{if('tablePasteCell'==_0xb13ac['subType']){if(!_0xb13ac['attributes']||!_0xb13ac['attributes']['tablePasteChainId'])continue;const _0x5cd116=_0xb13ac['attributes']['markerAttributes'];if(_0x5cd116&&Object['keys'](_0x5cd116)['length'])continue;const _0x462733=_0xb13ac['attributes']['tablePasteChainId'];let _0x18fb8e=!0x0,_0x405010=!0x0;for(const _0x39d1c6 of _0x2659cb)if(_0x39d1c6['subType']&&_0x39d1c6['subType']['startsWith']('tablePaste')){if(!_0x39d1c6['attributes']['tablePasteChainId']){_0x405010=!0x1;break;}if(_0x39d1c6['id']!=_0xb13ac['id']&&_0x39d1c6['attributes']['tablePasteChainId']==_0x462733){_0x18fb8e=!0x1;break;}}_0x405010&&_0x18fb8e&&(_0xb13ac['removeMarkers'](),_0x4a3f43=!0x0);}}for(const _0x2c9649 of _0x2e538d)_0x2e342f['remove'](_0x2c9649);for(const _0x49a3f2 of _0x3ac786)_0x2e342f['unwrap'](_0x49a3f2);return _0x4a3f43;}),_0x7cdd75['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':(_0x23a364,_0x51fd2b)=>_0xd031a4(_0x23a364),'converterPriority':'high'}),_0x7cdd75['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':(_0x467564,_0x33e69a)=>_0x33e69a['options']['showSuggestionHighlights']?_0xd031a4(_0x467564,!0x1):null,'converterPriority':'high'});const _0x438679=_0x7cdd75['editing']['view'];this['listenTo'](_0x438679['document'],'clipboardOutput',(_0x37d2b0,_0x1fda6b)=>{const _0x59a517=[];for(const _0x195a34 of _0x438679['createRangeIn'](_0x1fda6b['content'])['getItems']())_0x195a34['is']('element','suggestion-td')&&_0x59a517['push'](_0x195a34);_0x438679['change'](_0x480fa9=>{for(const _0x2ff0b4 of _0x59a517)_0x480fa9['move'](_0x480fa9['createRangeIn'](_0x2ff0b4),_0x480fa9['createPositionBefore'](_0x2ff0b4)),_0x480fa9['remove'](_0x2ff0b4);});});}}function Pe(_0x4b68ba){if(_0x4b68ba['isEmpty'])return!0x0;const _0x29d626=_0x4b68ba['getChild'](0x0);return _0x29d626['is']('element','paragraph')&&_0x29d626['isEmpty'];}function he(_0x495481,_0x19be53={},_0x34d43c){for(const {isAnchor:_0x139c53,cellHeight:_0x364eac,cellWidth:_0x41f298}of _0x34d43c['createTableWalker'](_0x495481,{'includeAllSlots':!0x0,..._0x19be53}))if(!_0x139c53||0x1!=_0x364eac||0x1!=_0x41f298)return!0x1;return!0x0;}class vt extends _0x418949{['afterInit'](){if(!this['editor']['plugins']['has']('TableColumnResizeEditing'))return;const _0x3e41b3=this['editor']['plugins']['get']('TrackChangesEditing');_0x3e41b3['enableCommand']('resizeTableWidth',this['handleResizeTableWidthCommand']['bind'](this)),_0x3e41b3['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','accept',_0x3e41b3['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x3e41b3['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','discard',_0x3e41b3['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),_0x3e41b3['descriptionFactory']['registerDescriptionCallback'](this['handleSuggestionDescription']['bind'](this));}['handleResizeTableWidthCommand'](_0x21dedd,_0x336b17){const _0x44e81f=this['editor']['plugins']['get']('TrackChangesEditing'),_0x16e60b=this['editor']['plugins']['get']('TableColumnResizeEditing'),_0x246ed6=_0x336b17['table']||this['editor']['model']['document']['selection']['getSelectedElement']();this['editor']['model']['change'](()=>{const _0x1f492a=_0x16e60b['getColumnGroupElement'](_0x246ed6);let _0x3bd70e=_0x1f492a?_0x16e60b['getTableColumnsWidths'](_0x1f492a):null,_0x1ab292=_0x246ed6['getAttribute']('tableWidth')||null;const _0x4d75af=_0x336b17['tableWidth']||_0x1ab292,_0x197cae=_0x336b17['columnWidths']||_0x3bd70e,_0x1f8dc0=this['editor']['plugins']['get']('Users')['me'];for(const _0x2fdd17 of _0x44e81f['getSuggestions']()){const _0x75658c=_0x2fdd17['getContainedElement']();if('resizeTable'===_0x2fdd17['subType']&&_0x75658c===_0x246ed6){_0x2fdd17['author']!==_0x1f8dc0&&_0x2fdd17['discard']();const _0x701da5=_0x2fdd17['data']['commandParams'];_0x1ab292=_0x701da5[0x0]['tableWidth'],_0x3bd70e=_0x701da5[0x0]['columnWidths'];break;}}_0x21dedd({'table':_0x246ed6,'tableWidth':_0x4d75af,'columnWidths':_0x197cae}),_0x44e81f['markBlockFormat'](_0x246ed6,{'commandName':'resizeTableWidth','commandParams':[{'tableWidth':_0x1ab292,'columnWidths':_0x3bd70e}],'formatGroupId':'resizeTable'},[],'resizeTable');});}['handleSuggestionDescription'](_0x439201){if('formatBlock'!=_0x439201['type']&&'formatInline'!=_0x439201['type'])return;const {data:_0x9637ae}=_0x439201;if(_0x9637ae&&'resizeTable'===_0x9637ae['formatGroupId']){const _0x1003dd='*Format:*\x20resize\x20table';return{'type':'format','content':o(this['editor']['locale'],_0x1003dd)};}}}class Ct extends _0x418949{['afterInit'](){const _0x36b787=this['editor'];_0x36b787['plugins']['has']('Template')&&_0x36b787['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTemplate');}}class _t extends _0x418949{['afterInit'](){const _0xaf722d=this['editor'];if(!_0xaf722d['commands']['get']('insertTableOfContents'))return;_0xaf722d['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTableOfContents');const _0x3e03b8=_0xaf722d['plugins']['get']('TrackChangesEditing'),_0x1d04d0=_0xaf722d['locale'];_0x3e03b8['descriptionFactory']['registerElementLabel']('tableOfContents',_0x54290f=>o(_0x1d04d0,'ELEMENT_TABLE_OF_CONTENTS',_0x54290f));}}class Dt extends _0x418949{['afterInit'](){const _0xf8021b=this['editor'];if(!_0xf8021b['plugins']['has']('Title'))return;const _0x2df6d3=_0xf8021b['plugins']['get']('TrackChangesEditing');_0x2df6d3['descriptionFactory']['registerElementLabel']('title-content',()=>o(_0xf8021b['locale'],'ELEMENT_TITLE')),_0xf8021b['model']['document']['registerPostFixer'](_0xe16c57=>{let _0x273215=!0x1;const _0x4f1e50=Array['from'](_0xf8021b['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x44b17e,data:_0x1b48ca}of _0x4f1e50){const {group:_0x4272a7}=_0x2df6d3['_splitMarkerName'](_0x44b17e);if('suggestion'!==_0x4272a7||!_0x1b48ca['newRange'])continue;const _0x5097ee=_0x1b48ca['newRange'],_0x6af2f1=_0x5097ee['end']['nodeBefore'];if(!_0x6af2f1||!_0x6af2f1['is']('element','title-content'))continue;if(!_0x5097ee['start']['isTouching'](_0x5097ee['end']))continue;const _0x1afc61=_0xf8021b['model']['schema']['getNearestSelectionRange'](_0x5097ee['end'],'forward');if(_0x1afc61&&_0x1afc61['isCollapsed']){const _0x216eca=_0xe16c57['createRange'](_0x5097ee['start'],_0x1afc61['start']);_0x216eca['isEqual'](_0x5097ee)||(_0xe16c57['updateMarker'](_0x44b17e,{'range':_0x216eca}),_0x273215=!0x0);}_0x273215||(_0xe16c57['removeMarker'](_0x44b17e),_0x273215=!0x0);}return _0x273215;});}}class Nt extends _0x418949{['afterInit'](){const _0x4a4cc1=this['editor'],_0x5641fa=_0x4a4cc1['plugins']['get']('TrackChangesEditing');_0x4a4cc1['plugins']['has']('UndoEditing')&&(_0x5641fa['enableCommand']('undo'),_0x5641fa['enableCommand']('redo'));}}class Mt extends _0x418949{static get['requires'](){return[jt];}['afterInit'](){const _0x39734f=this['editor'];if(!_0x39734f['plugins']['has']('TableCaptionEditing'))return;_0x39734f['plugins']['get']('TrackChangesEditing')['enableCommand']('toggleTableCaption');}}class $t extends _0x418949{['tableProperties'];['tableCellProperties'];constructor(_0x2770ae){super(_0x2770ae),this['tableProperties']=['tableBorderColor','tableBorderStyle','tableBorderWidth','tableAlignment','tableWidth','tableHeight','tableBackgroundColor'],this['tableCellProperties']=['tableCellBorderColor','tableCellBorderStyle','tableCellBorderWidth','tableCellPadding','tableCellWidth','tableCellHeight','tableCellBackgroundColor','tableCellHorizontalAlignment','tableCellVerticalAlignment'];}static get['pluginName'](){return'TrackChangesTableProperties';}['afterInit'](){const _0x4fa3db=this['editor']['plugins']['get']('TrackChangesEditing');if(this['editor']['plugins']['has']('TablePropertiesEditing')){for(const _0x2537e0 of this['tableProperties'])_0x4fa3db['enableCommand'](_0x2537e0,(_0x5da916,_0x341b0d)=>{const _0x517b7c=this['editor']['model']['document']['selection']['getFirstPosition']()['findAncestor']('table');this['_handlePropertyChange'](_0x2537e0,[_0x517b7c],this['tableProperties'],'tableProperties',_0x5da916,_0x341b0d);});_0x4fa3db['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','accept',_0x4fa3db['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x4fa3db['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','discard',(_0x5ce7ae,_0x5daddc)=>this['handleDiscardAction'](this['tableProperties'],_0x5ce7ae,_0x5daddc)),_0x4fa3db['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','join',()=>!0x1);}if(this['editor']['plugins']['has']('TableCellPropertiesEditing')){for(const _0x4566c3 of this['tableCellProperties'])_0x4fa3db['enableCommand'](_0x4566c3,(_0x550c27,_0x192550)=>{const _0x935e99=this['editor']['plugins']['get']('TableUtils')['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);this['_handlePropertyChange'](_0x4566c3,_0x935e99,this['tableCellProperties'],'tableCellProperties',_0x550c27,_0x192550);});_0x4fa3db['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','accept',_0x4fa3db['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x4fa3db['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','discard',(_0x288761,_0xaedc53)=>this['handleDiscardAction'](this['tableCellProperties'],_0x288761,_0xaedc53)),_0x4fa3db['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','join',()=>!0x1);}_0x4fa3db['descriptionFactory']['registerDescriptionCallback'](_0x48eeaa=>this['handleSuggestionDescription'](_0x48eeaa));}['_handlePropertyChange'](_0x373024,_0x55ef68,_0x372810,_0x3b943c,_0xc5ca37,_0x22fed8){const _0x5c1970=this['editor']['plugins']['get']('TrackChangesEditing');this['editor']['model']['enqueueChange'](_0x22fed8['batch'],()=>{for(const _0x2139f1 of _0x55ef68){if(this['_getSuggestion'](_0x2139f1,_0x3b943c))_0xc5ca37(_0x22fed8);else{const _0x37d500={};for(const _0x5df730 of _0x372810){const _0x21601e=_0x2139f1['getAttribute'](_0x5df730);void 0x0!==_0x21601e&&(_0x37d500[_0x5df730]=_0x21601e);}_0xc5ca37(_0x22fed8),_0x5c1970['markBlockFormat'](_0x2139f1,{'commandParams':[_0x37d500]},[],_0x3b943c);}}});}['handleDiscardAction'](_0x5e746d,_0x23cb34,_0x25747b){const _0x263600=_0x23cb34[0x0]['start']['nodeAfter'],_0x383914=_0x25747b['commandParams'][0x0];this['editor']['model']['change'](_0x378901=>{for(const _0x2556ec of _0x5e746d)void 0x0!==_0x383914[_0x2556ec]?_0x378901['setAttribute'](_0x2556ec,_0x383914[_0x2556ec],_0x263600):_0x378901['removeAttribute'](_0x2556ec,_0x263600);});}['handleSuggestionDescription'](_0x17baf3){if(_0x17baf3['data'])switch(_0x17baf3['subType']){case'tableProperties':return{'type':'format','content':o(this['editor']['locale'],'*Format:*\x20change\x20table\x20properties')};case'tableCellProperties':return{'type':'format','content':o(this['editor']['locale'],'*Format:*\x20change\x20table\x20cell\x20properties')};}}['_getSuggestion'](_0x471000,_0x9bc8bd){const _0x520db4=this['editor']['plugins']['get']('TrackChangesEditing');for(const _0x4c6c66 of _0x520db4['getSuggestions']({'skipNotAttached':!0x0})){const _0x2f9c20=_0x4c6c66['getContainedElement']();if(_0x4c6c66['subType']===_0x9bc8bd&&_0x2f9c20===_0x471000)return _0x4c6c66;}return null;}}const m='$elementName';class p extends _0x418949{['descriptionFactory'];['trackChangesCommand'];['_adapter'];['_suggestionFactory'];['_suggestions'];['_commentsRepository'];['_enabledCommands'];['_model'];['_suggestionState'];['_isForcedDefaultExecutionBlock'];['_trackFormatChanges'];['_mergeNestedSuggestions'];['_blockAttributeKeys'];['_inlineAttributeKeys'];['_recordAttributeSuggestions']=!0x1;static get['requires'](){return['CommentsRepository',_0x48d50a,_0x3be8b9,E,V,U,O,F,G,L,H,q,W,J,Q,X,Y,Z,tt,et,it,nt,st,ot,rt,at,ut,K,lt,ct,z,ue,ft,gt,mt,dt,pt,kt,bt,wt,yt,jt,St,At,Mt,It,vt,_t,$t,Ct,Dt,Nt];}static get['pluginName'](){return'TrackChangesEditing';}constructor(_0x2eaa3e){function _0x484916(_0x243cf8){return _0x243cf8['map'](_0x4dd8e3=>String['fromCharCode'](_0x4dd8e3))['join']('');}super(_0x2eaa3e),this['set']('activeMarkers',[]),this['on']('change:activeMarkers',(_0x4db82a,_0x228036,_0x55921b,_0x234fc6)=>{this['_model']['change'](()=>{for(const _0x49e889 of[..._0x234fc6,..._0x55921b])this['_model']['markers']['has'](_0x49e889)&&_0x2eaa3e['editing']['reconvertMarker'](_0x49e889);});}),this['descriptionFactory']=new f(this['editor']['model']['schema'],this['editor']['locale']),this['_adapter']=null,this['_suggestionFactory']=new xt(this['editor']),this['_suggestions']=new Map(),this['_commentsRepository']=_0x2eaa3e['plugins']['get']('CommentsRepository'),this['_enabledCommands']=new Set(),this['_model']=this['editor']['model'],this['_suggestionState']=new WeakMap(),this['_isForcedDefaultExecutionBlock']=!0x1,this['_blockAttributeKeys']=new Set([m]),this['_inlineAttributeKeys']=new Set(),_0x2eaa3e['config']['define']('trackChanges.trackFormatChanges','default'),this['_trackFormatChanges']=_0x2eaa3e['config']['get']('trackChanges.trackFormatChanges'),_0x2eaa3e['config']['define']('trackChanges.mergeNestedSuggestions',!0x0),this['_mergeNestedSuggestions']=_0x2eaa3e['config']['get']('trackChanges.mergeNestedSuggestions'),this['trackChangesCommand']=new M(_0x2eaa3e,this['_enabledCommands']),this['_initAriaMarkerChangeAnnouncements'](),this[_0x484916([0x5f,0x65,0x78,0x65,0x63,0x75,0x74,0x65,0x53,0x75,0x67,0x67,0x65,0x73,0x74,0x69,0x6f,0x6e])]=_0x484916([0x34,0x30,0x34,0x38,0x31,0x32,0x35,0x32]);}['init'](){const _0x25c4c2=this['editor'],_0x3ff7ab=(_0x2ece9d,_0x1a0cc3)=>{if('attribute'!=_0x2ece9d)return'ck-suggestion-marker-'+_0x2ece9d;const _0xa90a85=_0x1a0cc3['split']('|')[0x0];return this['_isBlockAttribute'](_0xa90a85)?'ck-suggestion-marker-formatBlock':'ck-suggestion-marker-formatInline';};_0x25c4c2['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion','view':_0x490abd=>{const {id:_0x36a62f,type:_0x55c5a0,subType:_0x325122}=this['_splitMarkerName'](_0x490abd['markerName']),_0x5176de=['ck-suggestion-marker',_0x3ff7ab(_0x55c5a0,_0x325122)];let _0x39c749=0xbb8;return this['activeMarkers']['includes'](_0x490abd['markerName'])&&(_0x5176de['push']('ck-suggestion-marker--active'),_0x39c749=0xbc2),'deletion'==_0x55c5a0&&(_0x39c749+=0x5),{'classes':_0x5176de,'attributes':{'data-suggestion':_0x36a62f},'priority':_0x39c749};}}),_0x25c4c2['conversion']['for']('dataDowncast')['add'](_0x4fe534=>{_0x4fe534['on']('addMarker:suggestion',(_0x53fb31,_0x11ae4d,_0x1e7e15)=>{if(!_0x1e7e15['options']['showSuggestionHighlights'])return;const _0x2334cf=_0x11ae4d['item'];if(!_0x2334cf)return;const _0x24a66c=_0x1e7e15['mapper']['toViewElement'](_0x2334cf);_0x25c4c2['model']['schema']['isObject'](_0x2334cf)&&_0x24a66c&&!_0x24a66c['getCustomProperty']('widget')&&_0x24a66c['is']('containerElement')&&_0x29775c(_0x24a66c,_0x1e7e15['writer']);},{'priority':'high'});}),_0x25c4c2['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion','view':(_0x243aed,_0x2c61e7)=>{if(!_0x2c61e7['options']['showSuggestionHighlights'])return null;const {type:_0x2f2e43,subType:_0x6a413e}=this['_splitMarkerName'](_0x243aed['markerName']);return{'classes':['ck-suggestion-marker',_0x3ff7ab(_0x2f2e43,_0x6a413e)],'priority':0xbb8};}});const _0xe6803d=({showActiveMarkers:_0x25e543=!0x0,isAttributeSuggestion:_0x47ba0a=!0x1}={})=>(_0x49efe9,_0x3c5875,_0x2015e6)=>{if(!_0x3c5875['item'])return;const {id:_0x1fae17}=this['_splitMarkerName'](_0x3c5875['markerName']);if(_0x47ba0a){const _0x53ba50=this['_suggestions']['get'](_0x1fae17),_0x59583c=this['_getAttributeKey'](_0x53ba50);if(!this['_isBlockAttribute'](_0x59583c))return;}if(_0x3c5875['item']['is']('selection'))return void _0x2015e6['consumable']['consume'](_0x3c5875['item'],_0x49efe9['name']);const _0x2b2fe7=_0x2015e6['mapper']['toViewElement'](_0x3c5875['item']);if(_0x3c5875['item']['is']('element')&&_0x25c4c2['model']['schema']['isBlock'](_0x3c5875['item'])&&!_0x2b2fe7['getCustomProperty']('addHighlight')){_0x2015e6['writer']['addClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock'],_0x2b2fe7),_0x2015e6['writer']['setAttribute']('data-suggestion',_0x1fae17,_0x2b2fe7),_0x2015e6['mapper']['bindElementToMarker'](_0x2b2fe7,_0x3c5875['markerName']),_0x25e543&&(this['activeMarkers']['includes'](_0x3c5875['markerName'])?_0x2015e6['writer']['addClass']('ck-suggestion-marker--active',_0x2b2fe7):_0x2015e6['writer']['removeClass']('ck-suggestion-marker--active',_0x2b2fe7));for(const _0x483aca of _0x25c4c2['model']['createRangeIn'](_0x3c5875['item'])['getItems']())_0x2015e6['consumable']['consume'](_0x483aca,_0x49efe9['name']);_0x2015e6['consumable']['consume'](_0x3c5875['item'],_0x49efe9['name']);}};_0x25c4c2['conversion']['for']('dataDowncast')['add'](_0x5b55d9=>{_0x5b55d9['on']('addMarker:suggestion:formatBlock',(_0x535d9e,_0x234fb,_0x2d96c1)=>{_0x2d96c1['options']['showSuggestionHighlights']&&_0xe6803d({'showActiveMarkers':!0x1})(_0x535d9e,_0x234fb,_0x2d96c1);},{'priority':'highest'});}),_0x25c4c2['conversion']['for']('dataDowncast')['add'](_0x3c1c3f=>{_0x3c1c3f['on']('addMarker:suggestion:attribute',(_0x2291c4,_0x338840,_0x59eb62)=>{_0x59eb62['options']['showSuggestionHighlights']&&_0xe6803d({'showActiveMarkers':!0x1,'isAttributeSuggestion':!0x0})(_0x2291c4,_0x338840,_0x59eb62);},{'priority':'highest'});}),_0x25c4c2['conversion']['for']('dataDowncast')['markerToData']({'model':'suggestion','view':(_0xe96b65,_0x7489a1)=>_0x7489a1['options']['showSuggestionHighlights']?null:{'group':'suggestion','name':_0xe96b65['substr'](0xb)}}),_0x25c4c2['conversion']['for']('upcast')['elementToElement']({'view':{'name':'suggestion','attributes':{'id':/^\w/,'suggestion-type':/^\w/}},'model':(_0x4b76a0,{writer:_0x410cba})=>{let _0x2ebbfc='suggestion:'+_0x4b76a0['getAttribute']('suggestion-type')+':'+_0x4b76a0['getAttribute']('id');return _0x4b76a0['getAttribute']('marker-count')&&(_0x2ebbfc+=':'+_0x4b76a0['getAttribute']('marker-count')),_0x410cba['createElement']('$marker',{'data-name':_0x2ebbfc});}}),_0x25c4c2['conversion']['for']('upcast')['dataToMarker']({'view':'suggestion'}),_0x25c4c2['conversion']['for']('editingDowncast')['add'](_0x5e43f1=>{_0x5e43f1['on']('addMarker:suggestion:formatBlock',_0xe6803d(),{'priority':'high'});}),_0x25c4c2['conversion']['for']('editingDowncast')['add'](_0x53d04b=>{_0x53d04b['on']('addMarker:suggestion:attribute',_0xe6803d({'isAttributeSuggestion':!0x0}),{'priority':'high'});}),_0x25c4c2['conversion']['for']('editingDowncast')['add'](_0xa2bf09=>{_0xa2bf09['on']('removeMarker:suggestion:formatBlock',(_0x4aacba,_0x141f99,_0x433b32)=>{const _0x51fca0=_0x433b32['mapper']['markerNameToElements'](_0x141f99['markerName']);if(_0x51fca0){for(const _0x154dc0 of _0x51fca0)_0x154dc0['getCustomProperty']('addHighlight')||(_0x433b32['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x154dc0),_0x433b32['writer']['removeAttribute']('data-suggestion',_0x154dc0),_0x433b32['mapper']['unbindElementFromMarkerName'](_0x154dc0,_0x141f99['markerName']));}},{'priority':'high'});}),_0x25c4c2['conversion']['for']('editingDowncast')['add'](_0x415797=>{_0x415797['on']('removeMarker:suggestion:attribute',(_0x6e71df,_0x1318a1,_0xbc34f6)=>{const _0x4b63b3=_0xbc34f6['mapper']['markerNameToElements'](_0x1318a1['markerName']);if(!_0x4b63b3)return;const {id:_0x5b58d7}=this['_splitMarkerName'](_0x1318a1['markerName']),_0x421056=this['_suggestions']['get'](_0x5b58d7),_0x37c093=this['_getAttributeKey'](_0x421056);if(this['_isBlockAttribute'](_0x37c093)){for(const _0x14859c of _0x4b63b3)_0x14859c['getCustomProperty']('addHighlight')||(_0xbc34f6['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x14859c),_0xbc34f6['writer']['removeAttribute']('data-suggestion',_0x14859c),_0xbc34f6['mapper']['unbindElementFromMarkerName'](_0x14859c,_0x1318a1['markerName']));}},{'priority':'high'});}),_0x25c4c2['model']['document']['registerPostFixer'](_0x585430=>{let _0x6718aa=!0x1;const _0x3eda4e=Array['from'](_0x25c4c2['model']['document']['differ']['getChangedMarkers']()),_0x15a97a=new Set();for(const {name:_0x2afddf,data:_0xc15fd5}of _0x3eda4e){const {group:_0x47aa5f,type:_0x2e60ce,subType:_0x2f42f9,id:_0x170b65}=this['_splitMarkerName'](_0x2afddf);if('suggestion'!==_0x47aa5f)continue;const _0x5b9409=this['_suggestions']['get'](_0x170b65);if(null!=_0xc15fd5['newRange']){'formatInline'==_0x2e60ce&&(_0x6718aa=_0x6718aa||Et(_0xc15fd5['newRange'],_0x2afddf,_0x585430,_0x25c4c2['model']['schema']));const _0x357ff4='attribute'==_0x2e60ce&&this['_isBlockAttribute'](_0x2f42f9['split']('|')[0x0]);if(_0xc15fd5['newRange']['isCollapsed']||'$graveyard'==_0xc15fd5['newRange']['root']['rootName']||'formatBlock'==_0x2e60ce&&!Ut(_0xc15fd5['newRange'])||_0x357ff4&&!Ut(_0xc15fd5['newRange'])||'deletion'==_0x2e60ce&&!(!Tt(_0x47068e=_0xc15fd5['newRange'])&&!function(_0x2605b1){return _0x2605b1['start']['parent']==_0x2605b1['end']['nodeBefore']&&_0x2605b1['start']['isAtEnd'];}(_0x47068e)))_0x585430['removeMarker'](_0x2afddf),_0x6718aa=!0x0;else{if(!_0x5b9409||!_0x5b9409['isInContent'])continue;_0x15a97a['add'](_0x5b9409);}}}var _0x47068e;return _0x15a97a['size']>0x0&&(_0x6718aa=!!this['_joinWithAdjacentSuggestions'](_0x15a97a)||_0x6718aa),_0x6718aa;}),_0x25c4c2['model']['document']['registerPostFixer'](_0x1a7cd3=>{let _0x13d53d=!0x1;for(const _0x58f72a of _0x25c4c2['model']['document']['differ']['getChanges']())if('insert'==_0x58f72a['type'])for(const _0x43d97d of this['_suggestions']['values']()){if(_0x43d97d['isMultiRange']||!_0x43d97d['isInContent'])continue;const _0x28a562='formatBlock'==_0x43d97d['type'],_0x37ed26=this['_getAttributeKey'](_0x43d97d),_0xea5ee8=_0x37ed26&&this['_isBlockAttribute'](_0x37ed26);if(!_0x28a562&&!_0xea5ee8)continue;const _0x297dc2=_0x43d97d['getFirstRange']();if(_0x297dc2['start']['parent']!=_0x297dc2['end']['parent']&&!_0x297dc2['end']['isAtEnd']){const _0x2d050e=_0x25c4c2['model']['createPositionAt'](_0x297dc2['start']['nodeAfter'],'end'),_0x5afa7b=_0x25c4c2['model']['createRange'](_0x297dc2['start'],_0x2d050e);_0x1a7cd3['updateMarker'](_0x43d97d['getFirstMarker'](),{'range':_0x5afa7b}),_0x13d53d=!0x0;}}return _0x13d53d;}),_0x25c4c2['model']['document']['registerPostFixer'](_0x465fbb=>this['_processAttributeChanges'](_0x465fbb)),_0x25c4c2['model']['document']['registerPostFixer'](_0x494667=>!_0x494667['batch']['isLocal']&&this['_processAttributeSuggestions'](_0x494667)),_0x25c4c2['model']['on']('_afterChanges',()=>{this['_recordAttributeSuggestions']=!0x1;}),_0x25c4c2['model']['document']['on']('change:data',(_0x5836fa,_0x302c35)=>{if(!_0x302c35['isLocal']||_0x302c35['isUndo'])return;if(!this['_recordAttributeSuggestions'])return;const _0x197fcf=_0x25c4c2['model']['document']['differ']['getChanges']();if(0x0==_0x197fcf['length'])return;const _0x97d7d0=[],_0x42abc8=_0x197fcf['filter'](_0x3fc84d=>'attribute'==_0x3fc84d['type']),_0x5a9ede=_0x197fcf['filter'](_0x53846e=>'insert'==_0x53846e['type']&&'$text'!=_0x53846e['name']);for(const _0x4fdd6c of _0x42abc8)this['_isRegisteredAttribute'](_0x4fdd6c['attributeKey'])&&_0x97d7d0['push']({'key':_0x4fdd6c['attributeKey'],'newValue':_0x4fdd6c['attributeNewValue'],'oldValue':_0x4fdd6c['attributeOldValue'],'range':Ot(_0x4fdd6c['range'],_0x25c4c2['model'])});for(const _0x13e63e of _0x5a9ede){if('rename'!=_0x13e63e['action']&&'refresh'!=_0x13e63e['action'])continue;const _0x5dc04f=Gt(_0x13e63e['position']['nodeAfter'],_0x25c4c2['model']),_0x3bbd97=_0x13e63e['before'];'rename'==_0x13e63e['action']&&_0x97d7d0['push']({'key':m,'newValue':_0x13e63e['name'],'oldValue':_0x3bbd97['name'],'range':_0x5dc04f});for(const [_0x22817c,_0x1d0b68]of _0x3bbd97['attributes']){if(!this['_isRegisteredAttribute'](_0x22817c))continue;const _0x3bb6a9=_0x13e63e['attributes']['get'](_0x22817c);_0x1d0b68!==_0x3bb6a9&&_0x97d7d0['push']({'key':_0x22817c,'newValue':_0x3bb6a9,'oldValue':_0x1d0b68,'range':_0x5dc04f});}for(const [_0xa5968e,_0x545151]of _0x13e63e['attributes'])this['_isRegisteredAttribute'](_0xa5968e)&&(_0x3bbd97['attributes']['has'](_0xa5968e)||_0x97d7d0['push']({'key':_0xa5968e,'newValue':_0x545151,'oldValue':null,'range':_0x5dc04f}));}0x0!=_0x97d7d0['length']&&_0x25c4c2['model']['enqueueChange'](_0x302c35,_0x37e0b6=>{const _0x35f006=_0x2551b9();for(const {range:_0x29f120,key:_0xa31d,oldValue:_0x20c6fa,newValue:_0x4ce687}of _0x97d7d0)this['markAttributeChange'](_0x29f120,_0xa31d,_0x20c6fa,_0x4ce687,{'groupId':_0x35f006});this['_reduceExistingSuggestions'](_0x37e0b6,_0x97d7d0);});},{'priority':'lowest'}),_0x25c4c2['model']['markers']['on']('update:suggestion',(_0x57fbcc,_0x19b8cc,_0x66fb25)=>{if(null==_0x66fb25){const {id:_0x30b661}=this['_splitMarkerName'](_0x19b8cc['name']),_0x1b3683=this['_suggestions']['get'](_0x30b661);_0x1b3683&&_0x1b3683['addMarkerName'](_0x19b8cc['name']);}}),_0x25c4c2['model']['document']['on']('change:data',()=>{const _0x366c66=Array['from'](_0x25c4c2['model']['document']['differ']['getChangedMarkers']())['filter'](_0x6acfea=>'suggestion'===this['_splitMarkerName'](_0x6acfea['name'])['group']);if(0x0===_0x366c66['length'])return;_0x366c66['sort']((_0xb29158,_0x33a6dc)=>{const _0x4c2081=_0xb29158['data']['oldRange'],_0xc79307=_0x33a6dc['data']['oldRange'];return null===_0x4c2081&&null===_0xc79307?0x0:null===_0x4c2081&&null!==_0xc79307?-0x1:null!==_0x4c2081&&null===_0xc79307?0x1:_0x4c2081['start']['isBefore'](_0xc79307['start'])?-0x1:0x1;});const _0x5820b3=new Set(),_0x1a06da=new Set();for(const {name:_0x34b9b5,data:_0x2f1d96}of _0x366c66){const {id:_0x2745ae}=this['_splitMarkerName'](_0x34b9b5);if(null===_0x2f1d96['oldRange']){const _0x403c6b=this['_handleNewSuggestionMarker'](_0x34b9b5);_0x1a06da['add'](_0x403c6b);}else{const _0x36a05a=this['_suggestions']['get'](_0x2745ae);null!==_0x2f1d96['newRange']||_0x36a05a['isInContent']?(_0x5820b3['add'](_0x36a05a['head']),_0x1a06da['add'](_0x36a05a)):this['_removeSuggestion'](_0x36a05a);}}_0x1a06da['size']>0x0&&this['_refreshSuggestionsChain'](_0x1a06da);for(const _0x585d50 of _0x5820b3)this['fire']('suggestionChanged',_0x585d50);}),_0x25c4c2['model']['on']('applyOperation',(_0x3cf4bf,_0x516621)=>{const _0xa356e8=_0x516621[0x0];if(!this['_suggestions']['size'])return;if(!_0xa356e8['isDocumentOperation'])return;if(_0xa356e8['batch']['isUndo']||!_0xa356e8['batch']['isLocal'])return;let _0x18396f,_0x5a43c9;switch(_0xa356e8['type']){case'insert':_0x18396f=_0x25c4c2['model']['createPositionAt'](_0xa356e8['position']),_0x5a43c9=_0x18396f['getShiftedBy'](_0xa356e8['howMany']);break;case'split':_0x18396f=_0x25c4c2['model']['createPositionAt'](_0xa356e8['splitPosition']),_0x5a43c9=_0x25c4c2['model']['createPositionAt'](_0xa356e8['moveTargetPosition']);break;case'move':_0x18396f=_0x25c4c2['model']['createPositionAt'](_0xa356e8['targetPosition']),_0x5a43c9=_0x18396f['getShiftedBy'](_0xa356e8['howMany']);break;default:return;}const _0x40bb9c=_0x25c4c2['model']['createRange'](_0x18396f,_0x5a43c9);_0x25c4c2['model']['change'](()=>{for(const {suggestion:_0x43a563,meta:_0x469848}of this['_findSuggestions'](_0x40bb9c)){if(_0x43a563['isMultiRange'])continue;if('formatInline'==_0x43a563['type'])continue;const _0x12f6ea=this['_getAttributeKey'](_0x43a563);if(_0x12f6ea&&this['_isBlockAttribute'](_0x12f6ea)&&'split'!=_0xa356e8['type'])continue;const _0xc3abab=_0x43a563['data']&&_0x43a563['data']['multipleBlocks'];('formatBlock'!=_0x43a563['type']||'split'==_0xa356e8['type']&&!_0xc3abab)&&(_0x469848['containsRangeInObject']||'insertion'==_0x43a563['type']&&_0x469848['isOwn']||_0x43a563['getFirstRange']()['containsRange'](_0x40bb9c)&&this['_breakSuggestionMarker'](_0x43a563,_0x18396f,_0x5a43c9));}});},{'priority':'lowest'}),_0x25c4c2['model']['on']('deleteContent',(_0x178d88,_0x36fb10)=>{const _0x5ef570=_0x36fb10[0x0],_0xe9a36e=_0x36fb10[0x1];if(_0xe9a36e&&_0xe9a36e['forceDefaultExecution'])return;if(this['_isForcedDefaultExecutionBlock'])return;if(!this['trackChangesCommand']['value'])return;if(_0x5ef570['isCollapsed'])return;const _0x5b03ca=_0x25c4c2['model']['schema'],{start:_0x31bc93,end:_0x23c8ed}=_0x5ef570['getFirstRange'](),_0x44a970=_0x31bc93['nodeAfter']&&_0x5b03ca['isLimit'](_0x31bc93['nodeAfter'])?null:_0x5b03ca['getNearestSelectionRange'](_0x31bc93,'forward'),_0x344c0e=_0x23c8ed['nodeBefore']&&_0x5b03ca['isLimit'](_0x23c8ed['nodeBefore'])?null:_0x5b03ca['getNearestSelectionRange'](_0x23c8ed,'backward'),_0x4615d6=_0x25c4c2['model']['createRange'](_0x44a970?_0x44a970['start']:_0x31bc93,_0x344c0e?_0x344c0e['end']:_0x23c8ed);_0x25c4c2['model']['change'](_0x36f796=>{this['markDeletion'](_0x4615d6);const _0x5a1dcf=_0x25c4c2['model']['schema']['getNearestSelectionRange'](_0x4615d6['start']);_0x5ef570['is']('documentSelection')?_0x36f796['setSelection'](_0x5a1dcf):_0x5ef570['setTo'](_0x5a1dcf);}),_0x178d88['stop']();},{'priority':_0x26ce18['normal']+0xa}),_0x25c4c2['model']['on']('insertContent',(_0x4b97c4,_0x4e9089)=>{const _0x3737f9=_0x4e9089[_0x4e9089['length']-0x1];_0x3737f9&&_0x3737f9['forceDefaultExecution']||this['_isForcedDefaultExecutionBlock']||this['trackChangesCommand']['value']&&(_0x25c4c2['model']['change'](()=>{let _0x3049ad=_0x25c4c2['model']['insertContent'](_0x4e9089[0x0],_0x4e9089[0x1],_0x4e9089[0x2],{'forceDefaultExecution':!0x0});if(!_0x3049ad)return;_0x4b97c4['return']=_0x3049ad['clone']();const _0xd6636d=_0x3049ad['end']['nodeBefore'],_0x404f4c=_0x25c4c2['model']['schema'];_0xd6636d&&_0x404f4c['isBlock'](_0xd6636d)&&!_0x404f4c['isObject'](_0xd6636d)&&(_0x3049ad=_0x25c4c2['model']['createRange'](_0x3049ad['start'],_0x25c4c2['model']['createPositionAt'](_0xd6636d,'end'))),this['markInsertion'](_0x3049ad);}),_0x4b97c4['stop']());},{'priority':'high'}),this['editor']['commands']['add']('trackChanges',this['trackChangesCommand']),this['enableCommand']('trackChanges');const _0x1d11af=new $(_0x25c4c2,this['_suggestions']);_0x25c4c2['commands']['add']('acceptSuggestion',_0x1d11af),this['enableCommand']('acceptSuggestion');const _0x15aeb0=new B(_0x25c4c2,this['_suggestions']);_0x25c4c2['commands']['add']('discardSuggestion',_0x15aeb0),this['enableCommand']('discardSuggestion'),_0x25c4c2['commands']['add']('acceptAllSuggestions',new x(_0x25c4c2,_0x1d11af,this['_suggestions'])),this['enableCommand']('acceptAllSuggestions'),_0x25c4c2['commands']['add']('discardAllSuggestions',new x(_0x25c4c2,_0x15aeb0,this['_suggestions'])),this['enableCommand']('discardAllSuggestions'),_0x25c4c2['commands']['add']('acceptSelectedSuggestions',new R(_0x25c4c2,_0x1d11af,this['_suggestions'])),this['enableCommand']('acceptSelectedSuggestions'),_0x25c4c2['commands']['add']('discardSelectedSuggestions',new R(_0x25c4c2,_0x15aeb0,this['_suggestions'])),this['enableCommand']('discardSelectedSuggestions');const _0xf69303=_0x25c4c2['plugins']['get']('CommentsRepository');this['listenTo'](_0xf69303,'addComment',(_0x5c8d29,{threadId:_0x4fb879})=>{const _0x44b329=this['_suggestions']['get'](_0x4fb879);_0x44b329&&_0x44b329['commentThread']&&0x1===_0x44b329['commentThread']['length']&&this['_updateSuggestionData'](_0x4fb879,{'hasComments':!0x0});},{'priority':'low'}),this['listenTo'](_0xf69303,'removeComment',(_0x566b1f,{threadId:_0x343c2d})=>{const _0x50d3a7=this['_suggestions']['get'](_0x343c2d);_0x50d3a7&&_0x50d3a7['commentThread']&&!_0x50d3a7['commentThread']['length']&&this['_updateSuggestionData'](_0x343c2d,{'hasComments':!0x1});},{'priority':'low'});}set['adapter'](_0x571d3c){if(this['_adapter'])throw new _0x5e0f73('track-changes-adapter-already-set',this);this['_adapter']=_0x571d3c;}get['adapter'](){return this['_adapter'];}['getSuggestions']({skipNotAttached:_0x96e0fe=!0x1,toJSON:_0x405b5a=!0x1}={}){const _0x2a88dc=[];for(const _0x3b891c of this['_suggestions']['values']())_0x96e0fe&&!_0x3b891c['isInContent']||_0x2a88dc['push'](_0x3b891c);return _0x405b5a?_0x2a88dc['map'](_0x51581a=>_0x51581a['toJSON']()):_0x2a88dc;}['getSuggestion'](_0x4319f5){const _0x1e9f92=this['_suggestions']['get'](_0x4319f5);if(!_0x1e9f92)throw new _0x5e0f73('track-changes-suggestion-not-found',this);return _0x1e9f92;}['hasSuggestion'](_0x3aaa96){return this['_suggestions']['has'](_0x3aaa96);}['addSuggestionData'](_0x2f2005){const {authorId:_0xba68df,id:_0x4d284c,attributes:_0x48e3be}=_0x2f2005,[_0x530ebd,_0x61e679]=_0x2f2005['type']['split'](':'),_0x1cb2df=this['_suggestions']['get'](_0x4d284c)||this['_createSuggestion'](_0x530ebd,_0x61e679,_0x4d284c,_0xba68df,_0x48e3be);if(this['_addThreadToSuggestion'](_0x1cb2df),this['_checkSuggestionCorrectness'](_0x1cb2df,_0x530ebd,_0x61e679||null,_0xba68df),_0x1cb2df['createdAt']=_0x2f2005['createdAt'],_0x1cb2df['_isDataLoaded']=!0x0,_0x48e3be&&_0x48e3be['@external']){const _0x129955=_0x48e3be['@external'],_0x5aac88=this['_getExternalAuthor'](_0x129955['authorName']);_0x1cb2df['authoredAt']=_0x129955['createdAt'],_0x1cb2df['author']=_0x5aac88,_0x1cb2df['isExternal']=!0x0;}else _0x1cb2df['authoredAt']=_0x2f2005['createdAt'];switch(_0x2f2005['data']&&(_0x1cb2df['data']=_0x2f2005['data']),_0x2f2005['attributes']&&(_0x1cb2df['attributes']=_0x2f2005['attributes']),this['_adapter']&&this['_adapter']['addSuggestion']||(_0x1cb2df['_saved']=!0x0),this['_suggestionState']['get'](_0x1cb2df)){case'notReady':this['_suggestionState']['set'](_0x1cb2df,'dataReady');break;case'markerReady':_0x1cb2df['isInContent']?(this['_joinWithAdjacentSuggestions'](new Set([_0x1cb2df])),this['_refreshSuggestionsChain'](new Set([_0x1cb2df])),this['_suggestionState']['set'](_0x1cb2df,'ready'),this['fire']('suggestionLoaded',_0x1cb2df)):this['_suggestionState']['set'](_0x1cb2df,'removed');}return _0x1cb2df;}['acceptSuggestion'](_0xbcd9b6){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x5d5025 of _0xbcd9b6['getAllAdjacentSuggestions']())_0x5d5025['accept']();});});}['discardSuggestion'](_0x155b82){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x50b716 of _0x155b82['getAllAdjacentSuggestions']())_0x50b716['discard']();});});}['enableCommand'](_0x2a5ff1,_0x2d10e7){const _0x23f761=this['editor']['commands']['get'](_0x2a5ff1);if(!_0x23f761)throw new _0x5e0f73('track-changes-command-not-found',this,{'commandName':_0x2a5ff1});if(this['_enabledCommands']['has'](_0x23f761))throw new _0x5e0f73('track-changes-enable-command-twice',this,{'commandName':_0x2a5ff1});this['_enabledCommands']['add'](_0x23f761),_0x2d10e7&&_0x23f761['on']('execute',(_0x8808b4,_0x17be58)=>{this['trackChangesCommand']['value']&&(this['_isForcedDefaultExecutionBlock']||(_0x17be58['length']>0x0&&_0x17be58[_0x17be58['length']-0x1]&&_0x17be58[_0x17be58['length']-0x1]['forceDefaultExecution']?_0x17be58['pop']():(_0x8808b4['return']=_0x2d10e7((..._0x31d590)=>_0x23f761['execute'](..._0x31d590,{'forceDefaultExecution':!0x0}),..._0x17be58),_0x8808b4['stop']())));},{'priority':'high'});}['forceDefaultExecution'](_0x422d6f){let _0x1e08f3,_0x1126cd;const _0x17628c=this['_isForcedDefaultExecutionBlock'];this['_isForcedDefaultExecutionBlock']=!0x0;try{_0x1e08f3=_0x422d6f();}catch(_0x1753a5){_0x1126cd=_0x1753a5;}return _0x17628c||(this['_isForcedDefaultExecutionBlock']=!0x1),_0x1126cd&&_0x5e0f73['rethrowUnexpectedError'](_0x1126cd,this),_0x1e08f3;}['markInsertion'](_0x45303e,_0x52dad8=null,_0x4a6652={}){if(_0x45303e['isCollapsed'])return null;const _0x9863d9=this['editor']['plugins']['get']('Users')['me'];for(const {suggestion:_0x5609ce,meta:_0x59ea07}of this['_findSuggestions'](_0x45303e,'insertion'))if(_0x59ea07['isOwn']){if(!_0x59ea07['isNextTo']){if(_0x59ea07['containsRangeInObject']){if(!this['_mergeNestedSuggestions']||!Lt(_0x5609ce,_0x4a6652))continue;return _0x5609ce;}if(Lt(_0x5609ce,_0x4a6652))return _0x5609ce;this['_breakSuggestionMarker'](_0x5609ce,_0x45303e['start'],_0x45303e['end']);break;}if(_0x52dad8==_0x5609ce['subType']&&Lt(_0x5609ce,_0x4a6652)){const _0x1f1ba6=_0x5609ce['getFirstRange']();return _0x1f1ba6['start']['isEqual'](_0x45303e['end'])?this['_setSuggestionRange'](_0x5609ce,this['_model']['createRange'](_0x45303e['start'],_0x1f1ba6['end'])):this['_setSuggestionRange'](_0x5609ce,this['_model']['createRange'](_0x1f1ba6['start'],_0x45303e['end'])),_0x5609ce;}}const _0x484049=_0x2551b9(),_0x464261=_0x9863d9['id'],_0x30555f=_0x52dad8?'insertion:'+_0x52dad8:'insertion',_0xf09fb5=this['_setSuggestionData']({'id':_0x484049,'type':_0x30555f,'createdAt':new Date(),'authorId':_0x464261,'attributes':_0x4a6652});return this['_addSuggestionMarker'](_0x30555f,_0x484049,_0x464261,_0x45303e),_0xf09fb5;}['markMultiRangeInsertion'](_0x1b8c81,_0x555cfb='multi',_0x44670f={}){const _0x2ee467=this['editor']['plugins']['get']('Users')['me'],_0x47cc21=this['_suggestionFactory']['getSuggestionCallback']('insertion',_0x555cfb,'join');for(const _0x315275 of this['getSuggestions']())if(_0x315275['author']['id']==_0x2ee467['id']&&'insertion'==_0x315275['type']&&_0x315275['subType']==_0x555cfb&&Lt(_0x315275,_0x44670f)&&(_0x47cc21(_0x315275['getRanges'](),_0x1b8c81)||_0x47cc21(_0x1b8c81,_0x315275['getRanges']()))){for(const _0x19e95e of _0x1b8c81)_0x315275['addRange'](_0x19e95e);return _0x315275;}for(const {suggestion:_0x2fe5b9,meta:_0x4c7bdb}of this['_findSuggestions'](_0x1b8c81,'insertion')){if(!_0x4c7bdb['isOwn'])continue;if(!this['_mergeNestedSuggestions']&&_0x4c7bdb['containsRangeInObject'])continue;if(!Lt(_0x2fe5b9,_0x44670f))continue;let _0x123083=!0x0;for(const _0x38e083 of _0x2fe5b9['getRanges']())for(const _0x32c21c of _0x1b8c81)if(!_0x38e083['containsRange'](_0x32c21c)){_0x123083=!0x1;break;}if(_0x123083)return _0x2fe5b9;}const _0xc6677d=_0x2551b9(),_0x3e61c9=_0x2ee467['id'],_0x35b200='insertion:'+_0x555cfb,_0x1e52dc=this['_setSuggestionData']({'id':_0xc6677d,'type':_0x35b200,'createdAt':new Date(),'authorId':_0x3e61c9,'attributes':_0x44670f});for(const _0x30680f of _0x1b8c81)this['_addSuggestionMarker'](_0x35b200,_0xc6677d,_0x3e61c9,_0x30680f,u['getMultiRangeId']());return _0x1e52dc;}['markInlineFormat'](_0x51ee00,_0x40d219,_0x191b53=null,_0x2c2d78={}){if(_0x191b53=_0x191b53||Vt(_0x40d219),_0x51ee00['isCollapsed'])return null;if('never'===this['_trackFormatChanges']){const _0x2c8d4c=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x191b53,'accept');return this['forceDefaultExecution'](()=>_0x2c8d4c([_0x51ee00],_0x40d219,_0x2c2d78)),null;}const _0x513205=this['editor']['plugins']['get']('Users')['me'],_0x20c3ff=[];if('always'!==this['_trackFormatChanges']){for(const {suggestion:_0x11f3e5,meta:_0x288397}of this['_findSuggestions'](_0x51ee00,'insertion'))_0x288397['isOwn']&&!_0x288397['isInsideObject']&&_0x20c3ff['push'](..._0x11f3e5['getRanges']());}const _0x370d3a=function(_0x5753b8,_0x4b02fb){const _0x1705ef=[];for(const _0x5be1d7 of _0x4b02fb){const _0x3e9c98=_0x5753b8['getIntersection'](_0x5be1d7);_0x3e9c98&&_0x1705ef['push'](_0x3e9c98);}return _0x1705ef;}(_0x51ee00,_0x20c3ff),_0x51e70d=function(_0x2f4eda,_0x5f270c){const _0x3f6fcf=[_0x2f4eda];for(const _0x56cba4 of _0x5f270c){let _0xe63d3b=0x0;for(;_0xe63d3b<_0x3f6fcf['length'];){const _0x3b5ef9=_0x3f6fcf[_0xe63d3b]['getDifference'](_0x56cba4);_0x3f6fcf['splice'](_0xe63d3b,0x1,..._0x3b5ef9),_0xe63d3b+=_0x3b5ef9['length'];}}return _0x3f6fcf;}(_0x51ee00,_0x20c3ff);_0x370d3a['length']&&this['_model']['change'](()=>{for(const _0x2b3f08 of _0x370d3a){const _0x5524fe=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x191b53,'accept');this['forceDefaultExecution'](()=>_0x5524fe([_0x2b3f08],_0x40d219,_0x2c2d78));}});for(const _0x6b3926 of _0x51e70d){let _0x458332=null,_0xe3ef0a=_0x6b3926['start'],_0x57767c=_0x6b3926['end'];for(const {suggestion:_0x51446f,meta:_0x50e94d}of this['_findSuggestions'](_0x6b3926,'formatInline')){if(!_0x50e94d['isOwn'])continue;if(_0x51446f['subType']!=_0x191b53)continue;if(!Lt(_0x51446f,_0x2c2d78))continue;const _0x2d72f8=_0x51446f['getFirstRange']();if(_0x2d72f8['containsRange'](_0x6b3926,!0x0))return null;_0xe3ef0a=_0xe3ef0a['isBefore'](_0x2d72f8['start'])?_0xe3ef0a:_0x2d72f8['start'],_0x57767c=_0x57767c['isAfter'](_0x2d72f8['end'])?_0x57767c:_0x2d72f8['end'],_0x458332?_0x2d72f8['start']['isBefore'](_0x458332['getFirstRange']()['start'])?(_0x458332['removeMarkers'](),_0x458332=_0x51446f):_0x51446f['removeMarkers']():_0x458332=_0x51446f;}const _0x18b008=this['_model']['createRange'](_0xe3ef0a,_0x57767c);if(_0x458332)this['_setSuggestionRange'](_0x458332,_0x18b008);else{const _0x559b26=_0x2551b9(),_0x25862d=_0x513205['id'];this['_setSuggestionData']({'id':_0x559b26,'type':'formatInline:'+_0x191b53,'data':_0x40d219,'createdAt':new Date(),'authorId':_0x25862d,'attributes':_0x2c2d78}),this['_addSuggestionMarker']('formatInline:'+_0x191b53,_0x559b26,_0x25862d,_0x18b008);}}return null;}['markBlockFormat'](_0x5a6358,_0xc6da86,_0x27bf1b=[],_0x368545=null,_0x2086e3={}){_0xc6da86['formatGroupId']||(_0xc6da86['formatGroupId']=_0xc6da86['commandName']),_0xc6da86['multipleBlocks']=_0x5a6358['is']('range'),_0x368545=_0x368545||Vt(_0xc6da86);const _0x393ccb=_0x27bf1b['map'](_0xd54247=>Gt(_0xd54247,this['_model'])),_0x45ab70=_0x5a6358['is']('range')?_0x5a6358:Gt(_0x5a6358,this['_model']);if('never'===this['_trackFormatChanges']){const _0x1708de=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x368545,'accept');return this['forceDefaultExecution'](()=>_0x1708de([_0x45ab70],_0xc6da86,_0x2086e3)),null;}_0x393ccb['push'](_0x45ab70);let _0x2c7a27=!0x0;for(const _0x5eec05 of _0x393ccb)if(!this['_rangeIsInLocalUserInsertion'](_0x5eec05)){_0x2c7a27=!0x1;break;}if(_0x2c7a27&&'always'!==this['_trackFormatChanges']){const _0x50b92d=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x368545,'accept');return this['forceDefaultExecution'](()=>_0x50b92d([_0x45ab70],_0xc6da86,_0x2086e3)),null;}let _0x3a35c2=null,_0x11d249=_0x45ab70['start'],_0x5b494f=_0x45ab70['end'];for(const {suggestion:_0x604c0d,meta:_0x283132}of this['_findSuggestions'](_0x45ab70,'formatBlock')){if(!_0x283132['isOwn'])continue;if(_0x283132['isNextTo']||_0x283132['containsRangeInObject']||_0x283132['isInsideObject'])continue;if(_0x604c0d['data']['formatGroupId']!=_0xc6da86['formatGroupId'])continue;if(!Lt(_0x604c0d,_0x2086e3))continue;const _0xbef32a=_0x604c0d['getFirstRange']();if(_0x604c0d['subType']==_0x368545){if(_0xbef32a['containsRange'](_0x45ab70,!0x0))return null;_0x11d249=_0x11d249['isBefore'](_0xbef32a['start'])?_0x11d249:_0xbef32a['start'],_0x5b494f=_0x5b494f['isAfter'](_0xbef32a['end'])?_0x5b494f:_0xbef32a['end'],_0x3a35c2?_0xbef32a['start']['isBefore'](_0x3a35c2['getFirstRange']()['start'])?(_0x3a35c2['removeMarkers'](),_0x3a35c2=_0x604c0d):_0x604c0d['removeMarkers']():_0x3a35c2=_0x604c0d;}else{const _0x4ce7b4=_0x45ab70['getIntersection'](_0xbef32a);this['_cutOutSuggestionMarker'](_0x604c0d,_0x4ce7b4);}}const _0x474bfd=this['editor']['plugins']['get']('Users')['me'],_0x22cec4=_0x2551b9(),_0x334e5a=_0x474bfd['id'];if(_0x3a35c2)return this['_setSuggestionRange'](_0x3a35c2,this['_model']['createRange'](_0x11d249,_0x5b494f)),_0x3a35c2;{const _0x3448cc=this['_setSuggestionData']({'id':_0x22cec4,'type':'formatBlock:'+_0x368545,'data':_0xc6da86,'createdAt':new Date(),'authorId':_0x334e5a,'attributes':_0x2086e3});return this['_addSuggestionMarker']('formatBlock:'+_0x368545,_0x22cec4,_0x334e5a,this['_model']['createRange'](_0x11d249,_0x5b494f)),_0x3448cc;}}['markMultiRangeBlockFormat'](_0x535372,_0x1cfe12,_0x1bf061=[],_0x2faf11=null,_0xfa3220={}){_0x1cfe12['formatGroupId']||(_0x1cfe12['formatGroupId']=_0x1cfe12['commandName']);const _0x1b5077=_0x535372[0x0];_0x1cfe12['multipleBlocks']=_0x1b5077['is']('range'),_0x2faf11=_0x2faf11||Vt(_0x1cfe12);const _0x296195=_0x1bf061['map'](_0x5cdfc4=>Gt(_0x5cdfc4,this['_model'])),_0x1ed884=_0x1b5077['is']('range')?_0x535372:_0x535372['map'](_0x2007ea=>Gt(_0x2007ea,this['_model']));if('never'===this['_trackFormatChanges']){const _0x186841=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x2faf11,'accept');return this['forceDefaultExecution'](()=>_0x186841(_0x1ed884,_0x1cfe12,_0xfa3220)),null;}_0x296195['push'](..._0x1ed884);let _0x35f47a=!0x0;for(const _0x3cb33b of _0x296195)if(!this['_rangeIsInLocalUserInsertion'](_0x3cb33b)){_0x35f47a=!0x1;break;}if(_0x35f47a&&'always'!==this['_trackFormatChanges']){const _0x554b4d=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x2faf11,'accept');return this['forceDefaultExecution'](()=>_0x554b4d(_0x1ed884,_0x1cfe12,_0xfa3220)),null;}const _0x481cd3=this['editor']['plugins']['get']('Users')['me'];for(const _0x4bcdb7 of this['getSuggestions']()){if(_0x4bcdb7['author']['id']!=_0x481cd3['id'])continue;if('formatBlock'!=_0x4bcdb7['type']||_0x4bcdb7['data']['formatGroupId']!=_0x1cfe12['formatGroupId'])continue;if(!Lt(_0x4bcdb7,_0xfa3220))continue;const _0x2a9d17=_0x4bcdb7['subType']==_0x2faf11;for(let _0x4991dd=0x0;_0x4991dd<_0x1ed884['length'];_0x4991dd++){const _0xf8e126=_0x1ed884[_0x4991dd];for(const _0x57281d of _0x4bcdb7['getMarkers']()){const _0xec6459=_0x57281d['getRange']();if(_0xf8e126['isEqual'](_0xec6459)){_0x2a9d17?(_0x1ed884['splice'](_0x4991dd,0x1),_0x4991dd--):_0x4bcdb7['removeMarker'](_0x57281d['name']);break;}}}}if(0x0==_0x1ed884['length'])return null;const _0x503dc5=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x2faf11,'join');for(const _0x51b31a of this['getSuggestions']())if(_0x51b31a['author']['id']==_0x481cd3['id']&&'formatBlock'==_0x51b31a['type']&&_0x51b31a['data']['formatGroupId']==_0x1cfe12['formatGroupId']&&_0x51b31a['subType']==_0x2faf11&&Lt(_0x51b31a,_0xfa3220)&&(_0x503dc5(_0x51b31a['getRanges'](),_0x1ed884)||_0x503dc5(_0x1ed884,_0x51b31a['getRanges']()))){for(const _0xfabe75 of _0x1ed884)_0x51b31a['addRange'](_0xfabe75);return _0x51b31a;}const _0x24428b=_0x2551b9(),_0x4a6c15=_0x481cd3['id'],_0x10401b='formatBlock:'+_0x2faf11,_0x1e31b7=this['_setSuggestionData']({'id':_0x24428b,'type':_0x10401b,'data':_0x1cfe12,'createdAt':new Date(),'authorId':_0x4a6c15,'attributes':_0xfa3220});for(const _0x4aad7c of _0x1ed884)this['_addSuggestionMarker'](_0x10401b,_0x24428b,_0x4a6c15,_0x4aad7c,u['getMultiRangeId']());return _0x1e31b7;}['markDeletion'](_0xfc9a22,_0x454f25=null,_0x27fbcd={}){if(_0xfc9a22['isCollapsed'])return null;const _0xdd8a81=this['editor']['plugins']['get']('Users')['me'],_0x439393=new _0xe858d8(_0xfc9a22['start'],_0xfc9a22['end']);for(const {suggestion:_0xdd8275,meta:_0x3e7d8c}of this['_findSuggestions'](_0x439393,'insertion'))if(_0x3e7d8c['isOwn']&&!_0x3e7d8c['isNextTo']){if(_0xdd8275['isMultiRange']){const _0x4ccfa2=_0xdd8275['getRanges']()['filter'](_0x6d21a1=>'$graveyard'!=_0x6d21a1['root']['rootName']);_0x4ccfa2['every'](_0x424b81=>_0x439393['containsRange'](_0x424b81,!0x0))&&_0xdd8275['discard']();if(_0x4ccfa2['some'](_0x8bf608=>_0x8bf608['containsRange'](_0x439393,!0x0))){const _0x4cfce1=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x454f25,'accept');return this['forceDefaultExecution'](()=>_0x4cfce1([_0x439393],null,_0x27fbcd)),null;}}else{const _0x2a1821=_0x439393['getIntersection'](_0xdd8275['getFirstRange']());null!==_0x2a1821&&_0xdd8275['_onDiscard']([_0x2a1821],null,_0x27fbcd);}}if(_0x439393['detach'](),_0x439393['isCollapsed']||'$graveyard'==_0x439393['root']['rootName'])return null;let _0x4224b4=null,_0x576583=_0x439393['start'],_0x2d424f=_0x439393['end'];const _0x4d52cf=this['_findSuggestions'](_0x439393,'deletion');for(const {suggestion:_0x5ecbba,meta:_0x4662e6}of _0x4d52cf){const _0x594903=this['_model']['createRange'](_0x576583,_0x2d424f);if(_0x4662e6['isOwn']&&(this['_mergeNestedSuggestions']||!_0x4662e6['containsRangeInObject']&&!_0x4662e6['isInsideObject'])){if(_0x5ecbba['isMultiRange']){if(!Lt(_0x5ecbba,_0x27fbcd))continue;let _0x3747a0=!0x0;for(const _0x3c072e of _0x5ecbba['getRanges']()){if(_0x3c072e['containsRange'](_0x594903,!0x0))return _0x5ecbba;_0x594903['containsRange'](_0x3c072e)||(_0x3747a0=!0x1);}_0x3747a0&&_0x5ecbba['discard']();}else{const _0x580d13=_0x5ecbba['getFirstRange']();if(_0x580d13['containsRange'](_0x594903,!0x0))return _0x5ecbba;if(!Lt(_0x5ecbba,_0x27fbcd)){_0x594903['containsRange'](_0x580d13)?_0x5ecbba['removeMarkers']():_0x580d13['containsPosition'](_0x576583)?_0x576583=_0x580d13['end']:_0x580d13['containsPosition'](_0x2d424f)&&(_0x2d424f=_0x580d13['start']);continue;}_0x576583=_0x576583['isBefore'](_0x580d13['start'])?_0x576583:_0x580d13['start'],_0x2d424f=_0x2d424f['isAfter'](_0x580d13['end'])?_0x2d424f:_0x580d13['end'],_0x27fbcd=Object['assign']({},_0x5ecbba['attributes']),_0x4224b4?_0x580d13['start']['isBefore'](_0x4224b4['getFirstRange']()['start'])?(_0x4224b4['removeMarkers'](),_0x4224b4=_0x5ecbba):_0x5ecbba['removeMarkers']():_0x4224b4=_0x5ecbba;}}}if(_0x4224b4)return this['_setSuggestionRange'](_0x4224b4,this['_model']['createRange'](_0x576583,_0x2d424f)),_0x4224b4;{const _0x401488=_0x2551b9(),_0x1744a7=this['_model']['createRange'](_0x576583,_0x2d424f),_0x50693b=_0xdd8a81['id'],_0x1775f9=_0x454f25?'deletion:'+_0x454f25:'deletion',_0x53591e=this['_setSuggestionData']({'id':_0x401488,'type':_0x1775f9,'createdAt':new Date(),'authorId':_0x50693b,'attributes':_0x27fbcd});return this['_addSuggestionMarker'](_0x1775f9,_0x401488,_0x50693b,_0x1744a7),_0x53591e;}}['markMultiRangeDeletion'](_0x21109b,_0xa4373e='multi',_0x434ad4={}){const _0xcf24f3=this['editor']['plugins']['get']('Users')['me'],_0xede956=_0x21109b['map'](_0x5bf91b=>new _0xe858d8(_0x5bf91b['start'],_0x5bf91b['end'])),_0x9f4461=new Set();for(const {suggestion:_0x236623,meta:_0x5e4f22}of this['_findSuggestions'](_0xede956,'insertion'))_0x5e4f22['isOwn']&&!_0x5e4f22['isNextTo']&&_0x9f4461['add'](_0x236623);for(const _0x2e888e of _0x9f4461)if(_0x2e888e['isMultiRange']){const _0x27da9b=_0x2e888e['getRanges']();(!_0x2e888e['attributes']||!_0x2e888e['attributes']['skipNestingCheck'])&&(_0x27da9b['every'](_0x107f72=>_0xede956['some'](_0x5e54d5=>_0x5e54d5['containsRange'](_0x107f72,!0x0)))&&_0x2e888e['discard']());if(_0xede956['every'](_0x983fa7=>_0x27da9b['some'](_0x186443=>_0x186443['containsRange'](_0x983fa7,!0x0)))){const _0x43dfa8=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0xa4373e,'accept');return this['forceDefaultExecution'](()=>_0x43dfa8(_0x21109b,null,_0x434ad4)),null;}}else{const _0x23c500=_0x2e888e['getFirstRange']();_0xede956['some'](_0xe01578=>_0xe01578['containsRange'](_0x23c500,!0x0))&&_0x2e888e['discard']();if(_0xede956['every'](_0xa6cc95=>_0x23c500['containsRange'](_0xa6cc95,!0x0))){const _0x3db312=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0xa4373e,'accept');return this['forceDefaultExecution'](()=>_0x3db312(_0xede956,null,_0x434ad4)),null;}}const _0xa5d00d=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0xa4373e,'join');let _0x1e2182=null;for(const _0x485563 of this['getSuggestions']())if(_0x485563['author']['id']==_0xcf24f3['id']&&_0x485563['isInContent']&&'deletion'==_0x485563['type']&&_0x485563['subType']==_0xa4373e&&Lt(_0x485563,_0x434ad4)&&(_0xa5d00d(_0x485563['getRanges'](),_0xede956)||_0xa5d00d(_0xede956,_0x485563['getRanges']()))){if(_0x1e2182){if(_0x485563['commentThread']&&_0x485563['commentThread']['length'])continue;for(const _0x36814f of _0x485563['getRanges']())_0x1e2182['isIntersectingWithRange'](_0x36814f)||_0x1e2182['addRange'](_0x36814f);_0x485563['removeMarkers']();}else{_0x1e2182=_0x485563;for(const _0xfcfb4 of _0xede956)_0x485563['isIntersectingWithRange'](_0xfcfb4)||_0x485563['addRange'](_0xfcfb4);}}if(_0x1e2182)return _0x1e2182;_0x9f4461['clear']();for(const {suggestion:_0x11ff53,meta:_0x3d0c12}of this['_findSuggestions'](_0xede956,'deletion'))_0x3d0c12['isOwn']&&(this['_mergeNestedSuggestions']||!_0x3d0c12['containsRangeInObject']&&!_0x3d0c12['isInsideObject'])&&Lt(_0x11ff53,_0x434ad4)&&_0x9f4461['add'](_0x11ff53);for(const _0x54c1f7 of _0x9f4461){const _0x95314e=_0x54c1f7['getRanges']();if(!_0x434ad4||!_0x434ad4['skipNestingCheck']){if(_0xede956['every'](_0x695ade=>_0x95314e['some'](_0x36d7f3=>_0x36d7f3['containsRange'](_0x695ade,!0x0))))return _0x54c1f7;}(!_0x54c1f7['attributes']||!_0x54c1f7['attributes']['skipNestingCheck'])&&(_0x95314e['every'](_0x31f600=>_0xede956['some'](_0x4a1be7=>_0x4a1be7['containsRange'](_0x31f600,!0x0)))&&_0x54c1f7['discard']());}const _0x67f17b=_0x2551b9(),_0x21d2f1=_0xcf24f3['id'],_0x236804='deletion:'+_0xa4373e,_0x3d597c=this['_setSuggestionData']({'id':_0x67f17b,'type':_0x236804,'createdAt':new Date(),'authorId':_0x21d2f1,'attributes':_0x434ad4});for(const _0x4e4136 of _0xede956)_0x4e4136['detach'](),_0x4e4136['isCollapsed']||'$graveyard'==_0x4e4136['root']['rootName']||this['_addSuggestionMarker'](_0x236804,_0x67f17b,_0x21d2f1,_0x4e4136,u['getMultiRangeId']());return _0x3d597c;}['markAttributeChange'](_0x4077ee,_0x3873a6,_0xeccc31,_0x10927d,_0x1548a6){if(_0x4077ee['isCollapsed'])return[];if('never'===this['_trackFormatChanges'])return[];const _0x689a17=this['editor']['plugins']['get']('Users')['me']['id'],_0x2c483d=Array['from'](this['_suggestions']['values']())['filter'](_0x238cd3=>'attribute'==_0x238cd3['type']&&_0x238cd3['data']['key']==_0x3873a6&&_0x238cd3['isIntersectingWithRange'](_0x4077ee));if('default'===this['_trackFormatChanges']){const _0xfed9d7=this['_findSuggestions'](_0x4077ee,'insertion')['filter'](({meta:_0x17a331})=>_0x17a331['isOwn']&&!_0x17a331['isInsideObject']&&!_0x17a331['isNextTo'])['map'](({suggestion:_0x4d4d8e})=>_0x4d4d8e);_0x2c483d['unshift'](..._0xfed9d7);}const _0x5a3c66=new Map([[_0x4077ee,_0xeccc31]]);for(const _0x4c33e1 of _0x2c483d){const _0x107039='attribute'==_0x4c33e1['type']?_0x4c33e1['data']['oldValue']:void 0x0,_0x19eeea=_0x4c33e1['getFirstRange'](),_0x51833d=Array['from'](_0x5a3c66['keys']())['find'](_0x4bb7bc=>_0x4bb7bc['isIntersecting'](_0x19eeea));if(!_0x51833d)continue;const _0x165145=_0x51833d['getDifference'](_0x19eeea);this['_isBlockAttribute'](_0x3873a6)&&'insertion'==_0x4c33e1['type']&&0x0!=_0x165145['length']||(_0x5a3c66['delete'](_0x51833d),_0x165145['forEach'](_0x1a618a=>{_0x5a3c66['set'](_0x1a618a,_0xeccc31);}),'insertion'!=_0x4c33e1['type']&&_0x107039!=_0x10927d&&_0x5a3c66['set'](_0x51833d['getIntersection'](_0x19eeea),_0x107039));}const _0x40e0b6=[];for(const [_0x5457d7,_0x4267e4]of _0x5a3c66){const _0xea4299=_0x2551b9(),_0x1d9c02={'key':_0x3873a6,'oldValue':_0x4267e4,'newValue':_0x10927d};_0x3873a6['length']>0x25&&console['warn']('Creating\x20a\x20suggestion\x20for\x20attribute\x20with\x20too\x20long\x20attribute\x20key.\x20This\x20may\x20lead\x20to\x20errors.\x20Change\x20the\x20attribute\x20key\x20to\x20a\x20value\x20shorter\x20than\x2037\x20characters.',{'key':_0x3873a6});const _0x2afab2=('attribute:'+(_0x3873a6+'|'+Vt({'newValue':_0x10927d})))['substring'](0x0,0x3c),_0x427ec4=this['_setSuggestionData']({'id':_0xea4299,'type':_0x2afab2,'data':_0x1d9c02,'createdAt':new Date(),'authorId':_0x689a17,'attributes':_0x1548a6});_0x40e0b6['push'](_0x427ec4),this['_addSuggestionMarker'](_0x2afab2,_0xea4299,_0x689a17,_0x5457d7);}return _0x40e0b6;}['enableDefaultAttributesIntegration'](_0x366eb4){this['enableCommand'](_0x366eb4,(_0x4d110f,..._0x12fed0)=>{this['_recordAttributeChanges'](()=>{_0x4d110f(..._0x12fed0);});});}['registerBlockAttribute'](_0x163078){this['_blockAttributeKeys']['add'](_0x163078);}['registerInlineAttribute'](_0x500f63){this['_inlineAttributeKeys']['add'](_0x500f63);}['_getAttributeKey'](_0x351644){return'attribute'==_0x351644['type']?_0x351644['subType']['split']('|')[0x0]:null;}['_setSuggestionRange'](_0x5ab8ce,_0x507043){const _0x8f1188=_0x5ab8ce['getFirstMarker']();this['_model']['change'](_0x5899aa=>{_0x5899aa['updateMarker'](_0x8f1188,{'range':_0x507043});});}['_addThreadToSuggestion'](_0x417a69){const _0x44e1b7=_0x417a69['id'],_0xae0d3b=this['editor']['config']['get']('collaboration.channelId');this['_commentsRepository']['hasCommentThread'](_0x44e1b7)||this['_commentsRepository']['addCommentThread']({'channelId':_0xae0d3b,'threadId':_0x44e1b7,'isResolvable':!0x1,'isSubmitted':!0x0});const _0x385a47=this['_commentsRepository']['getCommentThread'](_0x44e1b7);_0x385a47['unbind']('isRemovable'),_0x385a47['isRemovable']=!0x1,_0x417a69['commentThread']=_0x385a47;}['_checkSuggestionCorrectness'](_0x12b745,_0x4d5324,_0x428367,_0x2b3422){if(_0x12b745['type']!=_0x4d5324||_0x12b745['subType']!=_0x428367||_0x12b745['creator']['id']!=_0x2b3422)throw this['editor']['enableReadOnlyMode']('track-changes-suggestion-data-mismatch'),new _0x5e0f73('track-changes-suggestion-data-mismatch',this);}['_cutOutSuggestionMarker'](_0x2fe47d,_0x434cc6){const _0x2c746b=_0x2fe47d['getFirstRange']();if(_0x434cc6['isEqual'](_0x2c746b))_0x2fe47d['removeMarkers']();else{if(_0x2c746b['containsRange'](_0x434cc6)){const _0x2cbae8=this['_model']['createPositionAt'](_0x434cc6['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x2fe47d,this['_model']['createRange'](_0x2c746b['start'],_0x2cbae8));const _0x1b0e9e=_0x2551b9(),_0x1abe9d=_0x2fe47d['creator']['id'],_0x437c5c=_0x2fe47d['type']+':'+_0x2fe47d['subType'];this['_setSuggestionData']({'id':_0x1b0e9e,'type':_0x437c5c,'createdAt':new Date(),'authorId':_0x1abe9d,'data':_0x2fe47d['data'],'attributes':_0x2fe47d['attributes']});const _0x14c56e=this['_model']['createPositionAt'](_0x434cc6['end']['parent'],'after'),_0x12bcdb=this['_model']['createRange'](_0x14c56e,_0x2c746b['end']);this['_addSuggestionMarker'](_0x437c5c,_0x1b0e9e,_0x1abe9d,_0x12bcdb);}else{if(_0x2c746b['containsPosition'](_0x434cc6['start'])){const _0x3c20c2=this['_model']['createPositionAt'](_0x434cc6['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x2fe47d,this['_model']['createRange'](_0x2c746b['start'],_0x3c20c2));}else{const _0x6324c1=this['_model']['createPositionAt'](_0x434cc6['end']['parent'],'after');this['_setSuggestionRange'](_0x2fe47d,this['_model']['createRange'](_0x6324c1,_0x2c746b['end']));}}}}['_rangeIsInLocalUserInsertion'](_0x163df2){for(const {suggestion:_0x3135b2,meta:_0x5c11a2}of this['_findSuggestions'](_0x163df2,'insertion')){if(!_0x5c11a2['isOwn'])continue;const _0x180502=_0x3135b2['getRanges']();for(const _0x1409d2 of _0x180502)if(!_0x163df2['getDifference'](_0x1409d2)['length'])return!0x0;}return!0x1;}['_getAuthorFromId'](_0x3510ae){const _0x3b71f6=this['editor']['plugins']['get']('Users')['getUser'](_0x3510ae);if(!_0x3b71f6)throw new _0x5e0f73('track-changes-user-not-found',this);return _0x3b71f6;}['_getExternalAuthor'](_0x390b4c){const _0x1633fc=this['editor']['plugins']['get']('Users'),_0x3b6faa=_0x4d2a38('external:'+_0x390b4c),_0x6ca926=_0x1633fc['getUser'](_0x3b6faa);return _0x6ca926||_0x1633fc['addUser']({'id':_0x3b6faa,'name':_0x390b4c});}['_createSuggestion'](_0x468661,_0x5c4ef3,_0x557aeb,_0x1eaeb0,_0x289fab){const _0x4b3c95=this['_getAuthorFromId'](_0x1eaeb0),_0x4685e3=this['_suggestionFactory']['buildSuggestion'](_0x468661,_0x5c4ef3,_0x557aeb,_0x4b3c95,_0x289fab,_0x14c3ec=>{this['_updateSuggestionData'](_0x557aeb,{'attributes':_0x14c3ec});const _0x12e4d2=this['getSuggestion'](_0x557aeb);this['_joinWithAdjacentSuggestions'](new Set([_0x12e4d2])),this['_refreshSuggestionsChain'](new Set([_0x12e4d2]));});return this['listenTo'](_0x4685e3,'accept',()=>{this['_updateSuggestionData'](_0x557aeb,{'state':'accepted'});},{'priority':'high'}),this['listenTo'](_0x4685e3,'discard',()=>{this['_updateSuggestionData'](_0x557aeb,{'state':'rejected'});},{'priority':'high'}),this['_suggestions']['set'](_0x557aeb,_0x4685e3),this['_suggestionState']['set'](_0x4685e3,'notReady'),_0x4685e3;}['_splitMarkerName'](_0x1497e2){const _0x1e6c67=_0x1497e2['split'](':');return{'group':_0x1e6c67[0x0],'type':_0x1e6c67[0x1],'subType':_0x1e6c67['length']>=0x5?_0x1e6c67[0x2]:null,'id':_0x1e6c67['length']<0x5?_0x1e6c67[0x2]:_0x1e6c67[0x3],'authorId':_0x1e6c67['length']<0x5?_0x1e6c67[0x3]:_0x1e6c67[0x4],'markerCount':0x6==_0x1e6c67['length']?_0x1e6c67[0x5]:null};}['_breakSuggestionMarker'](_0x1b7002,_0x16b152,_0x2159fa){const _0x47315e=_0x1b7002['getFirstRange'](),_0x1a4d0b=_0x47315e['start'],_0x2f9b9c=_0x47315e['end'];this['_setSuggestionRange'](_0x1b7002,this['_model']['createRange'](_0x1a4d0b,_0x16b152));const _0x59d8b3=_0x2551b9(),_0x4434a8=_0x1b7002['creator']['id'],_0x5146e8=_0x1b7002['type']+(_0x1b7002['subType']?':'+_0x1b7002['subType']:'');this['_setSuggestionData']({'id':_0x59d8b3,'type':_0x5146e8,'createdAt':new Date(),'authorId':_0x4434a8,'originalSuggestionId':_0x1b7002['id'],'attributes':_0x1b7002['attributes'],'data':_0x1b7002['data']});const _0x5c44fc=this['_getAttributeKey'](_0x1b7002);('formatBlock'==_0x1b7002['type']||_0x5c44fc&&this['_isBlockAttribute'](_0x5c44fc))&&(_0x2159fa=this['_model']['createPositionBefore'](_0x2159fa['parent'])),this['_addSuggestionMarker'](_0x5146e8,_0x59d8b3,_0x4434a8,this['_model']['createRange'](_0x2159fa,_0x2f9b9c));}['_findSuggestions'](_0x4ba52d,_0x271f22=null){const _0x4e7244=[],_0x280a2e=this['editor']['plugins']['get']('Users')['me'];Array['isArray'](_0x4ba52d)||(_0x4ba52d=[_0x4ba52d]);for(const _0x38c00a of this['getSuggestions']()){if(!_0x38c00a['isInContent'])continue;if(_0x271f22&&_0x38c00a['type']!=_0x271f22)continue;let _0x50d94a=!0x1;for(const _0x141e57 of _0x38c00a['getRanges']()){for(const _0x398e3c of _0x4ba52d){const _0x120830=_0x398e3c['start']['isEqual'](_0x141e57['end'])||_0x398e3c['end']['isEqual'](_0x141e57['start']);if(_0x120830||_0x398e3c['getIntersection'](_0x141e57)){const _0x59c055=_0x398e3c['containsRange'](_0x141e57)&&Rt(this['_model']['schema'],_0x141e57['start'],_0x398e3c),_0x3b3870=_0x141e57['containsRange'](_0x398e3c)&&Rt(this['_model']['schema'],_0x398e3c['start'],_0x141e57);_0x4e7244['push']({'suggestion':_0x38c00a,'meta':{'isOwn':_0x280a2e==_0x38c00a['author'],'isNextTo':_0x120830,'isInsideObject':_0x59c055,'containsRangeInObject':_0x3b3870}}),_0x50d94a=!0x0;break;}}if(_0x50d94a)break;}}return _0x4e7244;}['_addSuggestionMarker'](_0x516b2f,_0x2d2402,_0x43c68f,_0x220396,_0x292c5b){this['_model']['change'](_0x16e14b=>{let _0x1d932c='suggestion:'+_0x516b2f+':'+_0x2d2402+':'+_0x43c68f;_0x292c5b&&(_0x1d932c=_0x1d932c+':'+_0x292c5b),_0x16e14b['addMarker'](_0x1d932c,{'range':_0x220396,'usingOperation':!0x0,'affectsData':!0x0});});}['_removeSuggestion'](_0x37265a){const _0x17f9ef=_0x37265a['previous'],_0x1662c1=_0x37265a['next'];_0x37265a['previous']=null,_0x37265a['next']=null,null!=_0x17f9ef&&_0x17f9ef['next']==_0x37265a&&(_0x17f9ef['next']=_0x1662c1),null!=_0x1662c1&&_0x1662c1['previous']==_0x37265a&&(_0x1662c1['previous']=_0x17f9ef),'ready'==this['_suggestionState']['get'](_0x37265a)&&(this['_suggestionState']['set'](_0x37265a,'removed'),this['fire']('suggestionUnloaded',_0x37265a,_0x17f9ef,_0x1662c1));}['_setSuggestionData'](_0x5cac59){const _0x1e1720=_0x5cac59['id'],_0x1d85de=this['addSuggestionData'](_0x5cac59);if(this['_adapter']&&this['_adapter']['addSuggestion']){const _0x5b6584=this['editor']['plugins']['get']('PendingActions'),_0x211b11=_0x1d85de['hasComments'],_0x2b73b7=_0x1d85de['subType']?_0x1d85de['type']+':'+_0x1d85de['subType']:_0x1d85de['type'],_0x582eee=this['editor']['locale'],_0x3ef7ab=_0x5b6584['add'](o(_0x582eee,'PENDING_ACTION_SUGGESTION')),_0x9be76c={'id':_0x1e1720,'type':_0x2b73b7,'hasComments':_0x211b11,'data':_0x5cac59['data']||null,'originalSuggestionId':_0x5cac59['originalSuggestionId']||null,'attributes':_0x1d85de['attributes']};this['_adapter']['addSuggestion'](_0x9be76c)['then'](_0x3b200d=>{_0x1d85de['_saved']=!0x0,_0x5b6584['remove'](_0x3ef7ab),_0x3b200d&&_0x3b200d['createdAt']&&(this['_suggestions']['get'](_0x1e1720)['createdAt']=_0x3b200d['createdAt']);})['catch'](_0x4e7268=>{throw _0x34a2c4('error-saving-suggestion-data-suggestion-discarded'),this['editor']['model']['enqueueChange']({'isUndoable':!0x1},()=>{_0x1d85de['discard']();}),_0x1d85de['stopListening'](),this['_suggestions']['delete'](_0x1d85de['id']),this['_suggestionState']['delete'](_0x1d85de),_0x4e7268;});}return _0x1d85de;}['_isBlockAttribute'](_0x56536f){return this['_blockAttributeKeys']['has'](_0x56536f);}['_updateSuggestionData'](_0xad7aaa,_0x2c75e4){const _0x2fa094=this['editor']['plugins']['get']('PendingActions'),_0x1e0cca=this['getSuggestion'](_0xad7aaa);if(this['_adapter']&&this['_adapter']['updateSuggestion']){if(_0x1e0cca['_saved']){const _0x26b315=_0x2fa094['add'](o(this['editor']['locale'],'PENDING_ACTION_SUGGESTION'));this['_adapter']['updateSuggestion'](_0xad7aaa,_0x2c75e4)['then'](()=>{_0x2fa094['remove'](_0x26b315);});}else _0x1e0cca['on']('change:_saved',()=>{this['_updateSuggestionData'](_0xad7aaa,_0x2c75e4);});}}['_getSuggestionData'](_0x395f90){if(!this['_adapter']||!this['_adapter']['getSuggestion'])throw new _0x5e0f73('track-changes-adapter-missing-getsuggestion',this);return this['_adapter']['getSuggestion'](_0x395f90);}['_handleNewSuggestionMarker'](_0xf769ce){const {id:_0x243eb2,type:_0x4e2383,subType:_0x4c9d7b,authorId:_0x5a85cd}=this['_splitMarkerName'](_0xf769ce),_0x4cb881=this['_suggestions']['get'](_0x243eb2)||this['_createSuggestion'](_0x4e2383,_0x4c9d7b,_0x243eb2,_0x5a85cd,{});switch(this['_checkSuggestionCorrectness'](_0x4cb881,_0x4e2383,_0x4c9d7b,_0x5a85cd),this['_suggestionState']['get'](_0x4cb881)){case'notReady':this['_getSuggestionData'](_0x243eb2)['then'](_0x1a8d85=>{let _0x5d02e6=Promise['resolve']();_0x1a8d85['hasComments']&&(_0x5d02e6=this['_commentsRepository']['fetchCommentThread']({'channelId':this['editor']['config']['get']('collaboration.channelId'),'threadId':_0x243eb2})),_0x5d02e6['then'](()=>{this['addSuggestionData'](_0x1a8d85)['_saved']=!0x0;});}),this['_suggestionState']['set'](_0x4cb881,'markerReady');break;case'removed':this['_updateSuggestionData'](_0x243eb2,{'state':'open'});case'dataReady':this['_suggestionState']['set'](_0x4cb881,'ready'),this['fire']('suggestionLoaded',_0x4cb881);break;case'ready':this['fire']('suggestionChanged',_0x4cb881);}return _0x4cb881['addMarkerName'](_0xf769ce),_0x4cb881;}['_refreshSuggestionsChain'](_0x3ed256){const _0x5c9488=Array['from'](_0x3ed256),_0x4f5e10=_0x5c9488['filter'](_0x580c1c=>'attribute'==_0x580c1c['type']);this['_refreshAttributeSuggestionsChain'](_0x4f5e10);const _0x1f8a3c=_0x5c9488['filter'](_0x5b06b9=>!_0x5b06b9['isMultiRange']&&'attribute'!=_0x5b06b9['type']),_0x334e60=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x305d42=>!_0x305d42['isMultiRange']&&'attribute'!=_0x305d42['type']),_0xdd6a0f=_0x334e60['filter'](_0x332c79=>!_0x3ed256['has'](_0x332c79)),_0x452aa6=new Map(_0x334e60['map'](_0x588cd2=>[_0x588cd2,this['_suggestionFactory']['getSuggestionCallback'](_0x588cd2['type'],_0x588cd2['subType'],'chain')])),_0x395998=new Map(_0x334e60['map'](_0x2f29a0=>[_0x2f29a0,_0x2f29a0['getFirstRange']()])),_0x461aff=new Set(),_0x1b60da=new Set();for(let _0xe59b1e=0x0;_0xe59b1e<_0x1f8a3c['length'];_0xe59b1e++)_0xac7fad(_0x1f8a3c[_0xe59b1e],_0x1f8a3c,_0xe59b1e+0x1);for(let _0x2fc0bc=0x0;_0x2fc0bc<_0x1f8a3c['length'];_0x2fc0bc++)_0xac7fad(_0x1f8a3c[_0x2fc0bc],_0xdd6a0f,0x0);const _0x15c408=new Set();for(let _0x389c1b=0x0;_0x389c1b<_0x1f8a3c['length'];_0x389c1b++){const _0x1914de=_0x1f8a3c[_0x389c1b];!_0x1b60da['has'](_0x1914de)&&_0x1914de['previous']&&(_0x15c408['add'](_0x1914de['previous']),_0x1914de['previous']['next']===_0x1914de&&(_0x1914de['previous']['next']=null),_0x1914de['previous']=null),!_0x461aff['has'](_0x1914de)&&_0x1914de['next']&&(_0x15c408['add'](_0x1914de['next']),_0x1914de['next']['previous']===_0x1914de&&(_0x1914de['next']['previous']=null),_0x1914de['next']=null);}function _0xac7fad(_0xd25743,_0x33df27,_0x5b2125){for(let _0x1e325d=_0x5b2125;_0x1e325d<_0x33df27['length'];_0x1e325d++){const _0x3e888b=_0x2263ae(_0xd25743,_0x33df27[_0x1e325d]);_0x3e888b&&(_0x3e888b[0x0]['next']=_0x3e888b[0x1],_0x3e888b[0x1]['previous']=_0x3e888b[0x0],_0x461aff['add'](_0x3e888b[0x0]),_0x1b60da['add'](_0x3e888b[0x1]));}}function _0x2263ae(_0x5263b0,_0x1a766b){if(_0x5263b0['author']['id']!==_0x1a766b['author']['id'])return null;const _0x37a96e=_0x452aa6['get'](_0x5263b0)(_0x5263b0,_0x1a766b,_0x395998['get'](_0x5263b0),_0x395998['get'](_0x1a766b));if(!_0x37a96e)return null;return _0x452aa6['get'](_0x1a766b)(_0x5263b0,_0x1a766b,_0x395998['get'](_0x5263b0),_0x395998['get'](_0x1a766b))?_0x37a96e[0x1]['commentThread']&&_0x37a96e[0x1]['commentThread']['length']?null:_0x37a96e:null;}_0x15c408['size']&&this['_refreshSuggestionsChain'](_0x15c408);}['_refreshAttributeSuggestionsChain'](_0x367703){if(0x0==_0x367703['length'])return;const _0xd524e9=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x398fc0=>'attribute'==_0x398fc0['type']&&_0x398fc0['_isDataLoaded']),_0x4c6d03=[],_0x3fcb13=new Map();for(const _0x172501 of _0xd524e9){const _0x1aadc1=_0x4d2a38(_0x172501['attributes']);_0x3fcb13['has'](_0x1aadc1)||(_0x3fcb13['set'](_0x1aadc1,_0x4c6d03['length']),_0x4c6d03['push']([]));const _0x459958=_0x3fcb13['get'](_0x1aadc1);_0x4c6d03[_0x459958]['push'](_0x172501);}!(function(){_0x4c6d03['sort']((_0xe31ee0,_0x33adcb)=>{const _0x5a9dd1=_0xe31ee0[0x0]['createdAt'],_0xe9140a=_0x33adcb[0x0]['createdAt'];return _0x5a9dd1==_0xe9140a?_0xe31ee0[0x0]['attributes']['groupId']<_0x33adcb[0x0]['attributes']['groupId']?-0x1:0x1:_0x5a9dd1<_0xe9140a?-0x1:0x1;});for(const _0x9accb2 of _0x4c6d03)_0x9accb2['sort']((_0x4b0a33,_0xfe59c7)=>_0x4b0a33['id']<_0xfe59c7['id']?-0x1:0x1);}());for(let _0x20ae9a=0x0;_0x20ae9a<_0x4c6d03['length'];_0x20ae9a++){if(0x0==_0x4c6d03[_0x20ae9a]['length'])continue;const _0x363d2b=[];for(let _0x58f46e=_0x20ae9a+0x1;_0x58f46e<_0x4c6d03['length'];_0x58f46e++)0x0!=_0x4c6d03[_0x58f46e]['length']&&_0x31319b(_0x4c6d03[_0x20ae9a],_0x4c6d03[_0x58f46e])&&_0x363d2b['push'](_0x58f46e);for(const _0x3438f6 of _0x363d2b)_0x4c6d03[_0x20ae9a]=_0x4c6d03[_0x20ae9a]['concat'](_0x4c6d03[_0x3438f6]),_0x4c6d03[_0x3438f6]=[];}for(const _0x1e57c0 of _0x4c6d03)for(let _0x1ee5e4=0x0;_0x1ee5e4<_0x1e57c0['length'];_0x1ee5e4++)_0x1e57c0[_0x1ee5e4]['next']=_0x1e57c0[_0x1ee5e4+0x1]||null;for(const _0x8f743 of _0x4c6d03)for(let _0x366cd1=0x0;_0x366cd1<_0x8f743['length'];_0x366cd1++)_0x8f743[_0x366cd1]['previous']=_0x8f743[_0x366cd1-0x1]||null;function _0x31319b(_0x11a201,_0x3fdfc6){if(_0x11a201[0x0]['attributes']['groupId']!==_0x3fdfc6[0x0]['attributes']['groupId']&&_0x11a201[0x0]['author']!==_0x3fdfc6[0x0]['author'])return!0x1;if(!function(_0x4d05b9,_0x1989d2){if(!_0x4d05b9['hasComments']&&!_0x1989d2['hasComments'])return!0x0;if(_0x4d05b9['hasComments']&&_0x1989d2['hasComments'])return!0x1;if(_0x4d05b9['hasComments']&&_0x1989d2['createdAt']<_0x4d05b9['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;if(_0x1989d2['hasComments']&&_0x4d05b9['createdAt']<_0x1989d2['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;return!0x1;}(_0x11a201[0x0],_0x3fdfc6[0x0]))return!0x1;const _0x5890fe=Bt(_0x11a201[0x0]['attributes'],'groupId'),_0x1261e3=Bt(_0x3fdfc6[0x0]['attributes'],'groupId');if(!_0x111cd5(_0x5890fe,_0x1261e3))return!0x1;return!!_0x11a201['every'](_0x2cbc08=>_0x3fdfc6['some'](_0x5df835=>_0x2cbc08['getFirstRange']()['isEqual'](_0x5df835['getFirstRange']())))&&_0x3fdfc6['every'](_0x39f6e5=>_0x11a201['some'](_0x4b2d87=>_0x39f6e5['getFirstRange']()['isEqual'](_0x4b2d87['getFirstRange']())));}}['_joinWithAdjacentSuggestions'](_0x9a9084){const _0x462b20=Array['from'](_0x9a9084),_0x4b4ccc=this['getSuggestions']({'skipNotAttached':!0x0}),_0x52977f=_0x4b4ccc['filter'](_0x5ce751=>!_0x9a9084['has'](_0x5ce751)),_0x4ddf38=new Map(_0x462b20['map'](_0x34d704=>[_0x34d704,this['_suggestionFactory']['getSuggestionCallback'](_0x34d704['type'],_0x34d704['subType'],'join')])),_0x1ca812=new Map(_0x4b4ccc['map'](_0x17680d=>[_0x17680d,_0x17680d['getRanges']()]));for(let _0x364e0c=0x0;_0x364e0c<_0x462b20['length'];_0x364e0c++){if(_0x1b8e28(this,_0x462b20[_0x364e0c],_0x462b20,_0x364e0c+0x1))return!0x0;}for(let _0x416bac=0x0;_0x416bac<_0x462b20['length'];_0x416bac++){if(_0x1b8e28(this,_0x462b20[_0x416bac],_0x52977f,0x0))return!0x0;}return!0x1;function _0x1b8e28(_0x1a1a7f,_0x58a973,_0xb47824,_0x1663b6){for(let _0x40974b=_0x1663b6;_0x40974b<_0xb47824['length'];_0x40974b++){const _0x708787=_0xb47824[_0x40974b];if(_0x708787['type']!==_0x58a973['type']||_0x708787['author']['id']!==_0x58a973['author']['id']||_0x708787['subType']!==_0x58a973['subType'])continue;if(!Pt(_0x58a973,_0x708787,['groupId']))continue;if('attribute'==_0x58a973['type']&&_0x58a973['data']['oldValue']!=_0x708787['data']['oldValue'])continue;if('attribute'==_0x58a973['type']&&_0x1a1a7f['_isBlockAttribute'](_0x58a973['data']['key']))continue;if('formatBlock'==_0x58a973['type']){const _0x363cdf=_0x1a1a7f['editor']['model'],_0x51097f=_0x58a973['getContainedElement']();if(_0x51097f&&(_0x363cdf['schema']['isObject'](_0x51097f)||_0x363cdf['schema']['isLimit'](_0x51097f)))continue;}const _0x2c2cd9=_0x4ddf38['get'](_0x58a973),_0x7e6c89=_0x1ca812['get'](_0x58a973),_0xbb190e=_0x1ca812['get'](_0x708787),_0x44ecdc=_0x58a973['commentThread']&&_0x58a973['commentThread']['length'],_0x50b82d=_0x708787['commentThread']&&_0x708787['commentThread']['length'];if(!_0x44ecdc&&_0x2c2cd9(_0xbb190e,_0x7e6c89))return _0x1a1a7f['_joinSuggestions'](_0x708787,_0x58a973),_0x1ca812['delete'](_0x58a973),!0x0;if(!_0x50b82d&&_0x2c2cd9(_0x7e6c89,_0xbb190e))return _0x1a1a7f['_joinSuggestions'](_0x58a973,_0x708787),_0x1ca812['delete'](_0x708787),!0x0;}return!0x1;}}['_joinSuggestions'](_0x1fc841,_0x13df2e){if(_0x1fc841['isMultiRange']){for(const _0x4248ef of _0x13df2e['getRanges']())_0x1fc841['addRange'](_0x4248ef);}else{const _0x3cf3d3=_0x13df2e['getFirstRange']()['end'];this['_setSuggestionRange'](_0x1fc841,this['_model']['createRange'](_0x1fc841['getFirstRange']()['start'],_0x3cf3d3));}_0x13df2e['removeMarkers']();}['_getMarkerAnnouncementText'](_0x2233ff,_0x482fbb){const _0x4cf69=_0x2233ff['startsWith']('format')||_0x2233ff['startsWith']('attribute')?'FORMATTING':_0x2233ff['toUpperCase']();return o(this['editor']['locale'],_0x482fbb+'_'+_0x4cf69+'_SUGGESTION_ANNOUNCEMENT');}['_initAriaMarkerChangeAnnouncements'](){const _0x47bbd9=this['editor'];if(!_0x47bbd9['ui'])return;const {ariaLiveAnnouncer:_0x2f8b71}=_0x47bbd9['ui'];_0x41dbe6(this['_model'],({left:_0x453b51,entered:_0x17ba8f})=>{for(const _0x2efe15 of _0x453b51){const {group:_0x14ac22,type:_0x556342}=this['_splitMarkerName'](_0x2efe15['name']);if('suggestion'===_0x14ac22){_0x2f8b71['announce'](this['_getMarkerAnnouncementText'](_0x556342,'LEAVE'));break;}}for(const _0x549e00 of _0x17ba8f){const {group:_0x3fb480,type:_0xfc4270}=this['_splitMarkerName'](_0x549e00['name']);if('suggestion'===_0x3fb480){_0x2f8b71['announce'](this['_getMarkerAnnouncementText'](_0xfc4270,'ENTER'));break;}}});}['_processAttributeChanges'](_0x239de5){if(this['_recordAttributeSuggestions'])return!0x1;const _0x67e9dd=this['editor'],_0x10c979=_0x67e9dd['model']['document']['differ']['getChanges']();if(0x0==_0x10c979['length'])return!0x1;const _0xe3adfb=[],_0x4280a7=_0x10c979['filter'](_0x27c579=>'attribute'==_0x27c579['type']),_0x4d600d=_0x10c979['filter'](_0x37a4a1=>'insert'==_0x37a4a1['type']&&'$text'!=_0x37a4a1['name']),_0x75d1ff=_0x10c979['filter'](_0x1a50a9=>'remove'==_0x1a50a9['type']&&'$text'!=_0x1a50a9['name']);for(const _0x33f2fa of _0x4280a7)_0xe3adfb['push']({'key':_0x33f2fa['attributeKey'],'newValue':_0x33f2fa['attributeNewValue'],'oldValue':_0x33f2fa['attributeOldValue'],'range':Ot(_0x33f2fa['range'],_0x67e9dd['model'])});for(const _0x52989c of _0x4d600d){const _0x1bf992=_0x75d1ff['find'](_0x57f205=>_0x57f205['position']['isEqual'](_0x52989c['position']));_0x1bf992&&_0xe3adfb['push']({'key':m,'newValue':_0x52989c['name'],'oldValue':_0x1bf992['name'],'range':_0x67e9dd['model']['createRangeOn'](_0x52989c['position']['nodeAfter'])});}return 0x0!=_0xe3adfb['length']&&this['_reduceExistingSuggestions'](_0x239de5,_0xe3adfb);}['_processAttributeSuggestions'](_0x2cee1b){let _0xba4031=!0x1;const _0x485e3d=this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0x370602=>_0x370602['data']['newRange']&&_0x370602['name']['startsWith']('suggestion:attribute:'));for(const _0x232adb of _0x485e3d){const {subType:_0x511912,id:_0x4be316}=this['_splitMarkerName'](_0x232adb['name']),_0x47ac91=_0x511912['split']('|')[0x0];for(const _0x335792 of this['getSuggestions']({'skipNotAttached':!0x0}))_0x335792['id']!=_0x4be316&&'attribute'==_0x335792['type']&&_0x335792['data']&&_0x335792['data']['key']==_0x47ac91&&_0x335792['getFirstRange']()['isIntersecting'](_0x232adb['data']['newRange'])&&(this['_reduceSuggestionAttributeRange'](_0x335792,_0x232adb['data']['newRange'],_0x2cee1b),_0xba4031=!0x0);}return _0xba4031;}['_recordAttributeChanges'](_0x212e0e){this['editor'],this['_recordAttributeSuggestions']=!0x0,_0x212e0e();}['_isRegisteredAttribute'](_0x58f239){const _0x1da960=this['_isBlockAttribute'](_0x58f239),_0x113ec8=this['_inlineAttributeKeys']['has'](_0x58f239);return _0x1da960||_0x113ec8;}['_reduceExistingSuggestions'](_0x47641e,_0x20d489){if(0x0==_0x20d489['length'])return!0x1;let _0x31e132=!0x1;for(const _0x4ff41b of _0x20d489){const _0x30f14f=this['_findSuggestions'](_0x4ff41b['range'],'attribute')['filter'](_0x2f8ebd=>!_0x2f8ebd['meta']['isNextTo'])['map'](_0xa0eba0=>_0xa0eba0['suggestion']),_0x26dff7=_0x4d2a38({'newValue':_0x4ff41b['newValue']});_0x30f14f['filter'](_0x11eefa=>{const [_0x24d645,_0x487f4a]=_0x11eefa['subType']['split']('|');return _0x24d645==_0x4ff41b['key']&&_0x487f4a!=_0x26dff7;})['forEach'](_0x3b0a6e=>{this['_reduceSuggestionAttributeRange'](_0x3b0a6e,_0x4ff41b['range'],_0x47641e),_0x31e132=!0x0;});}return _0x31e132;}['_reduceSuggestionAttributeRange'](_0x1db973,_0x4c4744,_0x32583a){const _0x45d708=_0x1db973['getFirstRange']()['getDifference'](_0x4c4744);0x0!==_0x45d708['length']?0x1!==_0x45d708['length']?this['_breakSuggestionMarker'](_0x1db973,_0x4c4744['start'],_0x4c4744['end']):this['_setSuggestionRange'](_0x1db973,_0x45d708[0x0]):_0x32583a['removeMarker'](_0x1db973['getFirstMarker']());}}class xt{['_editor'];['_model'];['_customCallbacks'];['_defaultCallbacks'];constructor(_0x48ce69){this['_editor']=_0x48ce69,this['_model']=_0x48ce69['model'],this['_customCallbacks']=new Map(),this['_defaultCallbacks']=new Map(),this['_registerDefaultCallbacks']();}['buildSuggestion'](_0x14c792,_0x44c53d,_0x344e6b,_0x36110a,_0x37b257,_0x231cc7){return new u(this['_model'],{'type':_0x14c792,'subType':_0x44c53d,'id':_0x344e6b,'author':_0x36110a,'creator':_0x36110a,'attributes':_0x37b257,'onAttributesChange':_0x231cc7,'onAccept':(..._0x4a9c9f)=>this['getSuggestionCallback'](_0x14c792,_0x44c53d,'accept')(..._0x4a9c9f),'onDiscard':(..._0x4310f3)=>this['getSuggestionCallback'](_0x14c792,_0x44c53d,'discard')(..._0x4310f3)});}['registerCustomCallback'](_0xcebc25,_0x465c0e,_0x59e6a8,_0x1e4ba3){const _0x37dbed=_0xcebc25+':'+_0x465c0e+':'+_0x59e6a8;this['_customCallbacks']['set'](_0x37dbed,_0x1e4ba3);}['getSuggestionCallback'](_0x2783b5,_0x5de2a4,_0x20bad4){const _0x537c8d=_0x2783b5+':'+_0x5de2a4+':'+_0x20bad4;return this['_customCallbacks']['get'](_0x537c8d)||this['_defaultCallbacks']['get'](_0x2783b5+':'+_0x20bad4);}['_registerDefaultCallbacks'](){const _0x2d1313=()=>!0x1,_0x351e58=_0x3406c2=>{_0x3406c2['sort']((_0x229b97,_0x18025c)=>_0x229b97['start']['isBefore'](_0x18025c['start'])?0x1:-0x1),this['_model']['change'](_0x145d2e=>{for(const _0x489e2e of _0x3406c2){let _0xaff746;_0xaff746=_0x489e2e['end']['isAtEnd']&&_0x489e2e['end']['parent']==_0x489e2e['start']['nodeAfter']?_0x145d2e['createSelection'](_0x489e2e['start']['nodeAfter'],'on'):_0x145d2e['createSelection'](_0x489e2e),this['_model']['deleteContent'](_0xaff746,{'forceDefaultExecution':!0x0,'doNotAutoparagraph':!0x0});}});},_0x351c8e=(_0x3e0705,_0x48f69c)=>{_0x48f69c&&this['_model']['change'](_0x49a478=>{const {commandName:_0x2b3e0b,commandParams:_0x1123e8=[]}=_0x48f69c,_0xd016bd=_0x3e0705['map'](_0x4923a4=>(Tt(_0x4923a4)&&(_0x4923a4=this['_model']['createRange'](_0x4923a4['end'])),_0x4923a4))['filter'](_0x5e0b90=>'$graveyard'!==_0x5e0b90['root']['rootName']);if(_0xd016bd['length']<0x1)return;const _0x47522=Array['from'](this['_model']['document']['selection']['getRanges']())['map'](_0x2d48e2=>_0xe858d8['fromRange'](_0x2d48e2));_0x49a478['setSelection'](_0xd016bd);for(const _0x431d6d of this['_editor']['commands']['commands']())_0x431d6d['refresh']();_0x1123e8['push']({'forceDefaultExecution':!0x0}),this['_editor']['execute'](_0x2b3e0b,..._0x1123e8);const _0x5f1677=_0x47522['filter'](_0x522b7e=>'$graveyard'!=_0x522b7e['root']['rootName']);_0x5f1677['length']>0x0&&_0x49a478['setSelection'](_0x5f1677);for(const _0x1205a3 of _0x47522)_0x1205a3['detach']();});},_0x1c54bc=(_0x3d21e0,_0x5e0b56)=>0x1==_0x3d21e0['length']&&0x1==_0x5e0b56['length']&&_0x3d21e0[0x0]['end']['isEqual'](_0x5e0b56[0x0]['start']),_0x539efa=(_0x78185e,_0x24d5da,_0x35987a,_0x52b5d3)=>Ft(_0x78185e,_0x24d5da,_0x35987a,_0x52b5d3,this['_model'])?[_0x78185e,_0x24d5da]:Ft(_0x24d5da,_0x78185e,_0x52b5d3,_0x35987a,this['_model'])?[_0x24d5da,_0x78185e]:null;this['_defaultCallbacks']['set']('insertion:accept',_0x2d1313),this['_defaultCallbacks']['set']('insertion:discard',_0x351e58),this['_defaultCallbacks']['set']('insertion:join',_0x1c54bc),this['_defaultCallbacks']['set']('insertion:chain',_0x539efa),this['_defaultCallbacks']['set']('deletion:accept',_0x351e58),this['_defaultCallbacks']['set']('deletion:discard',_0x2d1313),this['_defaultCallbacks']['set']('deletion:join',_0x1c54bc),this['_defaultCallbacks']['set']('deletion:chain',_0x539efa),this['_defaultCallbacks']['set']('formatInline:accept',_0x351c8e),this['_defaultCallbacks']['set']('formatInline:discard',_0x2d1313),this['_defaultCallbacks']['set']('formatInline:join',_0x1c54bc),this['_defaultCallbacks']['set']('formatInline:chain',_0x2d1313),this['_defaultCallbacks']['set']('formatBlock:accept',_0x351c8e),this['_defaultCallbacks']['set']('formatBlock:discard',_0x2d1313),this['_defaultCallbacks']['set']('formatBlock:join',_0x1c54bc),this['_defaultCallbacks']['set']('formatBlock:chain',_0x2d1313),this['_defaultCallbacks']['set']('attribute:accept',_0x2d1313),this['_defaultCallbacks']['set']('attribute:discard',(_0xfc5aa,_0x587cd9)=>{if(!_0x587cd9)return;const _0x305948=this['_editor']['plugins']['get'](p);this['_model']['change'](_0x420f83=>{if(_0x587cd9['key']==m)for(const _0x2ca887 of _0xfc5aa){const _0x48f0b8=_0x2ca887['start']['nodeAfter'],_0xc20697=_0x587cd9['oldValue'];_0x420f83['rename'](_0x48f0b8,_0xc20697);}else{if(_0x305948['_isBlockAttribute'](_0x587cd9['key'])){for(const _0x2b3a91 of _0xfc5aa)void 0x0!==_0x587cd9['oldValue']?_0x420f83['setAttribute'](_0x587cd9['key'],_0x587cd9['oldValue'],_0x2b3a91['start']['nodeAfter']):_0x420f83['removeAttribute'](_0x587cd9['key'],_0x2b3a91['start']['nodeAfter']);}else{for(const _0x3d82ef of _0xfc5aa)_0x587cd9['oldValue']?_0x420f83['setAttribute'](_0x587cd9['key'],_0x587cd9['oldValue'],_0x3d82ef):_0x420f83['removeAttribute'](_0x587cd9['key'],_0x3d82ef);}}});}),this['_defaultCallbacks']['set']('attribute:join',_0x1c54bc);}}function Rt(_0x2a19f9,_0x3ad9af,_0xf0e856){for(const _0x43bf45 of _0x3ad9af['parent']['getAncestors']({'includeSelf':!0x0,'parentFirst':!0x0})){if(_0x43bf45['root']==_0x43bf45)return!0x1;if(!_0xf0e856['containsItem'](_0x43bf45))return!0x1;if(_0x2a19f9['isObject'](_0x43bf45)||_0x2a19f9['isLimit'](_0x43bf45))return!0x0;}return!0x1;}function Tt(_0x3cc3d1){return _0x3cc3d1['end']['parent']==_0x3cc3d1['start']['nodeAfter']&&_0x3cc3d1['end']['isAtStart'];}function Et(_0x29cc96,_0x5ddecb,_0x3c7b28,_0x5ee344){const _0x5ab506=_0xb663ae=>!_0xb663ae['item']['is']('$textProxy')&&!_0x5ee344['isObject'](_0xb663ae['item']),_0x1bd791=_0x29cc96['start']['getLastMatchingPosition'](_0x5ab506),_0x34a326=_0x29cc96['end']['getLastMatchingPosition'](_0x5ab506,{'direction':'backward'});return(!_0x29cc96['start']['isEqual'](_0x1bd791)||!_0x29cc96['end']['isEqual'](_0x34a326))&&(_0x1bd791['isBefore'](_0x34a326)?_0x3c7b28['updateMarker'](_0x5ddecb,{'range':_0x3c7b28['createRange'](_0x1bd791,_0x34a326)}):_0x3c7b28['removeMarker'](_0x5ddecb),!0x0);}function Vt(_0xaf87da){return _0x4d2a38(_0xaf87da);}function Ut(_0x59bda5){const _0x5ea78b=_0x59bda5['start']['nodeAfter'];return _0x5ea78b&&_0x5ea78b['is']('element');}function Ot(_0x447ba0,_0x4482a5){return null==_0x447ba0['end']['nodeBefore']&&_0x447ba0['end']['parent']==_0x447ba0['start']['nodeAfter']?Gt(_0x447ba0['start']['nodeAfter'],_0x4482a5):_0x447ba0;}function Gt(_0x77e311,_0x308a89){const _0x9b3f6c=_0x308a89['schema']['isObject'](_0x77e311)||_0x308a89['schema']['isSelectable'](_0x77e311);return _0x308a89['createRange'](_0x308a89['createPositionAt'](_0x77e311,'before'),_0x9b3f6c?_0x308a89['createPositionAfter'](_0x77e311):_0x308a89['createPositionAt'](_0x77e311,'end'));}function Ft(_0x58e25c,_0x27ad39,_0x43f368,_0xa45a80,_0x285f56){if(!Pt(_0x58e25c,_0x27ad39))return!0x1;if(_0x43f368['end']['isEqual'](_0xa45a80['start']))return!0x0;if(_0x58e25c['type']!=_0x27ad39['type'])return!0x1;if(!_0x43f368['end']['isTouching'](_0xa45a80['start']))return!0x1;const _0x2d4798=_0x285f56['createRange'](_0x43f368['end'],_0xa45a80['start'])['getWalker']();for(const _0x2edd9d of _0x2d4798)if(['elementStart','elementEnd']['includes'](_0x2edd9d['type'])&&_0x285f56['schema']['isLimit'](_0x2edd9d['item']))return!0x1;return!0x0;}function Pt(_0x4b534a,_0x22fd4e,_0x221f49=[]){return!(!_0x4b534a['_isDataLoaded']||!_0x22fd4e['_isDataLoaded'])&&_0x111cd5(Bt(_0x4b534a['attributes'],_0x221f49),Bt(_0x22fd4e['attributes'],_0x221f49));}function Lt(_0x42b880,_0xb669a6){const _0x26c69a=Ht(_0x42b880['attributes']),_0x24597a=Ht(_0xb669a6);if(!_0x42b880['_isDataLoaded'])return!0x1;for(const _0x15a636 of Object['keys'](_0x24597a))if(!_0x111cd5(_0x26c69a[_0x15a636],_0x24597a[_0x15a636]))return!0x1;return!0x0;}function Ht(_0x24ecbc){const _0x5ade8f=Object['assign']({},_0x24ecbc);return delete _0x5ade8f['skipNestingCheck'],delete _0x5ade8f['tablePasteChainId'],_0x5ade8f;}class oe extends/* #__PURE__ -- @preserve */
_0x2e764e(){['model'];['view'];['commentThreadController'];['_editor'];['_acceptCommand'];['_discardCommand'];['_pendingAction'];constructor(_0x2e5d5f,_0x428c07,_0x5cc095,_0x500f0b){super(),this['model']=_0x428c07,this['view']=_0x5cc095,this['commentThreadController']=_0x500f0b,this['_editor']=_0x2e5d5f,this['_acceptCommand']=_0x2e5d5f['commands']['get']('acceptSuggestion'),this['_discardCommand']=_0x2e5d5f['commands']['get']('discardSuggestion'),this['view']['bind']('isEnabled')['to'](this['_acceptCommand'],this['_discardCommand'],(_0x57a441,_0x3c164f)=>_0x57a441||_0x3c164f),this['view']['bind']('canAccept')['to'](this['_acceptCommand'],'isEnabled',_0x4f5990=>_0x4f5990&&this['_editor']['model']['canEditAt'](_0x428c07['getRanges']())),this['view']['bind']('canDiscard')['to'](this['_discardCommand'],'isEnabled',_0x3bd7e8=>_0x3bd7e8&&this['_editor']['model']['canEditAt'](_0x428c07['getRanges']())),this['_pendingAction']=null,_0x5cc095['isDirty']&&this['_setPendingAction'](),this['listenTo'](_0x5cc095,'acceptSuggestion',()=>this['acceptSuggestion']()),this['listenTo'](_0x5cc095,'discardSuggestion',()=>this['discardSuggestion']()),this['listenTo'](_0x5cc095,'change:isDirty',()=>{_0x5cc095['isDirty']?this['_setPendingAction']():this['_removePendingAction']();});}['acceptSuggestion'](){this['_acceptCommand']['execute'](this['model']['id']);}['discardSuggestion'](){this['_discardCommand']['execute'](this['model']['id']);}['destroy'](){this['view']['unbind']('isEnabled'),this['view']['unbind']('canAccept'),this['view']['unbind']('canDiscard'),this['stopListening'](),this['commentThreadController']['destroy'](),this['_pendingAction']&&this['_removePendingAction']();}['_setPendingAction'](){const _0x2b786d=o(this['_editor']['locale'],'PENDING_ACTION_SUGGESTION');this['_pendingAction']=this['_editor']['plugins']['get']('PendingActions')['add'](_0x2b786d);}['_removePendingAction'](){null!==this['_pendingAction']&&this['_editor']['plugins']['get']('PendingActions')['remove'](this['_pendingAction']),this['_pendingAction']=null;}}class es extends _0x2889d4{['commentsListView'];['commentThreadInputView'];['_model'];['_localUser'];['_config'];constructor(_0x2a61f5,_0x375032,_0x551d9c,_0xb00f97){super(_0x2a61f5),this['commentsListView']=null,this['commentThreadInputView']=null,this['set']('isActive',!0x1),this['set']('authoredAt',_0x375032['authoredAt']),this['bind']('authoredAt')['to'](_0x375032),this['set']('descriptionParts',[]),this['set']('isDirty',!0x1),this['set']('isEnabled',!0x1),this['set']('canAccept',!0x1),this['set']('canDiscard',!0x1),this['_model']=_0x375032,this['_localUser']=_0x551d9c,this['_config']=_0xb00f97,_0xb00f97['disableComments']?this['set']('length',0x1):this['_createCommentViews']();}['focus'](){this['element']['focus']();}['destroy'](){this['commentsListView']&&this['commentsListView']['destroy'](),this['commentThreadInputView']&&this['commentThreadInputView']['destroy'](),super['destroy']();}['_createCommentViews'](){const {CommentsListView:_0x271fc}=this['_config'];this['commentsListView']=new _0x271fc(this['locale'],this['_model']['commentThread'],Object['assign']({'CommentView':this['_config']['CommentView']},this['_config'])),this['commentsListView']['delegate']('removeComment')['to'](this),this['commentsListView']['delegate']('updateComment')['to'](this),this['commentsListView']['bind']('isActive')['to'](this),this['set']('length',this['commentsListView']['length']+0x1),this['bind']('length')['to'](this['commentsListView'],'length',_0x3518b2=>_0x3518b2+0x1),this['commentThreadInputView']=this['_createCommentThreadInputView'](),this['on']('removeComment',()=>this['focus']()),this['bind']('isDirty')['to'](this['commentsListView'],'hasDirtyComment',this['commentThreadInputView']['commentInputView'],'value',(_0x372ba0,_0x5a7b65)=>_0x372ba0||!!_0x5a7b65);}['_createCommentThreadInputView'](){const {CommentThreadInputView:_0x487862}=this['_config'],_0x4347d1=new _0x487862(this['locale'],this['_localUser'],this['_config']['editorConfig']),_0x1e1380=_0x4347d1['commentInputView'];return _0x4347d1['bind']('showInput')['to'](this,'isActive',this['_model']['commentThread'],'isReadOnly',_0x1e1380,'value',(_0x312043,_0x9fa77a,_0xbb9b0e)=>!!_0xbb9b0e||_0x312043&&!_0x9fa77a),_0x1e1380['on']('submit',(_0xe158e7,_0x36747a)=>{this['fire']('addComment',_0x36747a),_0x1e1380['editor']['setData']('');}),_0x1e1380['on']('cancel',()=>this['focus']()),_0x1e1380['bind']('disabledSubmit')['to'](this['_model']['commentThread'],'isReadOnly'),_0x4347d1;}}class ne extends es{['userView'];['acceptButton'];['discardButton'];['_descriptionElement'];constructor(_0x17f9cf,_0x5e4ab3,_0x47c0bd,_0x1df41d){super(_0x17f9cf,_0x5e4ab3,_0x47c0bd,_0x1df41d),this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x34458e=>_0x34458e&&_0x34458e[0x0]?_0x34458e[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0x465395,_0x4117ed)=>{let _0x54688e='';for(const _0x3542b8 of _0x465395)_0x54688e+='<p>'+ds(_0x3542b8['content'],_0x3542b8['color'])+'</p>';return _0x4117ed?_0x54688e:_0x3bda62(_0x54688e,{'limit':0x8c});}),this['_descriptionElement']=null,this['acceptButton']=this['_createButton'](o(_0x17f9cf,'Accept\x20suggestion'),_0x499e0a['check'],'ck-suggestion--accept','acceptSuggestion','sw'),this['acceptButton']['bind']('isEnabled')['to'](this,'canAccept'),this['discardButton']=this['_createButton'](o(_0x17f9cf,'Discard\x20suggestion'),_0x499e0a['cancel'],'ck-suggestion--discard','discardSuggestion','sw'),this['discardButton']['bind']('isEnabled')['to'](this,'canDiscard'),this['userView']=new _0x2bde3e(_0x17f9cf,this['_model']['author'],this['getUserViewNotificationText']()),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user']}}),this['setTemplate'](this['getTemplate']());}['getTemplate'](){const _0x5e44c2=this['bindTemplate'],_0x4002c9=[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name']}},{'tag':'time','attributes':{'datetime':_0x5e44c2['to']('authoredAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x5e44c2['to']('authoredAt',_0x30a6e7=>this['_config']['formatDateTime'](_0x30a6e7))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}];this['_model']['isExternal']&&_0x4002c9['push']({'tag':'div','attributes':{'class':['ck-comment__external']},'children':[{'text':this['getExternalSuggestionNote']()}]});const _0x35362f={'tag':'div','attributes':{'class':['ck-suggestion-wrapper',_0x5e44c2['if']('isActive','ck-suggestion-wrapper--active'),_0x5e44c2['to']('type',_0x5043e4=>'ck-suggestion-'+_0x5043e4),this['_config']['disableComments']&&'ck-suggestion--disabled-comments'],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':-0x1},'children':[{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation']},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main']},'children':_0x4002c9}]}]};return this['commentsListView']&&this['commentThreadInputView']&&(_0x35362f['children']['push'](this['commentsListView'],this['commentThreadInputView']),this['commentsListView']['delegate']('editorReady')['to'](this),this['commentsListView']['delegate']('editorDestroyed')['to'](this),this['commentThreadInputView']['delegate']('editorReady')['to'](this),this['commentThreadInputView']['delegate']('editorDestroyed')['to'](this)),_0x35362f;}['render'](){super['render'](),this['_descriptionElement']=this['element']['querySelector']('.ck-annotation__content-wrapper'),this['_descriptionElement']['innerHTML']=this['description'],this['on']('change:description',(_0x50ab37,_0x41237e,_0x20dabb)=>{this['_descriptionElement']['innerHTML']=_0x20dabb;});}['_createButton'](_0xce46ca,_0x3f9efd,_0x4e0907,_0xadffa0,_0x2470b1){const _0x4c8867=new _0x54cf92(this['locale']);return _0x4c8867['set']({'label':_0xce46ca,'icon':_0x3f9efd,'tooltip':!0x0,'tooltipPosition':_0x2470b1}),_0x4c8867['extendTemplate']({'attributes':{'class':_0x4e0907}}),_0x4c8867['on']('execute',()=>{this['fire'](_0xadffa0,this['_model']['id']);}),_0x4c8867;}['getExternalSuggestionNote'](){return'importWord'===this['_model']['attributes']['@external']['source']?o(this['locale'],'EXTERNAL_IMPORT_WORD_SUGGESTION'):o(this['locale'],'EXTERNAL_SUGGESTION');}['getUserViewNotificationText'](){return this['_model']['isExternal']?'importWord'===this['_model']['attributes']['@external']['source']?o(this['locale'],'EXTERNAL_IMPORT_WORD_AVATAR',this['_model']['creator']['name']):o(this['locale'],'EXTERNAL_AVATAR',this['_model']['creator']['name']):null;}}function ds(_0xdfdfde,_0x3e7d9a){let _0x4f502b='';return _0x4f502b+=_0xdfdfde['split']('*')['map']((_0x992c21,_0x522c9a)=>_0x522c9a%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+us(_0x992c21)+'</span>':us(_0x992c21))['join'](''),_0x3e7d9a&&(_0x4f502b+='<span\x20class=\x22ck-suggestion-color\x22\x20style=\x22background-color:\x20'+_0x3e7d9a['value']+'\x22\x20title=\x22'+_0x3e7d9a['title']+'\x22></span>'),_0x4f502b;}function us(_0x4f2b12){const _0x532f1f=document['createElement']('span');return _0x532f1f['innerText']=_0x4f2b12,_0x532f1f['innerHTML'];}var ie='<!--\x0a\x0a\x20What\x20you\x27re\x20currently\x20looking\x20at\x20is\x20the\x20source\x20code\x20of\x20a\x20legally\x20protected,\x20proprietary\x20software.\x0a\x20CKEditor\x205\x20Collaboration\x20is\x20licensed\x20under\x20a\x20commercial\x20license\x20and\x20protected\x20by\x20copyright\x20law.\x20Where\x20not\x20otherwise\x20indicated,\x0a\x20all\x20CKEditor\x205\x20Collaboration\x20content\x20is\x20authored\x20by\x20CKSource\x20engineers\x20and\x20consists\x20of\x20CKSource-owned\x20intellectual\x20property.\x0a\x0a\x20Copyright\x20(c)\x202003-2024,\x20CKSource\x20Holding\x20sp.\x20z\x20o.o.\x20All\x20rights\x20reserved.\x0a\x0a!-->\x0a\x0a<svg\x20viewBox=\x220\x200\x2020\x2020\x22\x20width=\x2220\x22\x20height=\x2220\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22><g\x20fill=\x22#000\x22\x20fill-rule=\x22nonzero\x22><path\x20d=\x22M1\x203.28C1\x202.574\x201.574\x202\x202.272\x202h10.23c.703\x200\x201.272.573\x201.272\x201.28v12.768c0\x20.708-.574\x201.281-1.271\x201.281H2.272A1.276\x201.276\x200\x200\x201\x201\x2016.049V3.28zm11.503\x2012.954c-.008\x200-.006-12.77-.006-12.77\x200-.003-10.225-.004-10.225-.004.007\x200\x20.005\x2012.77.005\x2012.77\x200\x20.003\x2010.226.004\x2010.226.004zm-8.31-9.58c0-.353.292-.64.636-.64h5.116c.351\x200\x20.636.284.636.64a.641.641\x200\x200\x201-.636.638H4.829a.636.636\x200\x200\x201-.635-.639zm0\x202.554c0-.352.292-.638.636-.638h5.116c.351\x200\x20.636.283.636.638a.641.641\x200\x200\x201-.636.639H4.829a.636.636\x200\x200\x201-.635-.639zm0\x202.555c0-.353.289-.639.633-.639h2.567c.35\x200\x20.633.284.633.64a.639.639\x200\x200\x201-.633.638H4.826a.634.634\x200\x200\x201-.632-.639z\x22/><path\x20d=\x22M10.515\x2017.958l.154-.23c-.195-.099-.304-.193-.328-.28-.024-.09.001-.275.076-.552.062-.165.099-.296.111-.393.013-.159.013-.319\x200-.478-.138-.41-.2-.686-.187-.83.013-.145.117-.335.313-.57l4.465-6.208c.356-.6\x201.059-.56\x202.11.119\x201.051.68\x201.443\x201.271\x201.177\x201.771L14.53\x2017.14c-.105.271-.22.444-.347.516-.128.07-.399.118-.813.138a2.954\x202.954\x200\x200\x200-.487.21\x202.044\x202.044\x200\x200\x200-.347.31c-.193.174-.332.262-.416.262-.064\x200-.178-.05-.346-.15l-.204.27-1.056-.738h.001zm-.184.274l1.039.727-.259.34H9.614l.717-1.067z\x22/></g></svg>\x0a';class d extends _0x418949{['_suggestionToController'];['_viewToController'];['_annotationViews'];['_handleControllerBuffer'];['_disableComments'];static get['requires'](){return[p,_0x48d50a,'CommentsRepository','Annotations','EditorAnnotations'];}static get['pluginName'](){return'TrackChangesUI';}constructor(_0x2c5052){super(_0x2c5052),this['_suggestionToController']=new Map(),this['_viewToController']=new Map(),this['_annotationViews']=new Map(),this['_handleControllerBuffer']=new Map();const _0x3d0e8a=this['editor']['config'];_0x3d0e8a['define']('trackChanges.SuggestionThreadView',ne),_0x3d0e8a['define']('trackChanges.disableComments',!0x1),this['_disableComments']=_0x3d0e8a['get']('trackChanges.disableComments');}['_handleSuggestionControllerDelayed'](_0x508835,_0x370ab4){0x0===this['_handleControllerBuffer']['size']&&setTimeout(()=>{for(const [_0x2cc706,_0x535b3f]of this['_handleControllerBuffer']){const _0x2efd35=this['_suggestionToController']['has'](_0x2cc706);_0x2efd35||_0x535b3f?_0x2efd35&&_0x535b3f&&this['_destroyController'](_0x2cc706):this['_initializeController'](_0x2cc706);}this['_handleControllerBuffer']['clear'](),this['editor']['plugins']['get']('EditorAnnotations')['refreshSelectedViews'](),this['_refreshActiveMarkers']();},0xa),this['_handleControllerBuffer']['set'](_0x508835,_0x370ab4);}['init'](){const _0x253e3c=this['editor'],_0x4a2108=_0x253e3c['plugins']['get']('TrackChangesEditing'),_0x153b55=_0x253e3c['plugins']['get']('Annotations'),_0x535758=_0x253e3c['plugins']['get']('EditorAnnotations'),_0x3eac87=_0x253e3c['plugins']['get']('CommentsRepository');this['_addUIComponentsToFactory'](),_0x535758['addSourceCollector'](()=>{const _0x3e43a8=[];for(const [_0x482454,_0x1f4e02]of Array['from'](this['_suggestionToController'])){const _0x1f4568=_0x482454['getAllAdjacentSuggestions'](),_0x5f0a41=[];for(const _0xa14de5 of _0x1f4568){if(!_0xa14de5['isInContent'])continue;if(_0xa14de5['isMultiRange']){_0x5f0a41['push'](..._0xa14de5['getRanges']());continue;}const _0x5eb41b=_0xa14de5['getFirstRange']();if(_0x5f0a41['length']>0x0){const _0x7da956=_0x5f0a41[0x0]['getJoined'](_0x5eb41b);if(_0x7da956){_0x5f0a41[0x0]=_0x7da956;continue;}}_0x5f0a41['push'](_0x5eb41b);}_0x3e43a8['push']([_0x1f4e02['view'],_0x5f0a41]);}return _0x3e43a8;}),this['listenTo'](_0x4a2108,'suggestionLoaded',(_0x3ecabd,_0x492796)=>{this['listenTo'](_0x492796,'change:previous',(_0xcbb97,_0x18001f,_0x1432a3,_0x69f45f)=>{_0x492796['isInContent']&&(null==_0x1432a3?(this['_updateController'](_0x69f45f['head']),this['_handleSuggestionControllerDelayed'](_0x492796,!0x1)):(this['_updateController'](_0x1432a3['head']),null==_0x69f45f&&this['_handleSuggestionControllerDelayed'](_0x492796,!0x0)));}),null!==_0x492796['previous']?this['_updateController'](_0x492796['head']):this['_handleSuggestionControllerDelayed'](_0x492796,!0x1);}),this['listenTo'](_0x4a2108,'suggestionUnloaded',(_0x5161e0,_0x579aad,_0x154e4c)=>{this['stopListening'](_0x579aad,'change:previous'),this['_handleControllerBuffer']['delete'](_0x579aad),this['_suggestionToController']['has'](_0x579aad)&&this['_destroyController'](_0x579aad),_0x154e4c&&this['_updateController'](_0x154e4c['head']);}),this['listenTo'](_0x4a2108,'suggestionChanged',(_0x18e209,_0x2a5c94)=>{this['_updateController'](_0x2a5c94);}),this['listenTo'](_0x153b55,'change:activeAnnotations',()=>{this['_refreshActiveMarkers']();}),this['listenTo'](_0x3eac87,'addComment',(_0x888768,{threadId:_0x1133e8,isFromAdapter:_0x34d4bc})=>{if(_0x34d4bc||!_0x4a2108['hasSuggestion'](_0x1133e8))return;const _0x4a0f20=_0x4a2108['getSuggestion'](_0x1133e8);this['_suggestionToController']['get'](_0x4a0f20)['view']['focus']();},{'priority':'lowest'});}['_refreshActiveMarkers'](){const _0x51cc02=this['editor']['plugins']['get']('Annotations'),_0x95e3f3=this['editor']['plugins']['get']('TrackChangesEditing'),_0x5c515f=Array['from'](_0x51cc02['activeAnnotations'],_0x452d52=>_0x452d52['innerView'])['filter'](_0x1c065c=>this['_viewToController']['has'](_0x1c065c)),_0x3be96e=[];for(const _0x53450d of _0x5c515f){const _0x3e6311=this['_viewToController']['get'](_0x53450d)['model']['getAllAdjacentSuggestions']();_0x3be96e['push'](..._0x3e6311['reduce']((_0x29f8ef,_0x4a2348)=>[..._0x29f8ef,..._0x4a2348['getMarkerNames']()],[]));}_0x95e3f3['activeMarkers']=_0x3be96e;}['_addUIComponentsToFactory'](){const _0x4330ff=this['editor'],_0x17f1b8=_0x4330ff['locale'],_0xe45fe4=o(_0x17f1b8,'Track\x20changes'),_0x3c4fa6=new Wt([{'type':'switchbutton','model':new te({'withText':!0x0,'label':_0xe45fe4,'commandName':'trackChanges','role':'menuitemcheckbox'})},{'type':'separator'},{'type':'button','model':new te({'withText':!0x0,'label':o(_0x17f1b8,'Accept\x20all\x20suggestions'),'commandName':'acceptAllSuggestions','role':'menuitem'})},{'type':'button','model':new te({'withText':!0x0,'label':o(_0x17f1b8,'Accept\x20all\x20selected\x20suggestions'),'commandName':'acceptSelectedSuggestions','role':'menuitem'})},{'type':'button','model':new te({'withText':!0x0,'label':o(_0x17f1b8,'Discard\x20all\x20suggestions'),'commandName':'discardAllSuggestions','role':'menuitem'})},{'type':'button','model':new te({'withText':!0x0,'label':o(_0x17f1b8,'Discard\x20all\x20selected\x20suggestions'),'commandName':'discardSelectedSuggestions','role':'menuitem'})}]);for(const _0x39be4c of _0x3c4fa6)if(ae(_0x39be4c)){const _0x22e619=_0x4330ff['commands']['get'](_0x39be4c['model']['commandName']);_0x39be4c['model']['bind']('isOn','isEnabled')['to'](_0x22e619,'value','isEnabled');}_0x4330ff['ui']['componentFactory']['add']('trackChanges',_0x76a16e=>this['_createToolbarButton'](_0x76a16e,_0x3c4fa6,_0xe45fe4)),_0x4330ff['ui']['componentFactory']['add']('menuBar:trackChanges',_0x56c43c=>this['_createMenuBarMenu'](_0x56c43c,_0x3c4fa6,_0xe45fe4));}['_createToolbarButton'](_0x2d596f,_0x428080,_0x34ab6d){const _0x142ac2=zt(_0x2d596f,Zt),_0x5b8dc6=this['editor']['commands']['get']('trackChanges');_0x142ac2['buttonView']['set']({'tooltip':_0x34ab6d,'label':_0x34ab6d,'icon':ie}),_0x142ac2['buttonView']['bind']('isOn')['to'](_0x5b8dc6,'value'),_0x142ac2['buttonView']['on']('execute',()=>{_0x5b8dc6['execute'](),this['editor']['editing']['view']['focus']();}),qt(_0x142ac2,_0x428080,{'role':'menu'});const _0x5d263c=[];for(const _0x562632 of _0x428080)ae(_0x562632)&&_0x5d263c['push'](this['editor']['commands']['get'](_0x562632['model']['commandName']));const _0x574e4b=_0x142ac2['buttonView'];return _0x574e4b['actionView']['unbind']('isEnabled'),_0x574e4b['arrowView']['unbind']('isEnabled'),_0x574e4b['actionView']['bind']('isEnabled')['to'](_0x5b8dc6,'isEnabled'),_0x574e4b['arrowView']['bind']('isEnabled')['toMany'](_0x5d263c,'isEnabled',(..._0x5b884e)=>_0x5b884e['some'](_0x2d5b56=>_0x2d5b56)),_0x142ac2['on']('execute',_0x31e8b7=>{this['editor']['execute'](_0x31e8b7['source']['commandName']),this['editor']['editing']['view']['focus']();}),_0x142ac2;}['_createMenuBarMenu'](_0x25541c,_0x54fddc,_0x3bf90e){const _0x4932fc=new Kt(_0x25541c),_0x46e72e=this['editor']['commands']['get']('trackChanges');_0x4932fc['buttonView']['set']({'label':_0x3bf90e,'icon':ie});const _0x1caf09=new Qt(_0x25541c);for(const _0x4db559 of _0x54fddc){if('separator'==_0x4db559['type']){_0x1caf09['items']['add'](new Jt(_0x25541c));continue;}const _0x244f50=new Xt(_0x25541c,_0x4932fc),_0xabe76d=new Yt(_0x25541c),_0x45061e=_0x4db559['model'];_0xabe76d['bind'](...Object['keys'](_0x45061e))['to'](_0x45061e),_0xabe76d['delegate']('execute')['to'](_0x4932fc),_0xabe76d['on']('execute',()=>{this['editor']['execute'](_0x45061e['commandName']),this['editor']['editing']['view']['focus']();}),_0x244f50['children']['add'](_0xabe76d),_0x1caf09['items']['add'](_0x244f50);}return _0x4932fc['bind']('isEnabled')['to'](_0x46e72e,'isEnabled'),_0x4932fc['panelView']['children']['add'](_0x1caf09),_0x4932fc;}['_initializeController'](_0x1c403a){const _0x530e8f=this['editor'],_0x55511c=_0x530e8f['config'],_0xd6a230=_0x530e8f['plugins']['get']('Annotations'),_0x4895d8=_0x530e8f['plugins']['get']('CommentsRepository'),_0x183688=_0x530e8f['plugins']['get']('EditorAnnotations'),_0xba2da8=_0x530e8f['plugins']['get'](_0x48d50a)['me'],_0x2ba9fc=_0x55511c['get']('trackChanges')['SuggestionThreadView'],{CommentsListView:_0x5dc504,CommentThreadInputView:_0x4187a7}=_0x530e8f['plugins']['get']('CommentsUI');let _0x557968,_0xc85ea6;this['_annotationViews']['has'](_0x1c403a['id'])?(_0xc85ea6=this['_annotationViews']['get'](_0x1c403a['id']),_0x557968=_0xc85ea6['mainView']):(_0x557968=new _0x2ba9fc(_0x530e8f['locale'],_0x1c403a,_0xba2da8,{'disableComments':this['_disableComments'],'editorConfig':_0x55511c['get']('comments.editorConfig'),'maxCommentsWhenCollapsed':_0x55511c['get']('comments.maxCommentsWhenCollapsed'),'maxThreadTotalWeight':_0x55511c['get']('comments.maxThreadTotalWeight'),'maxCommentCharsWhenCollapsed':_0x55511c['get']('comments.maxCommentCharsWhenCollapsed'),'formatDateTime':_0x1a71aa(_0x55511c['get']('locale')),'CommentView':_0x55511c['get']('comments')['CommentView'],'CommentsListView':_0x5dc504,'CommentThreadInputView':_0x4187a7}),_0x557968['acceptButton']['on']('execute',()=>{_0x530e8f['editing']['view']['focus']();}),_0x557968['discardButton']['on']('execute',()=>{_0x530e8f['editing']['view']['focus']();}),_0xc85ea6=_0xd6a230['createAnnotationView'](this['editor']['locale'],_0x557968),_0xc85ea6['bind']('isDirty')['to'](_0x557968,'isDirty'),_0xc85ea6['bind']('length')['to'](_0x557968),_0xc85ea6['bind']('type')['to'](_0x557968,'type',_0x19cbdd=>'suggestion-'+_0x19cbdd),this['_annotationViews']['set'](_0x1c403a['id'],_0xc85ea6));const _0x587d29=_0x4895d8['createCommentThreadController'](_0x1c403a['commentThread'],_0x557968),_0x4eb672=new oe(_0x530e8f,_0x1c403a,_0x557968,_0x587d29),_0x1870fc=_0x1c403a['getAllAdjacentSuggestions']()['filter'](_0x4aec92=>_0x4aec92['isInContent']);_0x557968['descriptionParts']=_0x530e8f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['getDescriptions'](_0x1870fc),this['_suggestionToController']['set'](_0x1c403a,_0x4eb672),this['_viewToController']['set'](_0x557968,_0x4eb672);const _0x23ef0a=_0xd6a230['createAnnotation']({'view':_0xc85ea6,'target':()=>{const _0x10438a=[],_0x303019=_0x1c403a['getAllAdjacentSuggestions']()['filter'](_0x5774a3=>_0x5774a3['isInContent']);for(const _0xa7ee80 of _0x303019)_0x10438a['push'](..._0xa7ee80['getMarkers']());return _0x4213df(_0x530e8f['editing'],_0x10438a);},'type':()=>'suggestion-'+_0x4eb672['view']['type']});_0x4895d8['_bindAnnotationToEditors'](_0x557968,_0x23ef0a),_0xd6a230['add'](_0x23ef0a),_0x183688['registerAnnotation'](_0x23ef0a);}['_destroyController'](_0x194df8){const _0x19513c=this['editor']['plugins']['get']('CommentsRepository'),_0x2becd8=this['editor']['plugins']['get']('Annotations'),_0x243b01=this['_suggestionToController']['get'](_0x194df8),_0x57843d=_0x243b01['view'],_0x2b984e=_0x2becd8['getByInnerView'](_0x57843d);_0x19513c['_unbindEditors'](_0x57843d),_0x2b984e&&_0x2becd8['remove'](_0x2b984e),this['_suggestionToController']['delete'](_0x194df8),this['_viewToController']['delete'](_0x57843d),_0x243b01['destroy']();}['_updateController'](_0x390ceb){if(!_0x390ceb['isInContent']||!this['_suggestionToController']['has'](_0x390ceb))return;const _0x174164=this['editor']['plugins']['get']('TrackChangesEditing'),_0x2c9c1c=this['_suggestionToController']['get'](_0x390ceb),_0x5b73fe=_0x390ceb['getAllAdjacentSuggestions']();_0x2c9c1c['view']['descriptionParts']=_0x174164['descriptionFactory']['getDescriptions'](_0x5b73fe);}['destroy'](){for(const _0x4a5a90 of this['_suggestionToController']['keys']())this['_destroyController'](_0x4a5a90);for(const _0x4bce50 of this['_annotationViews']['values']())_0x4bce50['mainView']['destroy']();super['destroy']();}}function ae(_0x47b345){return'model'in _0x47b345;}class k extends _0x418949{static get['requires'](){return[p,d,'Comments'];}static get['pluginName'](){return'TrackChanges';}set['adapter'](_0x47c494){this['editor']['plugins']['get'](p)['adapter']=_0x47c494;}get['adapter'](){return this['editor']['plugins']['get'](p)['adapter'];}['addSuggestion'](_0x15a837){return this['editor']['plugins']['get'](p)['addSuggestionData'](_0x15a837);}['getSuggestions']({skipNotAttached:_0x45ffbf=!0x1,toJSON:_0x142092=!0x1}={}){return this['editor']['plugins']['get'](p)['getSuggestions']({'skipNotAttached':_0x45ffbf,'toJSON':_0x142092});}['getSuggestion'](_0x40a1b9){return this['editor']['plugins']['get'](p)['getSuggestion'](_0x40a1b9);}}const T=['Pagination'];class P extends _0x418949{static get['requires'](){return[p];}static get['pluginName'](){return'TrackChangesData';}['init'](){const _0x16dbb3=this['editor'];if(_0x16dbb3['config']['define']('trackChangesData.editorCreator',_0x232182=>{const _0x64d8bc=_0x16dbb3['model']['document']['getRootNames']()['reduce']((_0x1f5f81,_0x4ef7c5)=>(_0x1f5f81[_0x4ef7c5]='',_0x1f5f81),{});return _0x16dbb3['constructor']['create'](_0x64d8bc,_0x232182);}),'function'!=typeof _0x16dbb3['config']['get']('trackChangesData')['editorCreator'])throw new _0x5e0f73('track-changes-data-invalid-editor-creator');}['getDataWithAcceptedSuggestions'](_0x1a4ec2){return N(this['editor'],!0x0,_0x1a4ec2);}['getDataWithDiscardedSuggestions'](_0x5eb245){return N(this['editor'],!0x1,_0x5eb245);}}class D extends _0x418949{['result'];static get['pluginName'](){return'TrackChangesDataGetter';}constructor(_0x533592){super(_0x533592),this['result']='end';}['init'](){this['editor']['plugins']['get']('CommentsRepository')['_adapter']={'addCommentThread':()=>new Promise(()=>{}),'getCommentThread':()=>new Promise(()=>{}),'updateCommentThread':()=>new Promise(()=>{}),'resolveCommentThread':()=>new Promise(()=>{}),'reopenCommentThread':()=>new Promise(()=>{}),'removeCommentThread':()=>new Promise(()=>{}),'addComment':()=>new Promise(()=>{}),'updateComment':()=>new Promise(()=>{}),'removeComment':()=>new Promise(()=>{})},this['editor']['plugins']['get']('TrackChangesEditing')['_adapter']=null;}}function v(_0x104be4){return void 0x0!==_0x104be4['getRootsAttributes'];}async function N(_0x4ffcd2,_0x17677a,_0x11c927){const _0x3ddc68=_0x5e47b9(_0x4ffcd2,T);_0x3ddc68['plugins']['push'](p,D),_0x3ddc68['rootsAttributes']=v(_0x4ffcd2)?_0x4ffcd2['getRootsAttributes']():void 0x0;const _0x5ee456=document['createDocumentFragment'](),_0xac09d8=_0x4ffcd2['config']['get']('trackChangesData')['editorCreator'],_0x1af556=await _0xac09d8(_0x3ddc68,()=>function(_0x3a63a8){const _0x26d53f=document['createElement']('div');return _0x3a63a8['appendChild'](_0x26d53f),_0x26d53f;}(_0x5ee456));!function(_0x5bc3fd,_0x2d1de9){const _0x5f4136=_0x5bc3fd['model']['document']['getRootNames']()['reduce']((_0x5dd55e,_0x3fa050)=>(_0x5dd55e[_0x3fa050]=_0x5bc3fd['data']['get']({'rootName':_0x3fa050}),_0x5dd55e),{}),_0x3debbc=_0x5bc3fd['plugins']['get']('Users')['users']['map'](_0x276c21=>({'id':_0x276c21['id'],'name':_0x276c21['name']})),_0x5f568d=_0x5bc3fd['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0xb4a5df=_0x5bc3fd['plugins']['get']('CommentsRepository')['getCommentThreads']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x2ac45b=_0x2d1de9['plugins']['get']('Users'),_0x2e5efb=_0x2d1de9['plugins']['get']('TrackChangesEditing'),_0x538859=_0x2d1de9['plugins']['get']('CommentsRepository');for(const _0x85eaa6 of _0x3debbc)_0x2ac45b['getUser'](_0x85eaa6['id'])||_0x2ac45b['addUser'](_0x85eaa6);_0x2ac45b['me']||_0x2ac45b['useAnonymousUser']();for(const _0x525b4e of _0xb4a5df)_0x538859['addCommentThread'](_0x525b4e);for(const _0x237dbf of _0x5f568d)_0x2e5efb['addSuggestionData'](_0x237dbf);_0x2d1de9['data']['set'](_0x5f4136);}(_0x4ffcd2,_0x1af556),_0x1af556['execute'](_0x17677a?'acceptAllSuggestions':'discardAllSuggestions');const _0x93a51b=v(_0x1af556)?_0x1af556['getFullData'](_0x11c927):_0x1af556['data']['get'](_0x11c927);return await _0x1af556['destroy'](),_0x93a51b;}export{es as BaseSuggestionThreadView,k as TrackChanges,P as TrackChangesData,p as TrackChangesEditing};