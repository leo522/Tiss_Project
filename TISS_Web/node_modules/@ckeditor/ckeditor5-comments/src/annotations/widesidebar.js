/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x49337c=_0x11b6;function _0x11b6(_0x4c30e2,_0x1ccd4d){const _0x24b19a=_0x24b1();return _0x11b6=function(_0x11b6c5,_0x500bc5){_0x11b6c5=_0x11b6c5-0x133;let _0x2bc7e9=_0x24b19a[_0x11b6c5];return _0x2bc7e9;},_0x11b6(_0x4c30e2,_0x1ccd4d);}function _0x24b1(){const _0x2e9121=['cancel','activeAnnotation','remove','2428119lAcPox','7oIJUKl','context','wideSidebar','isAttached','uiUpdate','76LknSZK','add','_annotations','stopListening','EditorAnnotations','set','20EniRVX','_activeAnnotation','off','_refreshPositioningDebounced','detach','3531576QJZBJN','removeEventListener','updateTargetRect','ready','_integrateWithEditorAnnotations','rearrange','focus','hasDomSelection','blur','357938TWwPZX','destroy','addAnnotation','9806863kHmmEy','init','change:container','attach','editors','high','_editorAnnotations','has','set:container','resize','stop','switchTo','annotations','WideSidebar','pluginName','addEventListener','6PqmMRx','refresh','refreshPositioning','getOrderedSelectedAnnotations','container','requires','plugins','_attachToContainer','_detachFromContainer','widesidebar-detach-not-attached','from','listenTo','get','69945UsuLvu','register','649010gPLHgB','236409SesWua','setActiveAnnotation','ck-sidebar--wide','_destroyEditorAnnotationsIntegration','widesidebar-attach-already-attached'];_0x24b1=function(){return _0x2e9121;};return _0x24b1();}(function(_0x478332,_0x1cae95){const _0x51ea29=_0x11b6,_0x13e85=_0x478332();while(!![]){try{const _0x3dea9d=parseInt(_0x51ea29(0x176))/0x1+-parseInt(_0x51ea29(0x153))/0x2+parseInt(_0x51ea29(0x173))/0x3*(-parseInt(_0x51ea29(0x13f))/0x4)+parseInt(_0x51ea29(0x175))/0x5*(-parseInt(_0x51ea29(0x166))/0x6)+parseInt(_0x51ea29(0x13a))/0x7*(parseInt(_0x51ea29(0x14a))/0x8)+-parseInt(_0x51ea29(0x139))/0x9*(parseInt(_0x51ea29(0x145))/0xa)+parseInt(_0x51ea29(0x156))/0xb;if(_0x3dea9d===_0x1cae95)break;else _0x13e85['push'](_0x13e85['shift']());}catch(_0x1426be){_0x13e85['push'](_0x13e85['shift']());}}}(_0x24b1,0x43e23));import{ContextPlugin as _0x675e50,Context as _0x2752a7}from'ckeditor5/src/core.js';import _0x517fdf from'./annotationsuis.js';import _0xf8531d from'./sidebar.js';import{CKEditorError as _0x1e24e7,Collection as _0x5a5267}from'ckeditor5/src/utils.js';import{debounce as _0x5a5795}from'lodash-es';export default class n extends _0x675e50{static get[_0x49337c(0x16b)](){return[_0xf8531d,_0x517fdf];}static get[_0x49337c(0x164)](){const _0x4507a3=_0x49337c;return _0x4507a3(0x163);}constructor(_0x40dd69){const _0x4c657b=_0x49337c;super(_0x40dd69),this[_0x4c657b(0x13d)]=!0x1,this[_0x4c657b(0x144)](_0x4c657b(0x137),null),this[_0x4c657b(0x162)]=null,this[_0x4c657b(0x15c)]=new _0x5a5267(),this[_0x4c657b(0x148)]=_0x5a5795(()=>{const _0x3e0a5e=_0x4c657b;this[_0x3e0a5e(0x162)][_0x3e0a5e(0x168)]();},0xfa,{'leading':!0x1});}[_0x49337c(0x157)](){const _0x362304=_0x49337c,_0x241b50=this[_0x362304(0x13b)][_0x362304(0x16c)][_0x362304(0x172)](_0x517fdf),_0xc87cc1=this[_0x362304(0x13b)][_0x362304(0x16c)][_0x362304(0x172)](_0xf8531d);_0x241b50[_0x362304(0x174)](_0x362304(0x13c),this),_0xc87cc1[_0x362304(0x16a)]&&_0x241b50[_0x362304(0x161)](_0x362304(0x13c));}[_0x49337c(0x177)](_0x21a214){const _0x474379=_0x49337c;if(_0x21a214===this[_0x474379(0x137)])return;const _0x121390=this[_0x474379(0x13b)][_0x474379(0x16c)][_0x474379(0x172)](_0xf8531d);_0x121390[_0x474379(0x146)]=_0x21a214;const _0x342637=this[_0x474379(0x137)];this[_0x474379(0x137)]=_0x21a214,_0x121390[_0x474379(0x167)]({'blurredAnnotation':_0x342637,'activatedAnnotation':this[_0x474379(0x137)]});}[_0x49337c(0x159)](_0x3b62b3){const _0x42db7f=_0x49337c;this[_0x42db7f(0x162)]=_0x3b62b3;const _0x1a5ce6=this[_0x42db7f(0x13b)][_0x42db7f(0x16c)][_0x42db7f(0x172)](_0xf8531d);if(_0x1a5ce6[_0x42db7f(0x141)]=_0x3b62b3,this[_0x42db7f(0x13d)])throw new _0x1e24e7(_0x42db7f(0x135),this);this[_0x42db7f(0x13d)]=!0x0,this[_0x42db7f(0x171)](_0x1a5ce6,_0x42db7f(0x15e),()=>{const _0x36f970=_0x42db7f;this[_0x36f970(0x149)](),this[_0x36f970(0x171)](_0x1a5ce6,_0x36f970(0x158),_0x2a71ee=>{const _0x4adb3=_0x36f970;_0x2a71ee[_0x4adb3(0x147)](),this[_0x4adb3(0x159)](_0x3b62b3);});}),_0x1a5ce6[_0x42db7f(0x16d)]({'viewClass':_0x42db7f(0x133)});const _0x2d983e=_0x109326=>{const _0x988fb8=_0x42db7f;_0x109326[_0x988fb8(0x14c)](),_0x1a5ce6[_0x988fb8(0x155)](_0x109326);};for(const _0x5a7a20 of _0x3b62b3)_0x2d983e(_0x5a7a20);this[_0x42db7f(0x171)](_0x3b62b3,_0x42db7f(0x140),(_0x47feac,_0xafdccc)=>{_0x2d983e(_0xafdccc);}),this[_0x42db7f(0x171)](_0x3b62b3,_0x42db7f(0x138),(_0x1026f7,_0x40d07e,_0x56b13b)=>{const _0x426a98=_0x42db7f;_0x1a5ce6[_0x426a98(0x14f)]({'removedAnnotation':_0x40d07e,'previousAnnotation':_0x3b62b3[_0x426a98(0x172)](_0x56b13b-0x1),'nextAnnotation':_0x3b62b3[_0x426a98(0x172)](_0x56b13b+0x1)}),_0x40d07e===this[_0x426a98(0x137)]&&this[_0x426a98(0x177)](null);},{'priority':_0x42db7f(0x15b)}),this[_0x42db7f(0x171)](_0x3b62b3,_0x42db7f(0x150),(_0x44c933,_0x198a9f)=>{const _0x2bfc80=_0x42db7f;this[_0x2bfc80(0x177)](_0x198a9f);}),this[_0x42db7f(0x171)](_0x3b62b3,_0x42db7f(0x152),()=>{const _0x23e723=_0x42db7f;this[_0x23e723(0x177)](null);});const _0x1411ca=this[_0x42db7f(0x13b)]instanceof _0x2752a7?this[_0x42db7f(0x13b)][_0x42db7f(0x15a)]:new _0x5a5267([this[_0x42db7f(0x13b)]]);for(const _0x9bfb3a of _0x1411ca)this[_0x42db7f(0x14e)](_0x9bfb3a);this[_0x42db7f(0x171)](_0x1411ca,_0x42db7f(0x140),(_0x21a444,_0x332a7e)=>{const _0x1a2598=_0x42db7f;this[_0x1a2598(0x171)](_0x332a7e,_0x1a2598(0x14d),()=>{const _0x340b6d=_0x1a2598;this[_0x340b6d(0x14e)](_0x332a7e);});}),this[_0x42db7f(0x171)](_0x1411ca,_0x42db7f(0x138),(_0x2aee9f,_0x11f23b)=>{const _0x2c1018=_0x42db7f;_0x11f23b[_0x2c1018(0x16c)][_0x2c1018(0x15d)](_0x2c1018(0x143))&&this[_0x2c1018(0x134)](_0x11f23b[_0x2c1018(0x16c)][_0x2c1018(0x172)](_0x2c1018(0x143)));}),window[_0x42db7f(0x165)](_0x42db7f(0x15f),this[_0x42db7f(0x148)]),this[_0x42db7f(0x162)][_0x42db7f(0x168)]();}[_0x49337c(0x149)](){const _0x1ea0f4=_0x49337c;if(!this[_0x1ea0f4(0x13d)])throw new _0x1e24e7(_0x1ea0f4(0x16f),this);this[_0x1ea0f4(0x177)](null);const _0x232d85=this[_0x1ea0f4(0x13b)][_0x1ea0f4(0x16c)][_0x1ea0f4(0x172)](_0xf8531d);_0x232d85[_0x1ea0f4(0x16e)](this[_0x1ea0f4(0x162)]),this[_0x1ea0f4(0x142)](_0x232d85),this[_0x1ea0f4(0x142)](this[_0x1ea0f4(0x162)]),this[_0x1ea0f4(0x13b)]instanceof _0x2752a7&&this[_0x1ea0f4(0x142)](this[_0x1ea0f4(0x13b)][_0x1ea0f4(0x15a)]);for(const _0x228729 of Array[_0x1ea0f4(0x170)](this[_0x1ea0f4(0x15c)]))this[_0x1ea0f4(0x134)](_0x228729);window[_0x1ea0f4(0x14b)](_0x1ea0f4(0x15f),this[_0x1ea0f4(0x148)]),this[_0x1ea0f4(0x148)][_0x1ea0f4(0x136)](),this[_0x1ea0f4(0x137)]=null,this[_0x1ea0f4(0x13d)]=!0x1,this[_0x1ea0f4(0x162)]=null;}[_0x49337c(0x154)](){const _0x50c4fd=_0x49337c;this[_0x50c4fd(0x13d)]&&this[_0x50c4fd(0x149)]();}[_0x49337c(0x14e)](_0x2f8cea){const _0x49cc4d=_0x49337c;if(!_0x2f8cea[_0x49cc4d(0x16c)][_0x49cc4d(0x15d)](_0x49cc4d(0x143)))return;const _0x4d7e17=_0x2f8cea[_0x49cc4d(0x16c)][_0x49cc4d(0x172)](_0x49cc4d(0x143)),_0x2c9384=()=>{const _0x1028a4=_0x49cc4d,_0x1b3aff=_0x4d7e17[_0x1028a4(0x169)]({'annotations':this[_0x1028a4(0x162)],'activeAnnotation':this[_0x1028a4(0x137)]});this[_0x1028a4(0x177)](_0x1b3aff[0x0]||null);};this[_0x49cc4d(0x171)](_0x4d7e17,_0x49cc4d(0x167),_0x2c9384),this[_0x49cc4d(0x171)](_0x4d7e17,_0x49cc4d(0x152),(_0x300b9e,{isAnnotationTracked:_0xf43a15})=>{const _0x242b12=_0x49cc4d;this[_0x242b12(0x137)]&&_0xf43a15(this[_0x242b12(0x137)])&&this[_0x242b12(0x177)](null);}),this[_0x49cc4d(0x171)](_0x4d7e17,_0x49cc4d(0x13e),()=>{const _0x328f7c=_0x49cc4d;this[_0x328f7c(0x148)]();}),this[_0x49cc4d(0x171)](this[_0x49cc4d(0x162)],_0x49cc4d(0x152),_0x2914ae=>{const _0x3c70a6=_0x49cc4d;_0x4d7e17[_0x3c70a6(0x151)]()&&(_0x2c9384(),_0x2914ae[_0x3c70a6(0x160)]());},{'priority':_0x49cc4d(0x15b)}),this[_0x49cc4d(0x15c)][_0x49cc4d(0x140)](_0x4d7e17);}[_0x49337c(0x134)](_0x841ee3){const _0x871efb=_0x49337c;this[_0x871efb(0x142)](_0x841ee3),this[_0x871efb(0x15c)][_0x871efb(0x138)](_0x841ee3);}}