/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x25d1b1=_0x2d9b;function _0x17c5(){const _0x546359=['hasActive','showStack','clear','context','register','change:isFocused','collapse','refresh','focus','from','inlineannotations-detach-not-attached','editor','afterInit','getClientRects','_addedAnnotations','getByView','inlineannotations-not-allowed-with-context','top','getFirstRange','427400WtPKEe','map','keystrokes','isAttached','width','right','targetRect','includes','451325biBMGY','setActiveAnnotation','inline','5226399AOgZRD','_manuallyClosed','switchTo','24IiVwGn','length','set','init','viewRangeToDom','_removeAnnotationFromBalloon','push','_balloon','stopListening','addObserver','fromRect','update','mousedown','get','requires','getOrderedSelectedAnnotations','5913692TPRdXq','5ytTWIj','find','change:height','annotations','document','left','pluginName','hasView','blur','change:visibleView','visibleView','focusTracker','has','selection','editableElement','activeAnnotation','detach','Esc','bottom','updatePosition','_addAnnotationToBalloon','isActive','view','plugins','209Drvhxx','_getBalloonTargetForAnnotation','listenTo','8617192ORTNeI','destroy','inlineannotations-attach-already-attached','getBoundingClientRect','InlineAnnotations','target','isFocused','72UYBtDw','editing','_selectedAnnotations','attach','domConverter','delete','add','_setSelectedAnnotations','_forceRefresh','9038BfqoCV','2232650GraKrV','remove','every','_closeAnnotation'];_0x17c5=function(){return _0x546359;};return _0x17c5();}(function(_0x4070e9,_0x45b948){const _0x46e593=_0x2d9b,_0x5e6140=_0x4070e9();while(!![]){try{const _0x47acbd=-parseInt(_0x46e593(0x184))/0x1+parseInt(_0x46e593(0x164))/0x2*(parseInt(_0x46e593(0x15b))/0x3)+-parseInt(_0x46e593(0x19a))/0x4*(parseInt(_0x46e593(0x19b))/0x5)+-parseInt(_0x46e593(0x18a))/0x6*(-parseInt(_0x46e593(0x165))/0x7)+parseInt(_0x46e593(0x154))/0x8+-parseInt(_0x46e593(0x187))/0x9+-parseInt(_0x46e593(0x17c))/0xa*(-parseInt(_0x46e593(0x151))/0xb);if(_0x47acbd===_0x45b948)break;else _0x5e6140['push'](_0x5e6140['shift']());}catch(_0x4792eb){_0x5e6140['push'](_0x5e6140['shift']());}}}(_0x17c5,0xba47e));import{Plugin as _0x1bdc6e}from'ckeditor5/src/core.js';import _0xac071b from'./annotationsuis.js';import _0x522440 from'./editorannotations.js';import{ContextualBalloon as _0x3b0318}from'ckeditor5/src/ui.js';import{MouseObserver as _0x337cfd}from'ckeditor5/src/engine.js';import{CKEditorError as _0x2a6e7d,Rect as _0x2b0395}from'ckeditor5/src/utils.js';import'./../../theme/annotation-inline.css';export default class c extends _0x1bdc6e{static get[_0x25d1b1(0x198)](){return[_0x522440,_0x3b0318,_0xac071b];}static get[_0x25d1b1(0x1a1)](){const _0x4c76b7=_0x25d1b1;return _0x4c76b7(0x158);}constructor(_0x5eb188){const _0x1cd672=_0x25d1b1;super(_0x5eb188),_0x5eb188[_0x1cd672(0x15c)][_0x1cd672(0x14f)][_0x1cd672(0x193)](_0x337cfd),this[_0x1cd672(0x17f)]=!0x1,this[_0x1cd672(0x18c)](_0x1cd672(0x1aa),null),this[_0x1cd672(0x19e)]=null,this[_0x1cd672(0x188)]=new Set(),this[_0x1cd672(0x191)]=_0x5eb188[_0x1cd672(0x150)][_0x1cd672(0x197)](_0x3b0318),this[_0x1cd672(0x177)]=new Set(),this[_0x1cd672(0x15d)]=[],this[_0x1cd672(0x163)]=!0x1;}[_0x25d1b1(0x18d)](){const _0x3098d5=_0x25d1b1,_0x3d2e8d=this[_0x3098d5(0x174)][_0x3098d5(0x150)][_0x3098d5(0x197)](_0xac071b);_0x3d2e8d[_0x3098d5(0x16c)]===this[_0x3098d5(0x174)]&&(_0x3d2e8d[_0x3098d5(0x16d)](_0x3098d5(0x186),this),this[_0x3098d5(0x174)][_0x3098d5(0x17e)][_0x3098d5(0x18c)](_0x3098d5(0x14a),(_0x4e6429,_0x222cde)=>{const _0x14ba26=_0x3098d5,_0xf0fe45=this[_0x14ba26(0x191)];if(this[_0x14ba26(0x17f)]&&_0xf0fe45[_0x14ba26(0x1a5)]){const _0x35910a=this[_0x14ba26(0x19e)][_0x14ba26(0x178)](_0xf0fe45[_0x14ba26(0x1a5)]);_0x35910a&&this[_0x14ba26(0x168)](_0x35910a),_0x222cde();}}));}[_0x25d1b1(0x175)](){const _0x53dc06=_0x25d1b1,_0x17dd5a=this[_0x53dc06(0x174)][_0x53dc06(0x150)][_0x53dc06(0x197)](_0xac071b);_0x17dd5a[_0x53dc06(0x16c)]===this[_0x53dc06(0x174)]&&(_0x17dd5a[_0x53dc06(0x169)]()||_0x17dd5a[_0x53dc06(0x189)](_0x53dc06(0x186)));}[_0x25d1b1(0x185)](_0x2c206a){const _0x59aea9=_0x25d1b1;_0x2c206a!==this[_0x59aea9(0x1aa)]&&(this[_0x59aea9(0x1aa)]&&(this[_0x59aea9(0x1aa)][_0x59aea9(0x14e)]=!0x1),_0x2c206a&&this[_0x59aea9(0x174)]['ui'][_0x59aea9(0x1a6)][_0x59aea9(0x15a)]&&(this[_0x59aea9(0x19e)][_0x59aea9(0x1a7)](_0x2c206a)&&this[_0x59aea9(0x14d)](_0x2c206a,!0x0),_0x2c206a[_0x59aea9(0x14e)]=!0x0),_0x2c206a||this[_0x59aea9(0x162)]([]),this[_0x59aea9(0x1aa)]=_0x2c206a);}[_0x25d1b1(0x15e)](_0xf51a77){const _0xfc2465=_0x25d1b1;this[_0xfc2465(0x19e)]=_0xf51a77;const _0x2f5aca=this[_0xfc2465(0x174)][_0xfc2465(0x150)][_0xfc2465(0x197)](_0xac071b),_0x3c62e7=this[_0xfc2465(0x191)];if(this[_0xfc2465(0x17f)])throw new _0x2a6e7d(_0xfc2465(0x156),this);if(_0x2f5aca[_0xfc2465(0x16c)]!==this[_0xfc2465(0x174)])throw new _0x2a6e7d(_0xfc2465(0x179),this);const _0x70022f=this[_0xfc2465(0x174)][_0xfc2465(0x150)][_0xfc2465(0x197)](_0x522440);this[_0xfc2465(0x153)](_0x70022f,_0xfc2465(0x170),()=>{const _0x396136=_0xfc2465,_0x8a786a=_0x70022f[_0x396136(0x199)]({'annotations':this[_0x396136(0x19e)],'activeAnnotation':this[_0x396136(0x1aa)]});var _0x45e811,_0x4c7670;!this[_0x396136(0x163)]&&(_0x45e811=_0x8a786a,_0x4c7670=this[_0x396136(0x15d)],_0x45e811[_0x396136(0x18b)]===_0x4c7670[_0x396136(0x18b)]&&_0x45e811[_0x396136(0x167)](_0x33fec4=>_0x4c7670[_0x396136(0x183)](_0x33fec4)))||(this[_0x396136(0x163)]=!0x1,this[_0x396136(0x162)](_0x8a786a),this[_0x396136(0x185)](_0x8a786a[0x0]||null));}),this[_0xfc2465(0x153)](_0x70022f,_0xfc2465(0x1a3),(_0x503c71,{isAnnotationTracked:_0x274370})=>{const _0x5153cc=_0xfc2465;this[_0x5153cc(0x1aa)]&&_0x274370(this[_0x5153cc(0x1aa)])&&(this[_0x5153cc(0x162)]([]),this[_0x5153cc(0x185)](null));}),this[_0xfc2465(0x153)](this[_0xfc2465(0x174)]['ui'][_0xfc2465(0x1a6)],_0xfc2465(0x16e),(_0x2c63e7,_0xa89b3a,_0x2374a9)=>{const _0x42ea10=_0xfc2465;_0x2374a9||this[_0x42ea10(0x185)](null);}),this[_0xfc2465(0x153)](_0xf51a77,_0xfc2465(0x166),(_0x45b929,_0x22b878)=>{const _0x4e35c9=_0xfc2465;this[_0x4e35c9(0x18f)](_0x22b878),_0x22b878===this[_0x4e35c9(0x1aa)]&&this[_0x4e35c9(0x185)](null);}),this[_0xfc2465(0x153)](_0x3c62e7,_0xfc2465(0x1a4),(_0x5ea623,_0x41fb56,_0x4924b1,_0x2a9991)=>{const _0x114ebe=_0xfc2465;_0x2a9991&&this[_0x114ebe(0x192)](_0x2a9991);const _0x37e0d1=_0xf51a77[_0x114ebe(0x178)](_0x4924b1);_0x4924b1&&_0x37e0d1&&(this[_0x114ebe(0x153)](_0x4924b1,_0x114ebe(0x19d),()=>{const _0x441628=_0x114ebe;_0x3c62e7[_0x441628(0x14c)]();}),this[_0x114ebe(0x153)](_0x4924b1,_0x114ebe(0x14a),()=>{const _0x3317da=_0x114ebe;this[_0x3317da(0x168)](_0x37e0d1),this[_0x3317da(0x174)][_0x3317da(0x15c)][_0x3317da(0x14f)][_0x3317da(0x171)]();}),this[_0x114ebe(0x1aa)]!==_0x37e0d1&&this[_0x114ebe(0x185)](_0x37e0d1));}),this[_0xfc2465(0x153)](this[_0xfc2465(0x174)]['ui'],_0xfc2465(0x195),()=>{const _0x36f282=_0xfc2465;_0x3c62e7[_0x36f282(0x1a5)]&&(_0xf51a77[_0x36f282(0x178)](_0x3c62e7[_0x36f282(0x1a5)])&&_0x3c62e7[_0x36f282(0x14c)]());}),this[_0xfc2465(0x153)](this[_0xfc2465(0x174)][_0xfc2465(0x15c)][_0xfc2465(0x14f)][_0xfc2465(0x19f)],_0xfc2465(0x196),()=>{const _0x453acd=_0xfc2465;this[_0x453acd(0x163)]=!0x0,this[_0x453acd(0x188)][_0x453acd(0x16b)]();}),this[_0xfc2465(0x174)][_0xfc2465(0x15c)][_0xfc2465(0x14f)][_0xfc2465(0x19f)][_0xfc2465(0x1a8)][_0xfc2465(0x1a9)]&&this[_0xfc2465(0x174)][_0xfc2465(0x15c)][_0xfc2465(0x14f)][_0xfc2465(0x171)](),this[_0xfc2465(0x17f)]=!0x0;}[_0x25d1b1(0x149)](){const _0xae6c4e=_0x25d1b1;if(!this[_0xae6c4e(0x17f)])throw new _0x2a6e7d(_0xae6c4e(0x173),this);this[_0xae6c4e(0x185)](null);for(const _0x451553 of this[_0xae6c4e(0x177)])this[_0xae6c4e(0x18f)](_0x451553);this[_0xae6c4e(0x192)](),this[_0xae6c4e(0x17f)]=!0x1,this[_0xae6c4e(0x19e)]=null;}[_0x25d1b1(0x155)](){const _0x14d73c=_0x25d1b1;this[_0x14d73c(0x17f)]&&this[_0x14d73c(0x149)]();}[_0x25d1b1(0x162)](_0x2ea131){const _0x1640e1=_0x25d1b1;for(const _0x9b22c1 of this[_0x1640e1(0x15d)])_0x2ea131[_0x1640e1(0x183)](_0x9b22c1)||this[_0x1640e1(0x188)][_0x1640e1(0x160)](_0x9b22c1);for(const _0x588297 of this[_0x1640e1(0x19e)])_0x2ea131[_0x1640e1(0x183)](_0x588297)||this[_0x1640e1(0x18f)](_0x588297);if(this[_0x1640e1(0x174)]['ui'][_0x1640e1(0x1a6)][_0x1640e1(0x15a)]){for(const _0x141aa5 of _0x2ea131)this[_0x1640e1(0x14d)](_0x141aa5);}this[_0x1640e1(0x15d)]=_0x2ea131;}[_0x25d1b1(0x14d)](_0x40f0b5,_0x1f955c=!0x1){const _0x47647c=_0x25d1b1;this[_0x47647c(0x188)][_0x47647c(0x1a7)](_0x40f0b5)||(this[_0x47647c(0x177)][_0x47647c(0x1a7)](_0x40f0b5)||this[_0x47647c(0x191)][_0x47647c(0x1a2)](_0x40f0b5[_0x47647c(0x14f)])||(this[_0x47647c(0x177)][_0x47647c(0x161)](_0x40f0b5),this[_0x47647c(0x191)][_0x47647c(0x161)]({'stackId':_0x40f0b5[_0x47647c(0x14f)]['id'],'view':_0x40f0b5[_0x47647c(0x14f)],'position':{'target':()=>this[_0x47647c(0x152)](_0x40f0b5)}})),_0x1f955c&&this[_0x47647c(0x191)][_0x47647c(0x16a)](_0x40f0b5[_0x47647c(0x14f)]['id']));}[_0x25d1b1(0x152)](_0x4780c0){const _0x311ceb=_0x25d1b1,_0x329d05=_0x4780c0[_0x311ceb(0x159)],_0x55244a=this[_0x311ceb(0x174)][_0x311ceb(0x15c)][_0x311ceb(0x14f)],_0x245f16=_0x55244a[_0x311ceb(0x19f)][_0x311ceb(0x1a8)][_0x311ceb(0x17b)](),_0x3f73b5=_0x55244a[_0x311ceb(0x15f)][_0x311ceb(0x18e)](_0x245f16);if(_0x3f73b5[_0x311ceb(0x16f)](!0x0),_0x329d05){if(_0x329d05 instanceof _0x2b0395)return _0x329d05;let _0x521b62=[];for(const _0x50feae of _0x329d05)_0x521b62[_0x311ceb(0x190)](...(_0x4195a2=_0x50feae[_0x311ceb(0x176)](),Array[_0x311ceb(0x172)](_0x4195a2)[_0x311ceb(0x17d)](DOMRect[_0x311ceb(0x194)])));_0x521b62=function(_0x5bc88a){const _0x34a7db=_0x311ceb,_0x1ba09d=[];let _0x2a6334=_0x5bc88a[0x0];for(let _0x25b4c8=0x1;_0x25b4c8<_0x5bc88a[_0x34a7db(0x18b)];_0x25b4c8++)F(_0x2a6334,_0x5bc88a[_0x25b4c8])?_0x2a6334[_0x34a7db(0x180)]+=_0x5bc88a[_0x25b4c8][_0x34a7db(0x180)]:(_0x1ba09d[_0x34a7db(0x190)](_0x2a6334),_0x2a6334=_0x5bc88a[_0x25b4c8]);return _0x1ba09d[_0x34a7db(0x190)](_0x2a6334),_0x1ba09d;}(_0x521b62);const _0x47fc6a=_0x3f73b5[_0x311ceb(0x157)]();return _0x521b62[_0x311ceb(0x19c)](_0x28bb5a=>_0x28bb5a[_0x311ceb(0x17a)]<=_0x47fc6a[_0x311ceb(0x17a)]&&_0x28bb5a[_0x311ceb(0x14b)]>=_0x47fc6a[_0x311ceb(0x14b)]&&_0x28bb5a[_0x311ceb(0x1a0)]<=_0x47fc6a[_0x311ceb(0x1a0)]&&_0x28bb5a[_0x311ceb(0x181)]>=_0x47fc6a[_0x311ceb(0x181)])||_0x521b62[0x0];}var _0x4195a2;return _0x4780c0[_0x311ceb(0x182)]||_0x3f73b5;}[_0x25d1b1(0x18f)](_0x4d9f71){const _0x4fa0e4=_0x25d1b1;this[_0x4fa0e4(0x177)][_0x4fa0e4(0x1a7)](_0x4d9f71)&&this[_0x4fa0e4(0x191)][_0x4fa0e4(0x1a2)](_0x4d9f71[_0x4fa0e4(0x14f)])&&(this[_0x4fa0e4(0x177)][_0x4fa0e4(0x160)](_0x4d9f71),this[_0x4fa0e4(0x191)][_0x4fa0e4(0x166)](_0x4d9f71[_0x4fa0e4(0x14f)]));}[_0x25d1b1(0x168)](_0x585416){const _0x14321b=_0x25d1b1;this[_0x14321b(0x188)][_0x14321b(0x161)](_0x585416),this[_0x14321b(0x18f)](_0x585416);}}function _0x2d9b(_0x453c44,_0x4b45e1){const _0x17c509=_0x17c5();return _0x2d9b=function(_0x2d9b61,_0x354918){_0x2d9b61=_0x2d9b61-0x149;let _0x198cf3=_0x17c509[_0x2d9b61];return _0x198cf3;},_0x2d9b(_0x453c44,_0x4b45e1);}function F(_0x498780,_0x10f9a7){const _0xda1815=_0x25d1b1;return _0x498780[_0xda1815(0x17a)]===_0x10f9a7[_0xda1815(0x17a)]&&_0x498780[_0xda1815(0x14b)]===_0x10f9a7[_0xda1815(0x14b)]&&_0x498780[_0xda1815(0x181)]===_0x10f9a7[_0xda1815(0x1a0)];}