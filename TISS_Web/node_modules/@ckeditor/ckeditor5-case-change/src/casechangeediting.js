/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Plugin as _0x4d33a5}from'ckeditor5/src/core.js';import _0x1a1bc5 from'./casechangecommand.js';export default class s extends _0x4d33a5{constructor(){super(...arguments),this['_currentCommandIndex']=0x0;}static get['pluginName'](){return'CaseChangeEditing';}['init'](){const _0x58df07=this['editor'],_0x8efdd0=_0x58df07['locale']['contentLanguage'],_0x4cab67=function(_0x2ec7bd=[]){return'function'==typeof _0x2ec7bd?_0x2ec7bd:(_0x3de603,{wordIndex:_0x2eae06})=>_0x2eae06>0x0&&_0x2ec7bd['includes'](_0x3de603);}(_0x58df07['config']['get']('caseChange.titleCase.excludeWords')),_0x2bb78c={'changeCaseUpper':new _0x1a1bc5(_0x58df07,_0x2dcee5=>_0x2dcee5['toLocaleUpperCase'](_0x8efdd0)),'changeCaseLower':new _0x1a1bc5(_0x58df07,_0x293379=>_0x293379['toLocaleLowerCase'](_0x8efdd0)),'changeCaseTitle':new _0x1a1bc5(_0x58df07,_0x30b240=>function(_0x32b3db,_0x24602c,_0x3de136){return function(_0x38a4a9,_0x2f7c5d){let _0x4508ed='',_0x2b3306=0x0,_0x1fa0ad=0x0;for(const _0x2f6f54 of _0x38a4a9['matchAll'](/ +/g)){const _0x3bc518=_0x2f6f54['index'],_0x3beb04=_0x38a4a9['substring'](_0x2b3306,_0x3bc518);_0x3beb04['length']&&(_0x4508ed+=_0x2f7c5d(_0x3beb04,_0x2b3306,_0x1fa0ad++)),_0x4508ed+=_0x2f6f54[0x0],_0x2b3306=_0x3bc518+_0x2f6f54[0x0]['length'];}const _0x301766=_0x38a4a9['substring'](_0x2b3306);return _0x301766['length']&&(_0x4508ed+=_0x2f7c5d(_0x301766,_0x2b3306,_0x1fa0ad)),_0x4508ed;}(_0x32b3db,(_0x52fa4b,_0x40ec7e,_0x2a822e)=>{const _0x5a9d6f=_0x52fa4b['toLocaleLowerCase'](_0x3de136);return _0x24602c(_0x5a9d6f,{'charOffset':_0x40ec7e,'wordIndex':_0x2a822e,'blockText':_0x32b3db})?_0x5a9d6f:_0x5a9d6f['replace'](/(?:^|[^\p{L}\d'])\p{L}/gu,_0x328c8c=>_0x328c8c['toLocaleUpperCase'](_0x3de136));});}(_0x30b240,_0x4cab67,_0x8efdd0))};for(const [_0x4662be,_0xa38c79]of Object['entries'](_0x2bb78c))_0x58df07['commands']['add'](_0x4662be,_0xa38c79),_0xa38c79['on']('execute',()=>{this['_announceCaseChangeOperation'](_0x4662be);});this['listenTo'](_0x58df07['editing']['view']['document'],'selectionChange',()=>{this['_currentCommandIndex']=0x0;}),_0x58df07['keystrokes']['set']('shift+f3',(_0xc9719,_0x2fe8a9)=>{const _0x2dcfb5=_getOptions(this['editor']['t']),_0x268bff=_0x2dcfb5[this['_currentCommandIndex']%_0x2dcfb5['length']]['commandName'];_0x58df07['execute'](_0x268bff),this['_currentCommandIndex']++,_0x2fe8a9();});}['_announceCaseChangeOperation'](_0x1a3650){const {t:t,ui:_0x1c0dac}=this['editor'],_0x659425=_getOptions(t)['find'](_0x511606=>_0x511606['commandName']===_0x1a3650)['label']['toLowerCase']();_0x1c0dac['ariaLiveAnnouncer']['announce'](t('Changed\x20case\x20to\x20%0',_0x659425));}}export function _getOptions(t){return[{'label':t('UPPERCASE'),'commandName':'changeCaseUpper'},{'label':t('lowercase'),'commandName':'changeCaseLower'},{'label':t('Title\x20Case'),'commandName':'changeCaseTitle'}];}