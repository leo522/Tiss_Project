/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2a2c41=_0x4a07;(function(_0x1a1efc,_0x300f67){const _0x4ed5f1=_0x4a07,_0x243e62=_0x1a1efc();while(!![]){try{const _0x1f1357=parseInt(_0x4ed5f1(0x142))/0x1+-parseInt(_0x4ed5f1(0x145))/0x2*(-parseInt(_0x4ed5f1(0x137))/0x3)+-parseInt(_0x4ed5f1(0x164))/0x4*(-parseInt(_0x4ed5f1(0x143))/0x5)+-parseInt(_0x4ed5f1(0x169))/0x6+parseInt(_0x4ed5f1(0x158))/0x7*(-parseInt(_0x4ed5f1(0x156))/0x8)+parseInt(_0x4ed5f1(0x16c))/0x9*(-parseInt(_0x4ed5f1(0x149))/0xa)+parseInt(_0x4ed5f1(0x154))/0xb;if(_0x1f1357===_0x300f67)break;else _0x243e62['push'](_0x243e62['shift']());}catch(_0x46e812){_0x243e62['push'](_0x243e62['shift']());}}}(_0x3671,0xcfffc));import{Plugin as _0x312d8f}from'ckeditor5/src/core.js';import{User as _0x21e9d6,TrackChangesService as _0x106c23}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';function _0x4a07(_0x9f6a81,_0x49a4aa){const _0x36718e=_0x3671();return _0x4a07=function(_0x4a07cc,_0x6a52b7){_0x4a07cc=_0x4a07cc-0x130;let _0xb9ff9b=_0x36718e[_0x4a07cc];return _0xb9ff9b;},_0x4a07(_0x9f6a81,_0x49a4aa);}import _0xf8c082 from'../realtimecollaborativeediting/websocketgateway.js';import _0x526560 from'../realtimecollaborativecomments/cloudservicescommentsadapter.js';import{Users as _0x101d93}from'ckeditor5-collaboration/src/collaboration-core.js';class g extends _0x312d8f{static get[_0x2a2c41(0x16b)](){const _0x2e9231=_0x2a2c41;return[_0x526560,_0x2e9231(0x139),_0xf8c082];}constructor(_0x4d5152){const _0x388008=_0x2a2c41;super(_0x4d5152);const _0x19c675=this[_0x388008(0x157)][_0x388008(0x153)][_0x388008(0x13d)](_0x388008(0x15a));this[_0x388008(0x148)]=new Map(),this[_0x388008(0x132)]=new g[(_0x388008(0x138))](_0x19c675);}[_0x2a2c41(0x14f)](){const _0x599380=_0x2a2c41,_0x59ceef=this[_0x599380(0x157)][_0x599380(0x163)][_0x599380(0x13d)](_0xf8c082),_0x263074=this[_0x599380(0x157)][_0x599380(0x163)][_0x599380(0x13d)](_0x599380(0x139));return _0x263074[_0x599380(0x166)]={'getSuggestion':async _0x1e0409=>{const _0xf50da5=_0x599380;await this[_0xf50da5(0x133)]();const _0x1afe42=await this[_0xf50da5(0x132)][_0xf50da5(0x13d)](_0x1e0409)[_0xf50da5(0x135)](B);return await this[_0xf50da5(0x15d)]([_0x1afe42]),_0x1afe42;},'addSuggestion':async({id:_0x57bb84,type:_0x500fc1,data:_0x5e8c56,originalSuggestionId:_0x31d9b3,attributes:_0x2bd9fb})=>{const _0xdfc38d=_0x599380;await this[_0xdfc38d(0x133)]();const _0x4e9b10={'id':_0x57bb84,'type':_0x500fc1,'data':_0x5e8c56,'originalSuggestionId':_0x31d9b3,'attributes':_0x2bd9fb},_0x78eea6=await this[_0xdfc38d(0x132)][_0xdfc38d(0x152)](_0x57bb84,_0x500fc1,_0x5e8c56,_0x31d9b3,_0x2bd9fb)[_0xdfc38d(0x135)](_0x36e211=>{if(st(_0x36e211))return new Promise(_0x239150=>{const _0x2034d1=_0x4a07;this[_0x2034d1(0x148)][_0x2034d1(0x13c)](_0x57bb84,{'resolve':_0x239150,'suggestionData':_0x4e9b10});});throw _0x36e211;});return this[_0xdfc38d(0x148)][_0xdfc38d(0x162)](_0x57bb84),_0x78eea6;},'updateSuggestion':async(_0x386cf1,_0x4aa7d7)=>{const _0x2ff753=_0x599380;if(await this[_0x2ff753(0x133)](),_0x2ff753(0x14e)!==_0x4aa7d7[_0x2ff753(0x161)])return this[_0x2ff753(0x132)][_0x2ff753(0x14b)](_0x386cf1,_0x4aa7d7)[_0x2ff753(0x135)](B);}},this[_0x599380(0x151)](this[_0x599380(0x132)],_0x599380(0x15e),(_0x2cd9b8,_0x5657d1)=>{const _0x50051f=_0x599380;_0x263074[_0x50051f(0x14a)](_0x5657d1['id'])&&(_0x263074[_0x50051f(0x14c)](_0x5657d1['id'])[_0x50051f(0x141)]=_0x5657d1[_0x50051f(0x141)]);}),this[_0x599380(0x132)][_0x599380(0x14d)](_0x59ceef[_0x599380(0x146)])[_0x599380(0x165)](_0x2cb199=>(_0x59ceef[_0x599380(0x16a)](this),this[_0x599380(0x15d)](_0x2cb199)[_0x599380(0x165)](()=>{const _0x271f2d=_0x599380;for(const _0x3168e9 of _0x2cb199){_0x263074[_0x271f2d(0x144)](_0x3168e9)[_0x271f2d(0x160)]=!0x0;}})));}async[_0x2a2c41(0x13f)](){const _0x24d0cb=_0x2a2c41,_0x4c001b=this[_0x24d0cb(0x157)][_0x24d0cb(0x163)][_0x24d0cb(0x13d)](_0x24d0cb(0x139)),{connection:_0x208de5}=this[_0x24d0cb(0x157)][_0x24d0cb(0x163)][_0x24d0cb(0x13d)](_0xf8c082),_0x39ddb2=await this[_0x24d0cb(0x132)][_0x24d0cb(0x14d)](_0x208de5);await this[_0x24d0cb(0x15d)](_0x39ddb2);for(const {suggestionData:_0x23b7e3,resolve:_0x2c75c1}of this[_0x24d0cb(0x148)][_0x24d0cb(0x167)]()){let _0x4f0656=_0x39ddb2[_0x24d0cb(0x168)](_0x9b9706=>_0x9b9706['id']===_0x23b7e3['id']);_0x4f0656||(_0x4f0656=await this[_0x24d0cb(0x132)][_0x24d0cb(0x152)](_0x23b7e3['id'],_0x23b7e3[_0x24d0cb(0x130)],_0x23b7e3[_0x24d0cb(0x15b)],_0x23b7e3[_0x24d0cb(0x155)])),_0x2c75c1(_0x4f0656);}for(const _0x1a1834 of _0x39ddb2)_0x4c001b[_0x24d0cb(0x14a)](_0x1a1834['id'])||_0x4c001b[_0x24d0cb(0x144)](_0x1a1834);}async[_0x2a2c41(0x133)](){const _0x364335=_0x2a2c41;this[_0x364335(0x132)][_0x364335(0x147)]||await new Promise(_0x2bd5df=>{const _0x557d99=_0x364335;this[_0x557d99(0x151)](this[_0x557d99(0x132)],_0x557d99(0x13e),_0x3b606b=>{const _0x79704a=_0x557d99;_0x3b606b[_0x79704a(0x134)](),_0x2bd5df();});});}async[_0x2a2c41(0x15d)](_0x318e93){const _0x445948=_0x2a2c41,_0x2f3e78=this[_0x445948(0x157)][_0x445948(0x163)][_0x445948(0x13d)](_0x101d93),{connection:_0x51a6f7}=this[_0x445948(0x157)][_0x445948(0x163)][_0x445948(0x13d)](_0xf8c082),_0xc77aa8=new Set();for(const {authorId:_0x5b18e2}of _0x318e93)_0x2f3e78[_0x445948(0x140)](_0x5b18e2)||_0xc77aa8[_0x445948(0x152)](_0x5b18e2);if(0x0===_0xc77aa8[_0x445948(0x15c)])return;const _0x1cb1e2=await _0x21e9d6[_0x445948(0x13a)](_0x51a6f7,Array[_0x445948(0x159)](_0xc77aa8));for(const _0x1abb8b of _0x1cb1e2)_0x2f3e78[_0x445948(0x140)](_0x1abb8b['id'])||_0x2f3e78[_0x445948(0x150)](_0x1abb8b);}}function _0x3671(){const _0x3e4862=['adapter','values','find','3717444xDnpUC','addToReconnectionStack','requires','72MqvwpI','type','startsWith','_trackChangesService','_waitForServiceReady','off','catch','cloud-services-internal-error:\x20Request\x20timeout.','114447VVvsPZ','TrackChangesService','TrackChangesEditing','getMany','message','set','get','connected','reconnect','getUser','attributes','1500039NaWWrL','5dlLVeb','addSuggestionData','2UKmlkD','connection','isConnected','_bufferedRequests','637370KeimWX','hasSuggestion','update','getSuggestion','connect','open','init','addUser','listenTo','add','config','7289546qpjjwx','originalSuggestionId','8NCzDwQ','editor','9666538NPtqVX','from','collaboration.channelId','data','size','_fetchMissingUsersForThreads','suggestionUpdated','cloud-services-internal-error:\x20Not\x20connected.','_saved','state','delete','plugins','4645976RwuzWY','then'];_0x3671=function(){return _0x3e4862;};return _0x3671();}g[_0x2a2c41(0x138)]=_0x106c23;export default g;function B(_0x75fd92){if(st(_0x75fd92))return new Promise(()=>{});throw _0x75fd92;}function st(_0x2ae9b7){const _0x5a3cf1=_0x2a2c41;return _0x2ae9b7[_0x5a3cf1(0x13b)][_0x5a3cf1(0x131)](_0x5a3cf1(0x15f))||_0x2ae9b7[_0x5a3cf1(0x13b)][_0x5a3cf1(0x131)](_0x5a3cf1(0x136));}