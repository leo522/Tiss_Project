/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x3a8d(_0x13777b,_0x28a8ec){const _0x2fd83e=_0x2fd8();return _0x3a8d=function(_0x3a8dae,_0x1071e1){_0x3a8dae=_0x3a8dae-0x17b;let _0x224d10=_0x2fd83e[_0x3a8dae];return _0x224d10;},_0x3a8d(_0x13777b,_0x28a8ec);}const _0x229801=_0x3a8d;(function(_0x24264e,_0x5006a8){const _0x288934=_0x3a8d,_0x382264=_0x24264e();while(!![]){try{const _0x575e12=parseInt(_0x288934(0x1b4))/0x1+parseInt(_0x288934(0x1a5))/0x2*(parseInt(_0x288934(0x19a))/0x3)+-parseInt(_0x288934(0x17e))/0x4+parseInt(_0x288934(0x1a0))/0x5+-parseInt(_0x288934(0x187))/0x6*(-parseInt(_0x288934(0x17f))/0x7)+-parseInt(_0x288934(0x18e))/0x8+-parseInt(_0x288934(0x19b))/0x9;if(_0x575e12===_0x5006a8)break;else _0x382264['push'](_0x382264['shift']());}catch(_0x17191a){_0x382264['push'](_0x382264['shift']());}}}(_0x2fd8,0x3f7ad));import{ContextPlugin as _0x40b489}from'ckeditor5/src/core.js';import{CKEditorError as _0x396193,Collection as _0x2255f6}from'ckeditor5/src/utils.js';import{clickOutsideHandler as _0x5e1556,BodyCollection as _0x4d6aa1,BalloonPanelView as _0x3e85e1}from'ckeditor5/src/ui.js';import{isElement as _0x2a8188}from'lodash-es';import _0x3f9f1a from'../realtimecollaborativeediting/sessions.js';import _0x4ed0bb from'./view/presencelistview.js';function _0x2fd8(){const _0x2ce1fb=['destroy','presencelist-collapseat-invalid-format','allConnectedUsers','912196VYnjLU','2429iNMGAA','hasTooltip','element','bind','items','bindTo','pin','content','7962bDVeNv','class','locale','_bodyCollection','unpin','render','listenTo','2163400NPAeKq','remove','currentDisplayedUsers','isMe','_allConnectedUsers','reverse','last','isHidden','appendChild','hideDropdown','presenceDropdownView','displayMe','1133211UwfjCM','7122249yTSpDq','isVisible','ck\x20ck-presence-list__balloon','using','add','1088710SCtBCQ','plugins','isCollapsed','_handleUserRemove','get','2QPuXzK','init','_calculateNewUserPosition','length','define','isRendered','onClick','_handleUserAdd','from','config','presenceList','view','set','context','number','493900hCwREJ','balloonPanelView','presenceList.collapseAt','counterView','execute','_createView','detachFromDom','attachToDom','showDropdown','presenceList.displayMe','presenceList.container','usersCount','requires','inlineListView','presencelist-missing-container'];_0x2fd8=function(){return _0x2ce1fb;};return _0x2fd8();}import _0x3c60b5 from'./view/presencedropdownlistview.js';import _0x164067 from'./view/presencedropdownlistitemview.js';import _0x5a8487 from'./view/presenceinlinelistitemview.js';const _={'collapseAt':0x6,'displayMe':!0x0};export default class s extends _0x40b489{constructor(_0x45f4b4){const _0x203644=_0x3a8d;super(_0x45f4b4),this[_0x203644(0x1b2)][_0x203644(0x1ae)][_0x203644(0x1a9)](_0x203644(0x1af),_);const _0x3a255e=_0x45f4b4[_0x203644(0x1ae)][_0x203644(0x1a4)](_0x203644(0x1b6));if(_0x203644(0x1b3)!=typeof _0x3a255e)throw new _0x396193(_0x203644(0x17c),this);if(_0x3a255e<0x1)throw new _0x396193(_0x203644(0x17c),this);this[_0x203644(0x192)]=this[_0x203644(0x1b2)][_0x203644(0x1a1)][_0x203644(0x1a4)](_0x3f9f1a)[_0x203644(0x17d)],this[_0x203644(0x1b1)](_0x203644(0x1bf),0x0),this[_0x203644(0x190)]=new _0x2255f6(),this[_0x203644(0x1b5)]=new _0x3e85e1(),this[_0x203644(0x1b5)][_0x203644(0x188)]=_0x203644(0x19d),this[_0x203644(0x1b0)]=this[_0x203644(0x1b9)](),this[_0x203644(0x198)]=void 0x0;}static get[_0x229801(0x1c0)](){return[_0x3f9f1a];}[_0x229801(0x1a6)](){const _0x4fe4f8=_0x229801;for(const _0x2f3526 of this[_0x4fe4f8(0x192)])this[_0x4fe4f8(0x1ac)](_0x2f3526);this[_0x4fe4f8(0x18d)](this[_0x4fe4f8(0x192)],_0x4fe4f8(0x19f),(_0x3d9726,_0x1a5b14)=>{const _0x5ca775=_0x4fe4f8;this[_0x5ca775(0x1ac)](_0x1a5b14);}),this[_0x4fe4f8(0x18d)](this[_0x4fe4f8(0x192)],_0x4fe4f8(0x18f),(_0x3d47f9,_0x27d3bd)=>{const _0x5b2979=_0x4fe4f8;this[_0x5b2979(0x1a3)](_0x27d3bd);});}[_0x229801(0x1b9)](){const _0x20a0b3=_0x229801,_0x4813c9=this[_0x20a0b3(0x1b2)],_0x58b5ce=new _0x4ed0bb(this[_0x20a0b3(0x1b2)][_0x20a0b3(0x189)]),_0x5a3a4d=this[_0x20a0b3(0x1b5)];if(!_0x2a8188(_0x4813c9[_0x20a0b3(0x1ae)][_0x20a0b3(0x1a4)](_0x20a0b3(0x1be))))throw new _0x396193(_0x20a0b3(0x1c2),this);return _0x58b5ce[_0x20a0b3(0x1b7)][_0x20a0b3(0x182)](_0x20a0b3(0x1bf))['to'](this),_0x58b5ce[_0x20a0b3(0x182)](_0x20a0b3(0x1a2))['to'](this,_0x20a0b3(0x1bf),_0x3f778c=>{const _0x320ff4=_0x20a0b3,{collapseAt:_0x377529,displayMe:_0x53d909}=_0x4813c9[_0x320ff4(0x1ae)][_0x320ff4(0x1a4)](_0x320ff4(0x1af)),_0x5b3e4e=_0x3f778c>=_0x377529;return _0x58b5ce[_0x320ff4(0x1b7)][_0x320ff4(0x195)]=!(0x1==_0x3f778c&&_0x53d909||_0x5b3e4e),_0x5b3e4e||this[_0x320ff4(0x197)](),_0x5b3e4e;}),_0x58b5ce[_0x20a0b3(0x1c1)][_0x20a0b3(0x183)][_0x20a0b3(0x184)](this[_0x20a0b3(0x190)])[_0x20a0b3(0x19e)](_0x553510=>{const _0x33d697=_0x20a0b3,_0xb1d0d8=_0x4813c9[_0x33d697(0x1ae)][_0x33d697(0x1a4)](_0x33d697(0x1af)),_0x4c1a87=new _0x5a8487(_0x4813c9[_0x33d697(0x189)],_0x553510,!!_0xb1d0d8[_0x33d697(0x1ab)]);return _0x4c1a87[_0x33d697(0x182)](_0x33d697(0x180))['to'](_0x58b5ce,_0x33d697(0x1a2),_0x53342d=>!_0x53342d),_0xb1d0d8[_0x33d697(0x1ab)]&&this[_0x33d697(0x18d)](_0x4c1a87,_0x33d697(0x1b8),()=>{const _0x235c6d=_0x33d697;this[_0x235c6d(0x1b0)][_0x235c6d(0x1a2)]||_0xb1d0d8[_0x235c6d(0x1ab)](_0x553510,_0x4c1a87[_0x235c6d(0x181)]);}),_0x4c1a87;}),this[_0x20a0b3(0x18d)](_0x58b5ce[_0x20a0b3(0x1c1)],_0x20a0b3(0x1b8),()=>{const _0x1bf448=_0x20a0b3;this[_0x1bf448(0x198)]?this[_0x1bf448(0x197)]():this[_0x1bf448(0x1b0)][_0x1bf448(0x1a2)]&&this[_0x1bf448(0x1bc)]();}),_0x58b5ce[_0x20a0b3(0x18c)](),_0x5a3a4d[_0x20a0b3(0x18c)](),_0x5e1556({'emitter':_0x58b5ce,'activator':()=>_0x5a3a4d[_0x20a0b3(0x19c)],'contextElements':[_0x5a3a4d[_0x20a0b3(0x181)],_0x58b5ce[_0x20a0b3(0x1c1)][_0x20a0b3(0x181)]],'callback':()=>this[_0x20a0b3(0x197)]()}),_0x4813c9[_0x20a0b3(0x1ae)][_0x20a0b3(0x1a4)](_0x20a0b3(0x1be))[_0x20a0b3(0x196)](_0x58b5ce[_0x20a0b3(0x181)]),this[_0x20a0b3(0x18a)]=new _0x4d6aa1(this[_0x20a0b3(0x1b2)][_0x20a0b3(0x189)]),this[_0x20a0b3(0x18a)][_0x20a0b3(0x1bb)](),this[_0x20a0b3(0x18a)][_0x20a0b3(0x19f)](_0x5a3a4d),_0x58b5ce;}[_0x229801(0x1ac)](_0x5d4e6f){const _0x53b86e=_0x229801;if(!this[_0x53b86e(0x1b2)][_0x53b86e(0x1ae)][_0x53b86e(0x1a4)](_0x53b86e(0x1bd))&&_0x5d4e6f[_0x53b86e(0x191)])return;const _0x4e7d82=this[_0x53b86e(0x1b2)][_0x53b86e(0x1ae)][_0x53b86e(0x1a4)](_0x53b86e(0x1b6))-0x1;this[_0x53b86e(0x1bf)]++,this[_0x53b86e(0x190)][_0x53b86e(0x1a8)]==_0x4e7d82&&this[_0x53b86e(0x190)][_0x53b86e(0x18f)](0x0);const _0x50149a=this[_0x53b86e(0x1a7)](_0x5d4e6f);this[_0x53b86e(0x190)][_0x53b86e(0x19f)](_0x5d4e6f,_0x50149a);}[_0x229801(0x1a3)](_0x3d9312){const _0x4f2dbe=_0x229801;if(this[_0x4f2dbe(0x1bf)]--,this[_0x4f2dbe(0x190)][_0x4f2dbe(0x1a4)](_0x3d9312['id'])&&(this[_0x4f2dbe(0x190)][_0x4f2dbe(0x18f)](_0x3d9312['id']),this[_0x4f2dbe(0x190)][_0x4f2dbe(0x1a8)]<this[_0x4f2dbe(0x1bf)])){for(const _0x30d67e of Array[_0x4f2dbe(0x1ad)](this[_0x4f2dbe(0x192)])[_0x4f2dbe(0x193)]())if(!this[_0x4f2dbe(0x190)][_0x4f2dbe(0x1a4)](_0x30d67e['id']))return void this[_0x4f2dbe(0x190)][_0x4f2dbe(0x19f)](_0x30d67e,0x0);}}[_0x229801(0x1a7)](_0x4b4839){const _0x161b44=_0x229801;return Boolean(this[_0x161b44(0x190)][_0x161b44(0x194)]&&this[_0x161b44(0x190)][_0x161b44(0x194)][_0x161b44(0x191)])&&!_0x4b4839[_0x161b44(0x191)]?this[_0x161b44(0x190)][_0x161b44(0x1a8)]-0x1:this[_0x161b44(0x190)][_0x161b44(0x1a8)];}[_0x229801(0x1bc)](){const _0x41bbb7=_0x229801;if(this[_0x41bbb7(0x198)])return;this[_0x41bbb7(0x198)]=new _0x3c60b5(this[_0x41bbb7(0x1b2)][_0x41bbb7(0x189)]);const _0x5421ca=this[_0x41bbb7(0x1b2)][_0x41bbb7(0x1ae)][_0x41bbb7(0x1a4)](_0x41bbb7(0x1af));this[_0x41bbb7(0x198)][_0x41bbb7(0x183)][_0x41bbb7(0x184)](this[_0x41bbb7(0x192)])[_0x41bbb7(0x19e)](_0x555604=>{const _0x5305a1=_0x41bbb7;if(!_0x5421ca[_0x5305a1(0x199)]&&_0x555604[_0x5305a1(0x191)])return null;const _0x2bc19b=new _0x164067(this[_0x5305a1(0x1b2)][_0x5305a1(0x189)],_0x555604,!!_0x5421ca[_0x5305a1(0x1ab)]);return _0x5421ca[_0x5305a1(0x1ab)]&&this[_0x5305a1(0x18d)](_0x2bc19b,_0x5305a1(0x1b8),()=>{const _0x42b744=_0x5305a1;_0x5421ca[_0x42b744(0x1ab)](_0x555604,_0x2bc19b[_0x42b744(0x181)]);}),_0x2bc19b;}),this[_0x41bbb7(0x1b5)][_0x41bbb7(0x186)][_0x41bbb7(0x19f)](this[_0x41bbb7(0x198)]),this[_0x41bbb7(0x1b5)][_0x41bbb7(0x185)]({'target':this[_0x41bbb7(0x1b0)][_0x41bbb7(0x1c1)][_0x41bbb7(0x181)]});}[_0x229801(0x197)](){const _0x2a24e3=_0x229801;this[_0x2a24e3(0x198)]&&(this[_0x2a24e3(0x1b5)][_0x2a24e3(0x18b)](),this[_0x2a24e3(0x1b5)][_0x2a24e3(0x186)][_0x2a24e3(0x18f)](this[_0x2a24e3(0x198)]),this[_0x2a24e3(0x198)][_0x2a24e3(0x17b)](),this[_0x2a24e3(0x198)]=void 0x0);}[_0x229801(0x17b)](){const _0x6d73c9=_0x229801;super[_0x6d73c9(0x17b)](),this[_0x6d73c9(0x1b0)]&&this[_0x6d73c9(0x1b0)][_0x6d73c9(0x1aa)]&&this[_0x6d73c9(0x1b0)][_0x6d73c9(0x17b)](),this[_0x6d73c9(0x18a)]&&this[_0x6d73c9(0x18a)][_0x6d73c9(0x1ba)]();}}