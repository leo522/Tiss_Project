/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x108be6=_0x4b13;(function(_0x124c5f,_0x26c377){const _0x1615ba=_0x4b13,_0x553911=_0x124c5f();while(!![]){try{const _0xdd70c6=parseInt(_0x1615ba(0x17b))/0x1+parseInt(_0x1615ba(0x17d))/0x2+-parseInt(_0x1615ba(0x178))/0x3*(-parseInt(_0x1615ba(0x1af))/0x4)+parseInt(_0x1615ba(0x176))/0x5*(parseInt(_0x1615ba(0x14d))/0x6)+-parseInt(_0x1615ba(0x19f))/0x7+-parseInt(_0x1615ba(0x18c))/0x8+-parseInt(_0x1615ba(0x169))/0x9*(parseInt(_0x1615ba(0x18b))/0xa);if(_0xdd70c6===_0x26c377)break;else _0x553911['push'](_0x553911['shift']());}catch(_0x595ef9){_0x553911['push'](_0x553911['shift']());}}}(_0x22ad,0xf1fc7));import{Plugin as _0x2055d5}from'ckeditor5/src/core.js';function _0x22ad(){const _0x491e3e=['authors','_getLatestVersionFromServerOperations','baseVersion','reconnect','currentRevision','_revisionDataBuilder','_revisions','buildRevisionData','fromVersion','connected','state','setSource','_createCurrentRevision','4220132NbvggR','isEmptyCurrent','length','addRevisionData','_preventResendingRevisionData','wrongRequestId','creatorId','reverse','isEnabled','has','sessionId','addUser','then','adapter','cloud-services-internal-error:\x20Revision\x20History\x20Service\x20is\x20not\x20connected.','remove','742956rdoHia','isConnected','_lastRequestId','createdAt','setRevisionData','cloud-services-internal-error:\x20Request\x20timeout.','once','_isConnected','connect','_bufferedUpdates','_startingVersion','_fetchMissingUsers','listenTo','336uWkBhg','_oldOffset','repository','message','marker','plugins','data','cloudServices.bundleVersion','bind','getRevision','keys','off','isBundleUploaded','toVersion','map','RevisionTracker','_revisionTracker','get','_revisionHistoryService','editor','getUser','cloud-services-internal-error:\x20Not\x20connected.','max','config','from','_isPendingUpdate','destroy','_getLatestVersion','10067373piuBcX','getMany','_handleRevisionsUpdate','catch','getRevisions','connection','startsWith','code','revisionsUpdated','serverHistory','_update','_bufferUpdate','addToReconnectionStack','50730vMPCLE','400','18DuXInJ','updateRevisions','change:_isPendingUpdate','1934255EpWOMO','sendBufferedUpdates','887386rgYZdL','CONNECTED','_handleReconnectionError','_waitForServiceReady','_fixRevision','RevisionHistoryService','change:_isConnected','type','reInit','getOperations','add','size','requires','authorsIds','20gUyWwW','1834504joJVXu','diffData','init','affectsData','collaboration.channelId','_offset'];_0x22ad=function(){return _0x491e3e;};return _0x22ad();}import{version as _0x23ebf9}from'ckeditor5/src/utils.js';import{Users as _0x1ba44e}from'ckeditor5-collaboration/src/collaboration-core.js';import _0x3e7eef from'../realtimecollaborativeediting/realtimecollaborationclient.js';function _0x4b13(_0x1a6c90,_0x5a5f72){const _0x22ad80=_0x22ad();return _0x4b13=function(_0x4b13d3,_0x4d3bf2){_0x4b13d3=_0x4b13d3-0x147;let _0x429c9a=_0x22ad80[_0x4b13d3];return _0x429c9a;},_0x4b13(_0x1a6c90,_0x5a5f72);}import _0x2bc6fd from'../realtimecollaborativeediting/websocketgateway.js';import _0x291826 from'../realtimecollaborativeediting/sessions.js';import{EditorService as _0x410c0d,RevisionHistoryService as _0x3b4a2f,User as _0x11ed51,WEB_SOCKET_GATEWAY_STATES as _0x46e383}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';class v extends _0x2055d5{static get[_0x108be6(0x189)](){const _0x27d1b3=_0x108be6;return[_0x2bc6fd,_0x3e7eef,_0x27d1b3(0x15c),_0x291826,_0x1ba44e];}constructor(_0x172606){const _0x117e1f=_0x108be6;super(_0x172606);const _0x26701d=this[_0x117e1f(0x160)][_0x117e1f(0x164)][_0x117e1f(0x15e)](_0x117e1f(0x190));this[_0x117e1f(0x1b1)]=null,this[_0x117e1f(0x15d)]=this[_0x117e1f(0x160)][_0x117e1f(0x152)][_0x117e1f(0x15e)](_0x117e1f(0x15c)),this[_0x117e1f(0x15f)]=new v[(_0x117e1f(0x182))](_0x26701d);}async[_0x108be6(0x18e)](){const _0x29dac8=_0x108be6,_0x4dc05d=this[_0x29dac8(0x160)][_0x29dac8(0x152)][_0x29dac8(0x15e)](_0x3e7eef),_0x49be9b=_0x4dc05d[_0x29dac8(0x172)],_0xf6bbf7=this[_0x29dac8(0x160)][_0x29dac8(0x152)][_0x29dac8(0x15e)](_0x2bc6fd);this[_0x29dac8(0x15d)][_0x29dac8(0x19d)]({'history':_0x49be9b,'getLatestVersion':()=>this[_0x29dac8(0x168)](),'getCurrentRevisionId':()=>_0x4dc05d[_0x29dac8(0x1a9)]});const _0x1f3149=this[_0x29dac8(0x160)][_0x29dac8(0x164)][_0x29dac8(0x15e)](_0x29dac8(0x154))||_0x23ebf9,_0x3fb30f=await _0x410c0d[_0x29dac8(0x159)](_0xf6bbf7[_0x29dac8(0x16e)],_0x1f3149);this[_0x29dac8(0x15d)][_0x29dac8(0x1ac)]={'getRevision':async({revisionId:_0x5ffa4d})=>(await this[_0x29dac8(0x180)](),await this[_0x29dac8(0x15f)][_0x29dac8(0x156)](_0x5ffa4d)),'updateRevisions':async _0x13d5cb=>{const _0x272907=_0x29dac8;await this[_0x272907(0x180)]();const _0x3aa61b=this[_0x272907(0x15d)][_0x272907(0x196)];if(_0x3fb30f&&0x1===_0x13d5cb[_0x272907(0x1a1)]&&_0x13d5cb[0x0]['id']===_0x3aa61b['id'])return _0x13d5cb;for(const _0x2158cb of _0x13d5cb)_0x2158cb['id']===_0x3aa61b['id']&&(_0x2158cb[_0x272907(0x1a0)]=_0x2158cb[_0x272907(0x19a)]===_0x2158cb[_0x272907(0x15a)]);return this[_0x272907(0x15f)][_0x272907(0x179)](_0x13d5cb,this[_0x272907(0x1b1)])[_0x272907(0x1ab)](_0x2f3aa6=>(this[_0x272907(0x1b1)]=_0x2f3aa6,_0x13d5cb))[_0x272907(0x16c)](_0xee9c2e=>{const _0x53737f=_0x272907;if(st(_0xee9c2e)||_0x53737f(0x177)===_0xee9c2e[_0x53737f(0x170)]&&void 0x0!==_0xee9c2e[_0x53737f(0x153)][_0x53737f(0x1a4)]){for(const _0x4c3614 of _0x13d5cb){!this[_0x53737f(0x15d)][_0x53737f(0x14f)][_0x53737f(0x156)](_0x4c3614['id'])||this[_0x53737f(0x15d)][_0x53737f(0x174)](_0x4c3614['id'],_0x4c3614,!0x1);}if(st(_0xee9c2e))throw _0xee9c2e;return _0x13d5cb;}throw _0xee9c2e;});}},this[_0x29dac8(0x14c)](this[_0x29dac8(0x15f)],_0x29dac8(0x171),(_0x7c8ee7,{revisionsData:_0x59dbab,requestId:_0x1aaf46})=>{const _0xf0a050=_0x29dac8;Math[_0xf0a050(0x163)](..._0x59dbab[_0xf0a050(0x15b)](_0x4865fc=>_0x4865fc[_0xf0a050(0x15a)]))>this[_0xf0a050(0x193)]()-0x1?this[_0xf0a050(0x168)]()[_0xf0a050(0x1ab)](()=>{const _0x196048=_0xf0a050;this[_0x196048(0x16b)](_0x59dbab,_0x1aaf46);}):this[_0xf0a050(0x16b)](_0x59dbab,_0x1aaf46);});const {revisions:_0x4adbb2,requestId:_0x5c66c3}=await this[_0x29dac8(0x15f)][_0x29dac8(0x148)](_0xf6bbf7[_0x29dac8(0x16e)]);_0xf6bbf7[_0x29dac8(0x175)](this),this[_0x29dac8(0x1b1)]=_0x5c66c3,await this[_0x29dac8(0x14b)](_0x4adbb2);for(const _0x2f1246 of _0x4adbb2)this[_0x29dac8(0x15d)][_0x29dac8(0x1a2)](_0x2f1246);this[_0x29dac8(0x14c)](_0x4dc05d,_0x29dac8(0x183),(_0x2085f9,_0x580480,_0x36f44d)=>{const _0x282b3e=_0x29dac8;_0x36f44d&&(this[_0x282b3e(0x14e)]=_0x4dc05d[_0x282b3e(0x191)],_0x2085f9[_0x282b3e(0x158)]());}),this[_0x29dac8(0x15d)][_0x29dac8(0x155)](_0x29dac8(0x1a7))['to'](_0xf6bbf7,_0x29dac8(0x19c),_0x43066e=>_0x43066e===_0x46e383[_0x29dac8(0x17e)]);}async[_0x108be6(0x195)](){const _0x417eb5=_0x108be6,_0x28bff7=this[_0x417eb5(0x160)][_0x417eb5(0x152)][_0x417eb5(0x15e)](_0x2bc6fd),_0x50c374=this[_0x417eb5(0x160)][_0x417eb5(0x152)][_0x417eb5(0x15e)](_0x3e7eef),_0x14322b=async()=>{const _0x406745=_0x417eb5,_0x58afdd=this[_0x406745(0x15d)][_0x406745(0x196)],_0x29d59c=_0x58afdd['id'],_0x5a1414=_0x29d59c!==_0x50c374[_0x406745(0x1a9)];if(_0x5a1414){const _0x1a386c=_0x50c374[_0x406745(0x191)]-this[_0x406745(0x14e)],_0x3396e3=this[_0x406745(0x193)]();this[_0x406745(0x15d)][_0x406745(0x197)][_0x406745(0x185)]();if(_0x58afdd[_0x406745(0x15a)]+_0x1a386c!==_0x3396e3){const _0x20fe8e=_0x58afdd[_0x406745(0x19a)]+_0x1a386c,_0x5ae4e2=this[_0x406745(0x160)][_0x406745(0x152)][_0x406745(0x15e)](_0x1ba44e),_0x1eac36=this[_0x406745(0x15d)][_0x406745(0x199)]({'revision':_0x58afdd,'from':_0x20fe8e,'to':_0x3396e3});_0x1eac36['id']=_0x58afdd['id'];const _0x22918f=_0x1eac36[_0x406745(0x18a)][_0x406745(0x15b)](_0x356982=>_0x5ae4e2[_0x406745(0x161)](_0x356982));_0x58afdd[_0x406745(0x173)]({..._0x1eac36,'authors':_0x22918f},!0x0),this[_0x406745(0x15d)][_0x406745(0x174)](_0x58afdd['id'],_0x1eac36,!0x0);}this[_0x406745(0x15d)][_0x406745(0x14a)]=_0x3396e3,(_0x58afdd[_0x406745(0x15a)]===_0x58afdd[_0x406745(0x19a)]&&!this[_0x406745(0x15d)][_0x406745(0x149)][_0x406745(0x1a8)](_0x29d59c)&&this[_0x406745(0x15d)][_0x406745(0x14f)][_0x406745(0x198)][_0x406745(0x1ae)](_0x29d59c),this[_0x406745(0x15d)][_0x406745(0x19e)](_0x3396e3));}const {revisions:_0xc801fe,requestId:_0x23fd2c}=await this[_0x406745(0x15f)][_0x406745(0x195)](_0x28bff7[_0x406745(0x16e)],this[_0x406745(0x1b1)]);_0x5a1414&&_0xc801fe[_0x406745(0x1a1)]>0x0?_0x50c374[_0x406745(0x17f)]():(await this[_0x406745(0x14b)](_0xc801fe),this[_0x406745(0x16b)](_0xc801fe,_0x23fd2c),this[_0x406745(0x15d)][_0x406745(0x17c)]());};return _0x50c374[_0x417eb5(0x147)]?_0x14322b():new Promise((_0x47cb7a,_0x59f125)=>{const _0x574e55=_0x417eb5;_0x50c374[_0x574e55(0x1b5)](_0x574e55(0x183),()=>{const _0x1689b7=_0x574e55;_0x14322b()[_0x1689b7(0x1ab)](_0x47cb7a)[_0x1689b7(0x16c)](_0x59f125);});});}[_0x108be6(0x167)](){const _0x50fdd1=_0x108be6;super[_0x50fdd1(0x167)]();}async[_0x108be6(0x180)](){const _0x1ae706=_0x108be6;this[_0x1ae706(0x15f)][_0x1ae706(0x1b0)]||await new Promise(_0x15a35b=>{const _0x2d5d87=_0x1ae706;this[_0x2d5d87(0x14c)](this[_0x2d5d87(0x15f)],_0x2d5d87(0x19b),_0x535bd7=>{const _0x59b301=_0x2d5d87;_0x535bd7[_0x59b301(0x158)](),_0x15a35b();});});}[_0x108be6(0x193)](){const _0x328864=_0x108be6,_0xd84175=this[_0x328864(0x160)][_0x328864(0x152)][_0x328864(0x15e)](_0x3e7eef)[_0x328864(0x172)][_0x328864(0x186)]()[_0x328864(0x1a6)]();for(const _0x2714be of _0xd84175)if(_0x328864(0x151)!==_0x2714be[_0x328864(0x184)]||_0x2714be[_0x328864(0x18f)])return _0x2714be[_0x328864(0x194)]+0x1;}[_0x108be6(0x168)](){const _0x186c1=_0x108be6,_0x419d65=this[_0x186c1(0x160)][_0x186c1(0x152)][_0x186c1(0x15e)](_0x3e7eef);return new Promise(_0x36a6f1=>{const _0x217cb2=_0x186c1;_0x419d65[_0x217cb2(0x166)]?_0x419d65[_0x217cb2(0x1b5)](_0x217cb2(0x17a),()=>{const _0x2a8a53=_0x217cb2;_0x36a6f1(this[_0x2a8a53(0x193)]());}):_0x36a6f1(this[_0x217cb2(0x193)]());});}[_0x108be6(0x16b)](_0x57e641,_0x469964){const _0x3986c0=_0x108be6,_0x3c848a=this[_0x3986c0(0x15d)][_0x3986c0(0x14f)];this[_0x3986c0(0x1b1)]=_0x469964;for(const _0x35ad9a of _0x57e641){const _0x42908d=_0x3c848a[_0x3986c0(0x156)](_0x35ad9a['id']);if(_0x42908d){if((_0x35ad9a[_0x3986c0(0x19a)]||_0x35ad9a[_0x3986c0(0x15a)])&&(_0x35ad9a[_0x3986c0(0x18d)]=null),_0x42908d===this[_0x3986c0(0x15d)][_0x3986c0(0x196)]){const _0x15d62d=Math[_0x3986c0(0x163)](_0x42908d[_0x3986c0(0x15a)],_0x35ad9a[_0x3986c0(0x15a)]),_0xb07807=Math[_0x3986c0(0x163)](_0x42908d[_0x3986c0(0x19a)],_0x35ad9a[_0x3986c0(0x19a)]);let _0x267bb8;_0x42908d[_0x3986c0(0x15a)]===_0x35ad9a[_0x3986c0(0x15a)]&&_0x42908d[_0x3986c0(0x19a)]===_0x35ad9a[_0x3986c0(0x19a)]?(_0x267bb8=!0x0,this[_0x3986c0(0x1a3)](_0x35ad9a)):_0x35ad9a[_0x3986c0(0x15a)]===_0x15d62d&&_0x35ad9a[_0x3986c0(0x19a)]===_0xb07807?_0x267bb8=!0x1:(_0x42908d[_0x3986c0(0x15a)]===_0x15d62d&&_0x42908d[_0x3986c0(0x19a)]===_0xb07807||this[_0x3986c0(0x181)]({'revision':_0x42908d,'from':_0xb07807,'to':_0x15d62d}),_0x267bb8=!0x0),_0x267bb8&&(delete _0x35ad9a[_0x3986c0(0x19a)],delete _0x35ad9a[_0x3986c0(0x15a)],delete _0x35ad9a[_0x3986c0(0x18d)],delete _0x35ad9a[_0x3986c0(0x1b2)],delete _0x35ad9a[_0x3986c0(0x18a)]);}this[_0x3986c0(0x15d)][_0x3986c0(0x1b3)](_0x35ad9a),this[_0x3986c0(0x1a3)](_0x35ad9a);}else this[_0x3986c0(0x15d)][_0x3986c0(0x1a2)](_0x35ad9a);}const _0x32b25d=_0x3c848a[_0x3986c0(0x16d)]();_0x32b25d[_0x3986c0(0x1a6)]();for(let _0x135d7b=0x0;_0x135d7b<_0x32b25d[_0x3986c0(0x1a1)]-0x1;_0x135d7b++){const _0xebef2c=_0x32b25d[_0x135d7b],_0x13cbbe=_0x32b25d[_0x135d7b+0x1];if(_0xebef2c[_0x3986c0(0x19a)]<_0x13cbbe[_0x3986c0(0x15a)]){const _0x2d20be=_0x13cbbe[_0x3986c0(0x15a)],_0x253cf4=Math[_0x3986c0(0x163)](_0x2d20be,_0xebef2c[_0x3986c0(0x15a)]);this[_0x3986c0(0x181)]({'revision':_0xebef2c,'from':_0x2d20be,'to':_0x253cf4});}}}[_0x108be6(0x181)]({revision:_0x10a108,from:_0x24529c,to:_0x40f82c}={}){const _0x163f66=_0x108be6,_0x24b3e5=this[_0x163f66(0x160)][_0x163f66(0x152)][_0x163f66(0x15e)](_0x1ba44e),_0x1bf604=this[_0x163f66(0x15d)][_0x163f66(0x199)]({'revision':_0x10a108,'from':_0x24529c,'to':_0x40f82c});_0x1bf604[_0x163f66(0x192)]=_0x1bf604[_0x163f66(0x18a)][_0x163f66(0x15b)](_0x3b438c=>_0x24b3e5[_0x163f66(0x161)](_0x3b438c)),_0x10a108[_0x163f66(0x173)](_0x1bf604);}[_0x108be6(0x1a3)](_0x9ccb76){const _0x3aa783=_0x108be6,_0x1f8016={};_0x1f8016['id']=_0x9ccb76['id'];for(const _0x1d09be of Object[_0x3aa783(0x157)](_0x9ccb76))'id'!==_0x1d09be&&(_0x1f8016[_0x1d09be]=void 0x0);this[_0x3aa783(0x15d)][_0x3aa783(0x174)](_0x1f8016['id'],_0x1f8016,!0x0);}async[_0x108be6(0x14b)](_0x3f0c2a){const _0x256088=_0x108be6,_0x5af542=this[_0x256088(0x160)][_0x256088(0x152)][_0x256088(0x15e)](_0x1ba44e),{connection:_0x192ed1}=this[_0x256088(0x160)][_0x256088(0x152)][_0x256088(0x15e)](_0x2bc6fd),_0x5e18d8=new Set();for(const _0x5e1db5 of _0x3f0c2a){for(const _0x1a28c3 of _0x5e1db5[_0x256088(0x18a)])_0x26fca0(_0x1a28c3);_0x5e1db5[_0x256088(0x1a5)]&&_0x26fca0(_0x5e1db5[_0x256088(0x1a5)]);}if(0x0===_0x5e18d8[_0x256088(0x188)])return;const _0x5675be=await _0x11ed51[_0x256088(0x16a)](_0x192ed1,Array[_0x256088(0x165)](_0x5e18d8));for(const _0x3fc178 of _0x5675be)_0x5af542[_0x256088(0x161)](_0x3fc178['id'])||_0x5af542[_0x256088(0x1aa)](_0x3fc178);function _0x26fca0(_0x3ad9a4){const _0x3d280a=_0x256088;_0x5af542[_0x3d280a(0x161)](_0x3ad9a4)||_0x5e18d8[_0x3d280a(0x187)](_0x3ad9a4);}}}v[_0x108be6(0x182)]=_0x3b4a2f;export default v;function st(_0x3f1cd6){const _0x105fff=_0x108be6;return _0x3f1cd6[_0x105fff(0x150)][_0x105fff(0x16f)](_0x105fff(0x1ad))||_0x3f1cd6[_0x105fff(0x150)][_0x105fff(0x16f)](_0x105fff(0x162))||_0x3f1cd6[_0x105fff(0x150)][_0x105fff(0x16f)](_0x105fff(0x1b4));}