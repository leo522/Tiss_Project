/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3fa819=_0x4f34;function _0x4f34(_0x5042b7,_0x3f6f3b){const _0xa71bc4=_0xa71b();return _0x4f34=function(_0x4f344b,_0x5ae964){_0x4f344b=_0x4f344b-0xaf;let _0x5e160f=_0xa71bc4[_0x4f344b];return _0x5e160f;},_0x4f34(_0x5042b7,_0x3f6f3b);}(function(_0x5e9ad1,_0x5b669a){const _0xbe4985=_0x4f34,_0x114f96=_0x5e9ad1();while(!![]){try{const _0x5b39d5=parseInt(_0xbe4985(0xff))/0x1*(parseInt(_0xbe4985(0xb2))/0x2)+-parseInt(_0xbe4985(0xc2))/0x3*(parseInt(_0xbe4985(0xdb))/0x4)+parseInt(_0xbe4985(0x107))/0x5+parseInt(_0xbe4985(0xbd))/0x6+parseInt(_0xbe4985(0xd2))/0x7*(parseInt(_0xbe4985(0xc1))/0x8)+-parseInt(_0xbe4985(0xe8))/0x9+parseInt(_0xbe4985(0xd3))/0xa;if(_0x5b39d5===_0x5b669a)break;else _0x114f96['push'](_0x114f96['shift']());}catch(_0x596dd7){_0x114f96['push'](_0x114f96['shift']());}}}(_0xa71b,0xea515));import{FocusTracker as _0x217028,KeystrokeHandler as _0x34c833}from'ckeditor5/src/utils.js';import{View as _0x1236e1,FocusCycler as _0x3c18e2,createLabeledTextarea as _0x4d275f}from'ckeditor5/src/ui.js';function _0xa71b(){const _0x28ae14=['finishProcessing','delegate','tab','isVisible','toolbar','execute','32056mgzWEZ','submit','add','reset','listenTo','focusNext','_createPromptView','search','5109605OukIzk','ck-ai-form','copyButtonView','fire','8KmvONK','startProcessing','div','AI_ERROR_FAILED','text','_createHistoryView','element','submitPrompt','focusPrevious','focusCycler','_createToolbar','259410vXOESv','isProcessing','_focusables','_promptHistory','8kWfOdB','426885SjUwHN','handleError','Empty\x20history','set','replaceButton','bindTemplate','insertButton','stopButton','forwardCycle','Ask\x20AI\x20to\x20improve\x20generated\x20text','mainAction','stopProcessing','isEnabled','label','focusFirst','prompt','6080179JOeNjZ','4174330JqldlA','replaceContent','stop','Ask\x20AI\x20and\x20your\x20prompts\x20will\x20be\x20listed\x20here\x20for\x20you\x20to\x20use\x20later.','promptView','fieldView','Ask\x20AI\x20to\x20edit\x20or\x20generate','tryAgainButton','8ydrVhH','shift\x20+\x20tab','render','ck-ai-form-content','historyGroupView','contentArea','backwardCycle','createCollection','focusLast','errorView','isError','keystrokes','bindTo','11115495BjhZyH','ck-hidden','focus','locale','value','insertContentBelow','setTemplate','focusTracker','tryAgainEvent','trim','bind','queryView','REPLACE','high','clearHistory','items','clear'];_0xa71b=function(){return _0x28ae14;};return _0xa71b();}import _0x3de3b9,{AIFormToolbarViewMainActionLabel as _0x1ab84a}from'./aiformtoolbarview.js';import _0x58001a from'./aiformcontentarea.js';import _0x3c63b0 from'./aiformerrorview.js';import _0x58c091 from'./aiformpromptview.js';import _0x18051a from'./aihistorylistview.js';import _0x161b01 from'./aihistorylistitemview.js';import _0x444405 from'./prompthistory.js';import{getTranslation as _0x29580b}from'../../utils/common-translations.js';import{escape as _0x4a7565}from'lodash-es';export default class x extends _0x1236e1{constructor(_0x176346,_0x1df3d9,_0x5b74dc=''){const _0x2b0502=_0x4f34;super(_0x176346),this[_0x2b0502(0xc5)](_0x2b0502(0xce),!0x0),this[_0x2b0502(0xc5)](_0x2b0502(0xbe),!0x1),this[_0x2b0502(0xc5)](_0x2b0502(0xd1),''),this[_0x2b0502(0xc5)](_0x2b0502(0xec),''),this[_0x2b0502(0xc5)](_0x2b0502(0xe5),!0x1),this[_0x2b0502(0xc5)](_0x2b0502(0xcc),_0x1ab84a[_0x2b0502(0xf4)]),this[_0x2b0502(0xc0)]=new _0x444405(),this[_0x2b0502(0xe4)]=new _0x3c63b0(_0x176346),this[_0x2b0502(0xe0)]=new _0x58001a(_0x176346,_0x5b74dc),this[_0x2b0502(0xe0)][_0x2b0502(0xf2)](_0x2b0502(0xbe))['to'](this),this[_0x2b0502(0xe0)][_0x2b0502(0xf2)](_0x2b0502(0xec))['to'](this),this[_0x2b0502(0xfd)]=this[_0x2b0502(0xbc)](),this[_0x2b0502(0xfd)][_0x2b0502(0xf2)](_0x2b0502(0xcc))['to'](this),this[_0x2b0502(0xd7)]=this[_0x2b0502(0x105)](),this[_0x2b0502(0xef)]=new _0x217028(),this[_0x2b0502(0xe6)]=new _0x34c833(),this[_0x2b0502(0xbf)]=this[_0x2b0502(0xe2)]([this[_0x2b0502(0xe0)],this[_0x2b0502(0xe0)][_0x2b0502(0xb0)],this[_0x2b0502(0xfd)],this[_0x2b0502(0xd7)]]),this[_0x2b0502(0xbb)]=new _0x3c18e2({'focusables':this[_0x2b0502(0xbf)],'focusTracker':this[_0x2b0502(0xef)],'keystrokeHandler':this[_0x2b0502(0xe6)],'actions':{'focusPrevious':_0x2b0502(0xdc),'focusNext':_0x2b0502(0xfb)}}),this[_0x2b0502(0xd7)][_0x2b0502(0xbb)]['on'](_0x2b0502(0xca),_0x3e4f9e=>{const _0x5266d4=_0x2b0502;this[_0x5266d4(0xbb)][_0x5266d4(0x104)](),_0x3e4f9e[_0x5266d4(0xd5)]();}),this[_0x2b0502(0xd7)][_0x2b0502(0xbb)]['on'](_0x2b0502(0xe1),_0x3863e4=>{const _0x3c30c6=_0x2b0502;this[_0x3c30c6(0xbb)][_0x3c30c6(0xba)](),_0x3863e4[_0x3c30c6(0xd5)]();}),this[_0x2b0502(0xd7)][_0x2b0502(0xf3)][_0x2b0502(0xd8)][_0x2b0502(0xf2)](_0x2b0502(0xec))['to'](this,_0x2b0502(0xd1));const _0x3d8ae5=this[_0x2b0502(0xc7)];this[_0x2b0502(0xee)]({'tag':_0x2b0502(0xb4),'attributes':{'class':['ck',_0x2b0502(0xaf),_0x1df3d9],'tabindex':'-1'},'children':[{'tag':_0x2b0502(0xb4),'attributes':{'class':['ck',_0x2b0502(0xde)]},'children':[{'tag':_0x2b0502(0xb4),'attributes':{'class':[_0x3d8ae5['if'](_0x2b0502(0xe5),_0x2b0502(0xe9),_0x30d927=>!_0x30d927)]},'children':[this[_0x2b0502(0xe4)]]},this[_0x2b0502(0xe0)],this[_0x2b0502(0xfd)],this[_0x2b0502(0xd7)]]}]});}[_0x3fa819(0xdd)](){const _0x3e4b0a=_0x3fa819;super[_0x3e4b0a(0xdd)](),this[_0x3e4b0a(0xef)][_0x3e4b0a(0x101)](this[_0x3e4b0a(0xe0)][_0x3e4b0a(0xb8)]),this[_0x3e4b0a(0xef)][_0x3e4b0a(0x101)](this[_0x3e4b0a(0xe0)][_0x3e4b0a(0xb0)][_0x3e4b0a(0xb8)]),this[_0x3e4b0a(0xef)][_0x3e4b0a(0x101)](this[_0x3e4b0a(0xfd)][_0x3e4b0a(0xb8)]),this[_0x3e4b0a(0xef)][_0x3e4b0a(0x101)](this[_0x3e4b0a(0xd7)][_0x3e4b0a(0xb8)]),this[_0x3e4b0a(0xe6)][_0x3e4b0a(0x103)](this[_0x3e4b0a(0xb8)]);}[_0x3fa819(0xea)](_0x26bdbd=0x1){const _0x338845=_0x3fa819;-0x1===_0x26bdbd?this[_0x338845(0xbb)][_0x338845(0xe3)]():this[_0x338845(0xbb)][_0x338845(0xd0)]();}[_0x3fa819(0x102)](){const _0x45012b=_0x3fa819;this[_0x45012b(0xd1)]='',this[_0x45012b(0xec)]='',this[_0x45012b(0xe5)]=!0x1,this[_0x45012b(0xd7)][_0x45012b(0x102)](),this[_0x45012b(0xe0)][_0x45012b(0xfc)]=!0x1,this[_0x45012b(0xfd)][_0x45012b(0xfc)]=!0x1;}[_0x3fa819(0x105)](){const _0x522b58=_0x3fa819,_0x3d8ab7=this[_0x522b58(0xeb)],_0xfe56ae=new _0x58c091(_0x3d8ab7,{'queryView':{'label':_0x29580b(_0x3d8ab7,_0x522b58(0xd9)),'creator':_0x4d275f,'showIcon':!0x1,'showResetButton':!0x1},'infoView':{'text':{'noSearchableItems':{'primary':_0x29580b(_0x3d8ab7,_0x522b58(0xc4)),'secondary':_0x29580b(_0x3d8ab7,_0x522b58(0xd6))}}},'filteredView':this[_0x522b58(0xb7)](),'queryMinChars':0x1/0x0,'resetOnBlur':!0x1});return _0xfe56ae[_0x522b58(0xf2)](_0x522b58(0xce))['to'](this,_0x522b58(0xce),this,_0x522b58(0xbe),(_0x4cfe72,_0x282110)=>_0x4cfe72&&!_0x282110),this[_0x522b58(0x103)](_0xfe56ae,_0x522b58(0x100),(_0x35bc5a,_0x5e0278)=>{const _0x374877=_0x522b58;this[_0x374877(0xd1)]=_0x5e0278;const _0x31834b=_0x4a7565(_0x5e0278);this[_0x374877(0xb1)](_0x374877(0xb9),_0x31834b),_0x5e0278[_0x374877(0xf1)]()&&this[_0x374877(0xc0)][_0x374877(0x101)]({'prompt':_0x31834b},0x0);},{'priority':_0x522b58(0xf5)}),_0xfe56ae;}[_0x3fa819(0xb7)](){const _0x15a664=_0x3fa819,_0x30d99d=new _0x18051a(this[_0x15a664(0xeb)]);return _0x30d99d[_0x15a664(0xdf)][_0x15a664(0xf7)][_0x15a664(0xe7)](this[_0x15a664(0xc0)])['as'](_0x161b01),_0x30d99d['on'](_0x15a664(0xf6),()=>{const _0xee04b9=_0x15a664;this[_0xee04b9(0xc0)][_0xee04b9(0xf8)](),this[_0xee04b9(0xd7)][_0xee04b9(0x106)](''),this[_0xee04b9(0xd7)][_0xee04b9(0xea)]();}),_0x30d99d;}[_0x3fa819(0xbc)](){const _0x4ba464=_0x3fa819,_0x763211=new _0x3de3b9(this[_0x4ba464(0xeb)]);return _0x763211[_0x4ba464(0xc6)][_0x4ba464(0xf2)](_0x4ba464(0xce))['to'](this,_0x4ba464(0xce),this,_0x4ba464(0xbe),this,_0x4ba464(0xec),(_0x55ec45,_0x584135,_0x511cbf)=>_0x55ec45&&!_0x584135&&!!_0x511cbf),_0x763211[_0x4ba464(0xc6)][_0x4ba464(0xfa)](_0x4ba464(0xfe))['to'](this,_0x4ba464(0xd4)),_0x763211[_0x4ba464(0xc8)][_0x4ba464(0xf2)](_0x4ba464(0xce))['to'](this,_0x4ba464(0xce),this,_0x4ba464(0xbe),this,_0x4ba464(0xec),(_0x33216b,_0x66498d,_0x29c19e)=>_0x33216b&&!_0x66498d&&!!_0x29c19e),_0x763211[_0x4ba464(0xc8)][_0x4ba464(0xfa)](_0x4ba464(0xfe))['to'](this,_0x4ba464(0xed)),_0x763211[_0x4ba464(0xda)][_0x4ba464(0xf2)](_0x4ba464(0xce))['to'](this,_0x4ba464(0xce),this,_0x4ba464(0xbe),(_0x38f254,_0x3efcd5)=>_0x38f254&&!_0x3efcd5),_0x763211[_0x4ba464(0xda)][_0x4ba464(0xfa)](_0x4ba464(0xfe))['to'](this,_0x4ba464(0xf0)),_0x763211[_0x4ba464(0xc9)][_0x4ba464(0xf2)](_0x4ba464(0xce))['to'](this,_0x4ba464(0xbe)),_0x763211[_0x4ba464(0xc9)][_0x4ba464(0xfa)](_0x4ba464(0xfe))['to'](this,_0x4ba464(0xcd)),_0x763211;}[_0x3fa819(0xb3)](){const _0x1b296d=_0x3fa819;this[_0x1b296d(0xec)]='',this[_0x1b296d(0xe5)]=!0x1,this[_0x1b296d(0xbe)]=!0x0,this[_0x1b296d(0xe0)][_0x1b296d(0xfc)]=!0x0,this[_0x1b296d(0xfd)][_0x1b296d(0xfc)]=!0x0,this[_0x1b296d(0xe0)][_0x1b296d(0xea)]();}[_0x3fa819(0xf9)](){const _0x3e731f=_0x3fa819,_0x2c3a22=this[_0x3e731f(0xeb)];this[_0x3e731f(0xbe)]=!0x1,this[_0x3e731f(0xd1)]='',this[_0x3e731f(0xd7)][_0x3e731f(0x102)](),this[_0x3e731f(0xec)]&&(this[_0x3e731f(0xd7)][_0x3e731f(0xf3)][_0x3e731f(0xcf)]=_0x29580b(_0x2c3a22,_0x3e731f(0xcb)));}[_0x3fa819(0xc3)](_0x16f8ee){const _0x338b23=_0x3fa819,_0x51e8ac=this[_0x338b23(0xeb)];this[_0x338b23(0xf9)](),this[_0x338b23(0xe5)]=!0x0,this[_0x338b23(0xe4)][_0x338b23(0xb6)]=_0x16f8ee||_0x29580b(_0x51e8ac,_0x338b23(0xb5)),this[_0x338b23(0xec)]||(this[_0x338b23(0xe0)][_0x338b23(0xfc)]=!0x1);}}