/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x598ab7=_0x4b98;(function(_0x5b9a2d,_0x206b5d){const _0x8edd07=_0x4b98,_0x29f40a=_0x5b9a2d();while(!![]){try{const _0x53b7ff=parseInt(_0x8edd07(0xa6))/0x1*(-parseInt(_0x8edd07(0xd8))/0x2)+-parseInt(_0x8edd07(0x82))/0x3*(parseInt(_0x8edd07(0xca))/0x4)+parseInt(_0x8edd07(0xb0))/0x5+parseInt(_0x8edd07(0xa9))/0x6+-parseInt(_0x8edd07(0xaa))/0x7*(-parseInt(_0x8edd07(0xce))/0x8)+-parseInt(_0x8edd07(0xb6))/0x9+parseInt(_0x8edd07(0x91))/0xa;if(_0x53b7ff===_0x206b5d)break;else _0x29f40a['push'](_0x29f40a['shift']());}catch(_0x7c1667){_0x29f40a['push'](_0x29f40a['shift']());}}}(_0x5c2d,0x794eb));function _0x4b98(_0x2eda73,_0x3a0d70){const _0x5c2dcf=_0x5c2d();return _0x4b98=function(_0x4b9806,_0x31d69c){_0x4b9806=_0x4b9806-0x7e;let _0x1404ff=_0x5c2dcf[_0x4b9806];return _0x1404ff;},_0x4b98(_0x2eda73,_0x3a0d70);}import{ObservableMixin as _0x20bc36}from'ckeditor5/src/utils.js';import{AIRequestError as _0x31952a}from'../adapters/aiadapter.js';import{Matcher as _0x1504dd,UpcastWriter as _0x443a3a}from'ckeditor5/src/engine.js';const X=new RegExp(/^(.*?)<[a-zA-Z][a-zA-Z0-9_\-.]*[ >]/,'is');function _0x5c2d(){const _0x54c2f4=['previousContext','data','currentResponse','toModel','abort','37256YWWtCE','_stripMarkdownSyntax','previousLabel','once','textAdapter','body','stopListening','length','<h1></h1>','334959FigRXM','tryAgainEvent','div','set:currentContext','handleError','_xmlSerializer','htmlProcessor','previousActionId','processor','stopProcessing','custom','then','finally','view','innerHTML','4642690eCdftQ','listenTo','endsWith','childNodes','reset','submitPrompt','_domParser','text/html','_sanitizationContainer','_parseAndNormalizeContent','previousQuery','exec','_handleQuery','_sanitizeHTML','editing','updateView','domConverter','```html','startProcessing','parseFromString','substring','43aFfIjO','isProcessing','rename','1883730ZnwNOW','210JwkNXi','value','viewToDom','setContentOf','nodeType','destroy','3002085XhSmhh','match','name','editor','stringify','currentContext','4517307imWBXn','remove','document','ELEMENT_NODE','serializeToString','initialContext','push','startsWith','set','message','makeRequest','render','mainAction','element','from','reverse','_normalizeResponseHeadings','isRendered','_isH1TagSupportEnabled','toView','12jCVcos','finishProcessing','catch','trim','201632iIYQmp','```','prompt','querySelector','createElement'];_0x5c2d=function(){return _0x54c2f4;};return _0x5c2d();}export default class k extends/* #__PURE__ -- @preserve */
_0x20bc36(){constructor(_0x1b1c45,_0xe1d77c,_0x4882e8){const _0x2bd77e=_0x4b98;super(),this[_0x2bd77e(0xb3)]=_0x1b1c45,this[_0x2bd77e(0xdc)]=_0xe1d77c,this[_0x2bd77e(0x99)]=document[_0x2bd77e(0xd2)](_0x2bd77e(0x84)),this[_0x2bd77e(0x97)]=new DOMParser(),this[_0x2bd77e(0x87)]=new XMLSerializer(),this[_0x2bd77e(0x8f)]=_0x4882e8,this[_0x2bd77e(0xbe)]({'initialContext':'','currentContext':'','currentResponse':'','previousContext':void 0x0,'previousQuery':void 0x0,'previousLabel':void 0x0,'isProcessing':!0x1}),this['on'](_0x2bd77e(0x85),(_0x152852,_0x5380b9,_0x3999dc)=>{const _0x30921c=_0x2bd77e;this[_0x30921c(0x8f)][_0x30921c(0xab)]=this[_0x30921c(0x9e)](_0x3999dc);}),this[_0x2bd77e(0x92)](this[_0x2bd77e(0x8f)],_0x2bd77e(0x96),(_0x2891d6,_0x2bb14e)=>{const _0x1d61cd=_0x2bd77e,_0x3be8b3=this[_0x1d61cd(0xb5)]||this[_0x1d61cd(0xbb)];this[_0x1d61cd(0x9d)](_0x2bb14e,_0x3be8b3,_0x1d61cd(0x8c));}),this[_0x2bd77e(0x92)](this[_0x2bd77e(0x8f)],_0x2bd77e(0x83),()=>{const _0x23c6b6=_0x2bd77e;this[_0x23c6b6(0x8f)][_0x23c6b6(0xd0)]=this[_0x23c6b6(0xda)],this[_0x23c6b6(0x9d)](this[_0x23c6b6(0x9b)],this[_0x23c6b6(0xd3)],this[_0x23c6b6(0x89)],this[_0x23c6b6(0xda)]);}),this[_0x2bd77e(0x92)](this[_0x2bd77e(0x8f)],_0x2bd77e(0x8b),()=>{const _0x527dfd=_0x2bd77e;this[_0x527dfd(0x8b)]();});}[_0x598ab7(0xaf)](){const _0x1fb76c=_0x598ab7;this[_0x1fb76c(0x7f)]();}async[_0x598ab7(0xa0)]({actionId:_0x46cd4f,query:_0x3e2f68,htmlContent:_0x2ac622,label:_0x38b7fc,mainActionLabel:_0x53639a}){const _0x1f188e=_0x598ab7;this[_0x1f188e(0x8f)][_0x1f188e(0xd0)]=_0x38b7fc,this[_0x1f188e(0x8f)][_0x1f188e(0xc2)]=_0x53639a,this[_0x1f188e(0xbb)]=_0x2ac622,_0x3e2f68&&(this[_0x1f188e(0x8f)][_0x1f188e(0xc7)]?this[_0x1f188e(0x9d)](_0x3e2f68,_0x2ac622,_0x46cd4f,_0x38b7fc):this[_0x1f188e(0x8f)][_0x1f188e(0xdb)](_0x1f188e(0xc1),()=>{const _0x268db4=_0x1f188e;this[_0x268db4(0x9d)](_0x3e2f68,_0x2ac622,_0x46cd4f,_0x38b7fc);}));}[_0x598ab7(0x8b)](){const _0x129534=_0x598ab7;this[_0x129534(0xa7)]&&(this[_0x129534(0xa7)]=!0x1,this[_0x129534(0x8f)][_0x129534(0xcb)](),this[_0x129534(0xdc)][_0x129534(0xd7)]());}[_0x598ab7(0x95)](){const _0x511ff4=_0x598ab7;this[_0x511ff4(0xbb)]='',this[_0x511ff4(0xb5)]='',this[_0x511ff4(0xd5)]='',this[_0x511ff4(0xd3)]='',this[_0x511ff4(0x9b)]='',this[_0x511ff4(0xda)]='',this[_0x511ff4(0x89)]=void 0x0,this[_0x511ff4(0x8f)][_0x511ff4(0x95)](),this[_0x511ff4(0x8b)]();}async[_0x598ab7(0x9d)](_0x100fdc,_0x19d9c1,_0x2ee14e,_0x5e18cf){const _0x1cb146=_0x598ab7;return this[_0x1cb146(0xa7)]=!0x0,this[_0x1cb146(0x8f)][_0x1cb146(0xa3)](),this[_0x1cb146(0xd3)]=_0x19d9c1,this[_0x1cb146(0x9b)]=_0x100fdc,this[_0x1cb146(0xda)]=_0x5e18cf||_0x100fdc,this[_0x1cb146(0x89)]=_0x2ee14e,new Promise(_0x2c1e7a=>{const _0x595864=_0x1cb146;this[_0x595864(0xdc)][_0x595864(0xc0)]({'query':_0x100fdc,'context':_0x19d9c1,'onData':_0x28c5b1=>{const _0x32e283=_0x595864;this[_0x32e283(0xd5)]=_0x28c5b1,this[_0x32e283(0xb5)]=this[_0x32e283(0x9a)](this[_0x32e283(0xd5)]);},'actionId':_0x2ee14e})[_0x595864(0x8d)](()=>{const _0x14b5b3=_0x595864;!this[_0x14b5b3(0xb5)]&&this[_0x14b5b3(0xd5)]&&(this[_0x14b5b3(0xb5)]=this[_0x14b5b3(0x9a)](this[_0x14b5b3(0xd5)],!0x0));})[_0x595864(0xcc)](_0x2f32a8=>{const _0x2aa3ed=_0x595864;_0x2f32a8 instanceof _0x31952a?this[_0x2aa3ed(0x8f)][_0x2aa3ed(0x86)](_0x2f32a8[_0x2aa3ed(0xbf)]):this[_0x2aa3ed(0x8f)][_0x2aa3ed(0x86)](),_0x2c1e7a();})[_0x595864(0x8e)](()=>{const _0x22cb77=_0x595864;this[_0x22cb77(0x8b)](),_0x2c1e7a();});});}[_0x598ab7(0x9a)](_0x19ba32,_0x53d7a7=!0x1){const _0x2c7483=_0x598ab7,_0x36e461=X[_0x2c7483(0x9c)](_0x19ba32);_0x19ba32=_0x36e461?_0x19ba32[_0x2c7483(0xa5)](_0x36e461[0x1][_0x2c7483(0x80)]):_0x19ba32[_0x2c7483(0x80)]<0x64&&!_0x53d7a7?'':this[_0x2c7483(0xd9)](_0x19ba32);const _0x4f9837=this[_0x2c7483(0x97)][_0x2c7483(0xa4)](_0x19ba32,_0x2c7483(0x98));if(_0x36e461){const _0x4354dd=Array[_0x2c7483(0xc4)](_0x4f9837[_0x2c7483(0x7e)][_0x2c7483(0x94)]);_0x4354dd[_0x2c7483(0xc5)]();for(const _0x40feed of _0x4354dd){if(_0x40feed[_0x2c7483(0xae)]==Node[_0x2c7483(0xb9)])break;_0x40feed[_0x2c7483(0xb7)]();}}const _0x37b6bb=this[_0x2c7483(0xb3)][_0x2c7483(0xd4)][_0x2c7483(0x8a)][_0x2c7483(0xc9)](this[_0x2c7483(0x87)][_0x2c7483(0xba)](_0x4f9837[_0x2c7483(0x7e)]));return this[_0x2c7483(0xc8)]()||this[_0x2c7483(0xc6)](_0x37b6bb),this[_0x2c7483(0xb3)][_0x2c7483(0xd4)][_0x2c7483(0xb4)](this[_0x2c7483(0xb3)][_0x2c7483(0xd4)][_0x2c7483(0xd6)](_0x37b6bb));}[_0x598ab7(0xc6)](_0x50fb1b){const _0x4d096c=_0x598ab7,_0x136a65=new _0x443a3a(this[_0x4d096c(0xb3)][_0x4d096c(0x9f)][_0x4d096c(0x8f)][_0x4d096c(0xb8)]),_0x273bde=new _0x1504dd({'name':/^h[1-5]$/}),_0x1197d4=[];let _0x238cc7=!0x1;for(const _0x2b3eef of _0x50fb1b)_0x2b3eef['is'](_0x4d096c(0xc3))&&_0x273bde[_0x4d096c(0xb1)](_0x2b3eef)&&(_0x1197d4[_0x4d096c(0xbc)](_0x2b3eef),'h1'==_0x2b3eef[_0x4d096c(0xb2)]&&(_0x238cc7=!0x0));if(_0x238cc7){for(const _0x4dfa7a of _0x1197d4)_0x136a65[_0x4d096c(0xa8)]('h'+(parseInt(_0x4dfa7a[_0x4d096c(0xb2)][0x1])+0x1),_0x4dfa7a);}}[_0x598ab7(0xc8)](){const _0x11c102=_0x598ab7,{data:_0x22a1b2,editing:_0x2275fb}=this[_0x11c102(0xb3)],_0x361943=_0x22a1b2[_0x11c102(0x88)][_0x11c102(0xc9)](_0x11c102(0x81)),_0x9448b8=_0x22a1b2[_0x11c102(0xc9)](_0x22a1b2[_0x11c102(0xd6)](_0x361943));return!!_0x2275fb[_0x11c102(0x8f)][_0x11c102(0xa1)][_0x11c102(0xac)](_0x9448b8)[_0x11c102(0xd1)]('h1');}[_0x598ab7(0x9e)](_0x5b4602){const _0x1ff131=_0x598ab7;return this[_0x1ff131(0xb3)][_0x1ff131(0x9f)][_0x1ff131(0x8f)][_0x1ff131(0xa1)][_0x1ff131(0xad)](this[_0x1ff131(0x99)],_0x5b4602),this[_0x1ff131(0x99)][_0x1ff131(0x90)];}[_0x598ab7(0xd9)](_0x749b50){const _0x153e99=_0x598ab7,_0x514bd1=_0x749b50[_0x153e99(0xcd)]();return _0x514bd1[_0x153e99(0xbd)](_0x153e99(0xa2))?_0x514bd1[_0x153e99(0x93)](_0x153e99(0xcf))?_0x514bd1[_0x153e99(0xa5)](0x7,_0x514bd1[_0x153e99(0x80)]-0x3):_0x514bd1[_0x153e99(0xa5)](0x7):_0x749b50;}}