/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x50580e=_0x26da;(function(_0x22b184,_0x241aa4){const _0x5abf26=_0x26da,_0x32ea67=_0x22b184();while(!![]){try{const _0x3dd195=-parseInt(_0x5abf26(0x1ec))/0x1+-parseInt(_0x5abf26(0x220))/0x2+-parseInt(_0x5abf26(0x207))/0x3*(-parseInt(_0x5abf26(0x204))/0x4)+-parseInt(_0x5abf26(0x1fb))/0x5*(parseInt(_0x5abf26(0x1eb))/0x6)+parseInt(_0x5abf26(0x210))/0x7*(parseInt(_0x5abf26(0x1f2))/0x8)+-parseInt(_0x5abf26(0x22c))/0x9+-parseInt(_0x5abf26(0x20d))/0xa*(-parseInt(_0x5abf26(0x21f))/0xb);if(_0x3dd195===_0x241aa4)break;else _0x32ea67['push'](_0x32ea67['shift']());}catch(_0x499233){_0x32ea67['push'](_0x32ea67['shift']());}}}(_0x59b1,0xcdcaf));import{default as _0x27755a}from'./aitextadapter.js';import{AIRequestError as _0x331a47}from'./aiadapter.js';function _0x26da(_0x576991,_0xbcc0f6){const _0x59b168=_0x59b1();return _0x26da=function(_0x26da62,_0x1fd9f4){_0x26da62=_0x26da62-0x1eb;let _0x2609e0=_0x59b168[_0x26da62];return _0x2609e0;},_0x26da(_0x576991,_0xbcc0f6);}import{BedrockRuntimeClient as _0x429839,InvokeModelCommand as _0x1a5508,InvokeModelWithResponseStreamCommand as _0x1677dc}from'@aws-sdk/client-bedrock-runtime';function _0x59b1(){const _0x29cda2=['read','3879007ervzaH','2493866MUDvEB','bytes','stringify','filter','Instruction:\x0a','define','getModelFamily','split','ai.aws.bedrockClientConfig','test','anthropic.claude-v2','POST','2377296jEzNIg','abortController','ai.aws.requestParameters','editor','length','_prepareRequestParameters','\x0a<</SYS>>\x0a[INST]\x0a','AWSTextAdapter','generations','_requestHeaders','utf-8','<<SYS>>\x0a','from','bedrock-2023-05-31','pluginName','_prepareRequestHeaders','_getGeneratedText','sendRequest','\x0aYou\x20must\x20keep\x20the\x20text\x20formatting.\x0a\x0aContent:\x0a','34788GXtvRl','592521mDxGUg','json','parse','_bedrockClientConfig','chunk','get','1392584COLipR','ai.aws.apiUrl','_processProxyRequest','Your\x20task\x20is\x20to\x20generate\x20HTML\x20content\x20accordingly\x20to\x20the\x20given\x20instruction.\x20Never\x20include\x20<img>\x20tag\x20in\x20your\x20response\x20even\x20if\x20asked\x20for.\x20Your\x20answer\x20must\x20be\x20a\x20well-structured\x20and\x20properly\x20formatted\x20HTML\x20code.\x20Answer\x20only\x20with\x20the\x20generated\x20HTML\x20content.\x20Do\x20not\x20add\x20any\x20additional\x20remarks\x20or\x20notes.\x20Do\x20not\x20act\x20like\x20a\x20chatbot\x20or\x20a\x20real\x20person.','cohere.command','signal','toString','locale','preparePrompt','1395QiAVkK','Human:\x0a','application/json','utf8','_readAsyncIterableResponse','meta.llama','_processAWSRequest','_requestParameters','generation','76CvRLxR','resolve','anthropic.claude','192057WWTwIM','_apiUrl','text','ai21.j2','getReader','ai.aws.requestHeaders','90fcwFYA','_readStaticResponse','\x0a[/INST]','7onnZIh','Your\x20task\x20is\x20to\x20execute\x20the\x20instruction\x20using\x20the\x20provided\x20HTML\x20content.\x20Follow\x20the\x20instruction\x20closely.\x20Your\x20answer\x20must\x20be\x20a\x20properly\x20formatted\x20HTML\x20code.\x20Do\x20not\x20add\x20any\x20additional\x20remarks\x20or\x20notes.\x20Do\x20not\x20act\x20like\x20a\x20chatbot\x20or\x20a\x20real\x20person.','send','\x0a\x0aAssistant:','_readStreamableResponse','completion','body','data','decode','map','AI_ERROR_UNSUPPORTED_MODEL','config','completions','join'];_0x59b1=function(){return _0x29cda2;};return _0x59b1();}import{getTranslation as _0x474eba}from'../utils/common-translations.js';export default class J extends _0x27755a{static get[_0x50580e(0x23a)](){const _0x3c31fe=_0x50580e;return _0x3c31fe(0x233);}constructor(_0x52281b){const _0xeb84ad=_0x50580e;super(_0x52281b),_0x52281b[_0xeb84ad(0x21b)][_0xeb84ad(0x1f1)](_0xeb84ad(0x22e))||_0x52281b[_0xeb84ad(0x21b)][_0xeb84ad(0x225)](_0xeb84ad(0x22e),{'model':_0xeb84ad(0x22a),'max_tokens_to_sample':0x7d0,'temperature':0x1,'top_p':0x1,'top_k':0xfa,'anthropic_version':_0xeb84ad(0x239),'stream':!0x0}),this[_0xeb84ad(0x208)]=_0x52281b[_0xeb84ad(0x21b)][_0xeb84ad(0x1f1)](_0xeb84ad(0x1f3)),this[_0xeb84ad(0x1ef)]=_0x52281b[_0xeb84ad(0x21b)][_0xeb84ad(0x1f1)](_0xeb84ad(0x228)),this[_0xeb84ad(0x235)]=_0x52281b[_0xeb84ad(0x21b)][_0xeb84ad(0x1f1)](_0xeb84ad(0x20c)),this[_0xeb84ad(0x202)]=_0x52281b[_0xeb84ad(0x21b)][_0xeb84ad(0x1f1)](_0xeb84ad(0x22e));}async[_0x50580e(0x23d)]({query:_0x1a7dff,context:_0x2aede7,onData:_0x2a43bc,actionId:_0x35f7e4}){const _0x174854=_0x50580e,{model:_0x4fa2de,stream:_0x16d06e,..._0x543738}=await this[_0x174854(0x231)](this[_0x174854(0x202)],_0x35f7e4),_0x238f73={'prompt':await this[_0x174854(0x1fa)](_0x1a7dff,_0x2aede7,_0x4fa2de,_0x35f7e4),..._0x543738};this[_0x174854(0x208)]?await this[_0x174854(0x1f4)](_0x238f73,_0x4fa2de,_0x16d06e,_0x2a43bc,_0x35f7e4):await this[_0x174854(0x201)](_0x238f73,_0x4fa2de,_0x16d06e,_0x2a43bc);}async[_0x50580e(0x1fa)](_0x13ac52,_0x423768,_0x30a216,_0x1a256c){const _0x3c9533=_0x50580e;let _0x4f5893,_0x5365ea;return _0x423768?(_0x4f5893=_0x3c9533(0x211),_0x5365ea=_0x3c9533(0x224)+_0x13ac52+_0x3c9533(0x23e)+_0x423768):(_0x4f5893=_0x3c9533(0x1f5),_0x5365ea=_0x13ac52),_0x3c9533(0x200)==this[_0x3c9533(0x226)](_0x30a216)?_0x3c9533(0x237)+_0x4f5893+_0x3c9533(0x232)+_0x5365ea+_0x3c9533(0x20f):_0x3c9533(0x1fc)+_0x4f5893+'\x0a'+_0x5365ea+_0x3c9533(0x213);}[_0x50580e(0x226)](_0xa0b7f4){const _0x3f8cb7=_0x50580e;if(/^anthropic\.claude/[_0x3f8cb7(0x229)](_0xa0b7f4))return _0x3f8cb7(0x206);if(/^ai21\.j2/[_0x3f8cb7(0x229)](_0xa0b7f4))return _0x3f8cb7(0x20a);if(/^cohere\.command/[_0x3f8cb7(0x229)](_0xa0b7f4))return _0x3f8cb7(0x1f6);if(/^meta\.llama/[_0x3f8cb7(0x229)](_0xa0b7f4))return _0x3f8cb7(0x200);throw new _0x331a47(_0x474eba(this[_0x3f8cb7(0x22f)][_0x3f8cb7(0x1f9)],_0x3f8cb7(0x21a),_0xa0b7f4));}async[_0x50580e(0x1f4)](_0x250db7,_0x15b33a,_0x511a4e,_0x3226a5,_0x48a939){const _0x51c5bd=_0x50580e,_0x275c57={'method':_0x51c5bd(0x22b),'headers':await this[_0x51c5bd(0x23b)](this[_0x51c5bd(0x235)],_0x48a939),'body':JSON[_0x51c5bd(0x222)]({..._0x250db7,'model':_0x15b33a,'stream':_0x511a4e}),'signal':this[_0x51c5bd(0x22d)][_0x51c5bd(0x1f7)]},_0x252bd8=await fetch(this[_0x51c5bd(0x208)],_0x275c57);_0x511a4e?await this[_0x51c5bd(0x214)](_0x252bd8,_0x15b33a,_0x3226a5):await this[_0x51c5bd(0x20e)](_0x252bd8,_0x15b33a,_0x3226a5);}async[_0x50580e(0x201)](_0x26d0b1,_0x3c6e32,_0x3bbde8,_0x38d6ab){const _0x2d3635=_0x50580e,_0x1ae4a1=new _0x429839(this[_0x2d3635(0x1ef)]),_0x14baed={'body':JSON[_0x2d3635(0x222)](_0x26d0b1),'contentType':_0x2d3635(0x1fd),'accept':_0x2d3635(0x1fd),'modelId':_0x3c6e32};let _0xf07480;if(_0x3bbde8){const _0x4b8825=new _0x1677dc(_0x14baed);_0xf07480=await _0x1ae4a1[_0x2d3635(0x212)](_0x4b8825,{'abortSignal':this[_0x2d3635(0x22d)][_0x2d3635(0x1f7)]}),await this[_0x2d3635(0x1ff)](_0xf07480,_0x3c6e32,_0x38d6ab);}else{const _0x27a76b=new _0x1a5508(_0x14baed);_0xf07480=await _0x1ae4a1[_0x2d3635(0x212)](_0x27a76b,{'abortSignal':this[_0x2d3635(0x22d)][_0x2d3635(0x1f7)]}),await this[_0x2d3635(0x20e)](_0xf07480,_0x3c6e32,_0x38d6ab);}}async[_0x50580e(0x1ff)](_0x2c6b9d,_0x235baa,_0x19a3bf){const _0x31ebb4=_0x50580e,_0x36155a=_0x2c6b9d[_0x31ebb4(0x216)],_0x195fa2=new TextDecoder(_0x31ebb4(0x236));let _0x54f311='';for await(const _0x2c6550 of _0x36155a)if(_0x2c6550[_0x31ebb4(0x1f0)]){const _0x2e1dbc=_0x195fa2[_0x31ebb4(0x218)](_0x2c6550[_0x31ebb4(0x1f0)][_0x31ebb4(0x221)]),_0x27d5bb=JSON[_0x31ebb4(0x1ee)](_0x2e1dbc);_0x54f311+=this[_0x31ebb4(0x23c)](_0x27d5bb,_0x235baa),_0x19a3bf(_0x54f311);}return Promise[_0x31ebb4(0x205)]();}async[_0x50580e(0x214)](_0x5d1738,_0x2bfd36,_0x369a06){const _0x2afc9e=_0x50580e,_0x5d24cc=_0x5d1738[_0x2afc9e(0x216)],_0x5f4396=new TextDecoder(_0x2afc9e(0x236)),_0xa6006b=_0x5d24cc[_0x2afc9e(0x20b)]();let _0x556ab6='',_0x22a281='',_0x365d85=!0x1;for(;!_0x365d85;){const {done:_0x1a0f1e,value:_0x283600}=await _0xa6006b[_0x2afc9e(0x21e)]();if(_0x365d85=_0x1a0f1e,_0x365d85)break;const _0x19bd50=(_0x556ab6+_0x5f4396[_0x2afc9e(0x218)](_0x283600))[_0x2afc9e(0x227)]('\x0a')[_0x2afc9e(0x219)](_0x4ec06a=>{const _0x4ef455=_0x2afc9e;try{return _0x556ab6='',JSON[_0x4ef455(0x1ee)](_0x4ec06a);}catch(_0x161d6c){return _0x556ab6=_0x4ec06a,null;}})[_0x2afc9e(0x223)](_0x258999=>null!==_0x258999);_0x19bd50[_0x2afc9e(0x230)]&&(_0x22a281+=_0x19bd50[_0x2afc9e(0x219)](_0x15da51=>this[_0x2afc9e(0x23c)](_0x15da51,_0x2bfd36))[_0x2afc9e(0x21d)](''),_0x369a06(_0x22a281));}return Promise[_0x2afc9e(0x205)]();}async[_0x50580e(0x20e)](_0x841678,_0x567048,_0x17ec9b){const _0x33acbd=_0x50580e;let _0x418c50;return _0x418c50=_0x841678 instanceof Response?await _0x841678[_0x33acbd(0x1ed)]():JSON[_0x33acbd(0x1ee)](Buffer[_0x33acbd(0x238)](_0x841678[_0x33acbd(0x216)])[_0x33acbd(0x1f8)](_0x33acbd(0x1fe))),(_0x17ec9b(this[_0x33acbd(0x23c)](_0x418c50,_0x567048)),Promise[_0x33acbd(0x205)]());}[_0x50580e(0x23c)](_0x166390,_0x563284){const _0x4df0a2=_0x50580e;switch(this[_0x4df0a2(0x226)](_0x563284)){case _0x4df0a2(0x206):return _0x166390[_0x4df0a2(0x215)];case _0x4df0a2(0x20a):return _0x166390[_0x4df0a2(0x21c)][0x0][_0x4df0a2(0x217)][_0x4df0a2(0x209)];case _0x4df0a2(0x1f6):return _0x166390[_0x4df0a2(0x234)][0x0][_0x4df0a2(0x209)];case _0x4df0a2(0x200):return _0x166390[_0x4df0a2(0x203)];}}}