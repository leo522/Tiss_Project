/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{View as _0xee2b79}from'ckeditor5/src/ui.js';import{scrollAncestorsToShowTarget as _0x128f86}from'ckeditor5/src/utils.js';import _0x3d3a82 from'./documentoutlineitemview.js';export default class h extends _0xee2b79{constructor(_0x40dc82,_0x79911e=!0x1,_0xe44144){super(_0x40dc82);const t=_0x40dc82['t'];this['showEmptyHeadingText']=_0x79911e,this['set']('activeItemIndex',-0x1),this['_documentOutlineContainer']=_0xe44144,this['items']=this['createCollection'](),this['items']['delegate']('click')['to'](this),this['on']('click',this['_handleItemClick']['bind'](this)),this['on']('change:activeItemIndex',(_0x35f3f8,_0xd94737,_0x4b8933,_0x257c76)=>{this['_setActiveItem'](_0x257c76,_0x4b8933);}),this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-reset','ck-document-outline'],'dir':_0x40dc82['contentLanguageDirection'],'data-document-outline-empty-placeholder':t('Editor\x20headings\x20will\x20appear\x20here\x20as\x20you\x20type.'),'tabindex':-0x1},'children':this['items']});}['sync'](_0xe9197b){_0xe9197b['forEach'](_0x19c62e=>{'insert'==_0x19c62e['type']?this['_insertItem'](_0x19c62e['index'],..._0x19c62e['values']):'delete'==_0x19c62e['type']&&this['_deleteItem'](_0x19c62e['index'],_0x19c62e['howMany']);});}['_setActiveItem'](_0x8a1994,_0x32068c){if(-0x1!==_0x8a1994){const _0x52b119=this['items']['get'](_0x8a1994);_0x52b119&&(_0x52b119['isActive']=!0x1);}-0x1!==_0x32068c&&(this['items']['get'](_0x32068c)['isActive']=!0x0,this['_scrollToItem'](_0x32068c));}['_insertItem'](_0x26bf93,..._0x38454f){const _0x5343e6=_0x38454f['map']((_0x253566,_0x36a79d)=>{const _0x32c384=new _0x3d3a82(this['locale'],this['showEmptyHeadingText']);return _0x32c384['text']=_0x253566['text'],_0x32c384['level']=_0x253566['level'],_0x26bf93+_0x36a79d===this['activeItemIndex']&&(_0x32c384['isActive']=!0x0),_0x32c384;});this['items']['addMany'](_0x5343e6,_0x26bf93);}['_deleteItem'](_0x41a6af,_0x4d6b30){do{this['items']['remove'](_0x41a6af);}while(--_0x4d6b30);}['_handleItemClick'](_0x2779b6){const _0x59f739=this['items']['getIndex'](_0x2779b6['source']);this['fire']('itemSelected',_0x59f739);}['_scrollToItem'](_0x6f24d2){_0x128f86(this['items']['get'](_0x6f24d2)['element'],0x14,this['_documentOutlineContainer']);}['destroy'](){super['destroy'](),this['element']['remove']();}}