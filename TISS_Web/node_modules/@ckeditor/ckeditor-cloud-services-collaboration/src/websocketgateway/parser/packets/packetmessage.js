/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x5dd60c from'./../../../messagescompressor.js';import _0x49e627 from'./../../../message.js';import _0x5dae85 from'./packetoptionsmessage.js';import _0x57df7d from'./../parserutils.js';import _0xdff544 from'./numberbytespacketdatamessage.js';import _0x473bdd from'./stringbytespacketdatamessage.js';import _0x2d95f4 from'./bytesbytespacketdatamessage.js';import _0x7fe9fa from'./stringobjectpacketdatamessage.js';import _0x1d2aa5 from'./numberobjectpacketdatamessage.js';import _0x1598da from'./objectobjectpacketdatamessage.js';import _0x470b09 from'./objectbufferpacketdatamessage.js';import _0x2a1a9b from'./stringstringpacketdatamessage.js';import _0x4339da from'./stringnumberpacketdatamessage.js';import _0xbb7a9e from'./numbernumberpacketdatamessag.js';import _0xc04ce6 from'./numberstringpacketdatamessag.js';const PACKET_DATA_MESSAGES=/* #__PURE__ -- @preserve */
((()=>[_0xdff544,_0x473bdd,_0x2d95f4,_0x7fe9fa,_0x1d2aa5,_0x1598da,_0x470b09,_0x2a1a9b,_0x4339da,_0xbb7a9e,_0xc04ce6]['reduce']((_0x36e005,_0x920f6d)=>(_0x36e005[_0x920f6d['TYPE']]=_0x920f6d,_0x36e005),{}))());class PacketMessage extends _0x49e627{constructor(_0x329b39,_0x40899c,_0x384a70,_0x22b31e='/',_0x4d7a8d){super(),this['type']=_0x329b39,this['data']=_0x40899c,this['id']=_0x384a70,this['nsp']=_0x22b31e,this['options']=null!=_0x4d7a8d?_0x4d7a8d:new _0x5dae85();}get['packetData'](){return void 0x0===this['data']['data']&&void 0x0===this['data']['data1']?[]:this['data']['data']&&void 0x0===this['data']['data1']?[this['data']['data']]:[this['data']['data'],this['data']['data1']];}['toJSON'](){const _0x1be477=_0x5dd60c['encode'](this['options']),_0x24bb25=_0x5dd60c['encode'](this['data']);return{'type':this['type']+0xa*this['data']['constructor']['TYPE'],'id':this['id'],'nsp':'/'===this['nsp']?void 0x0:this['nsp'],'data':_0x24bb25,'options':_0x1be477};}static['fromJSON'](_0x2c202d){const _0x39c422=Math['floor'](_0x2c202d['type']/0xa);return new PacketMessage(_0x2c202d['type']-0xa*_0x39c422,_0x5dd60c['decode'](_0x2c202d['data'],PACKET_DATA_MESSAGES[_0x39c422]),_0x2c202d['id'],_0x2c202d['nsp'],_0x2c202d['options']?_0x5dd60c['decode'](_0x2c202d['options'],_0x5dae85):new _0x5dae85());}static['create'](_0x22e672,_0x12b24e={}){var _0x54e7f6;const _0x2cf9d1=_0x57df7d['getPacketType'](_0x57df7d['getType'](_0x22e672['data'][0x0]),_0x57df7d['getType'](null!==(_0x54e7f6=_0x22e672['data'][0x1])&&void 0x0!==_0x54e7f6?_0x54e7f6:_0x22e672['data'][0x0]));return new PacketMessage(_0x22e672['type'],PACKET_DATA_MESSAGES[_0x2cf9d1]['create'](_0x22e672['data'][0x0],_0x22e672['data'][0x1]),_0x22e672['id'],_0x22e672['nsp'],new _0x5dae85(_0x12b24e['flags'],_0x12b24e['rooms'],_0x12b24e['except']));}}PacketMessage['TYPE']=0xa,PacketMessage['DESCRIPTOR_NAME']='PacketMessage',PacketMessage['DESCRIPTOR']={'fields':{'type':{'type':'uint32','id':0x1},'id':{'type':'uint32','id':0x2},'nsp':{'type':'string','id':0x3},'data':{'type':'bytes','id':0x4},'options':{'type':'bytes','id':0x5}}};export default PacketMessage;